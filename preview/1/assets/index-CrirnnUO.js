(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function z0(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function o(){var c=!1;try{c=this instanceof o}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var c=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,c.get?c:{enumerable:!0,get:function(){return i[o]}})}),s}var Nh={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function R0(){if(Ap)return Dl;Ap=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(o,c,d){var g=null;if(d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),"key"in c){d={};for(var v in c)v!=="key"&&(d[v]=c[v])}else d=c;return c=d.ref,{$$typeof:i,type:o,key:g,ref:c!==void 0?c:null,props:d}}return Dl.Fragment=n,Dl.jsx=s,Dl.jsxs=s,Dl}var Cp;function P0(){return Cp||(Cp=1,Nh.exports=R0()),Nh.exports}var h=P0(),kh={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function D0(){if(Mp)return He;Mp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),j=Symbol.iterator;function k(O){return O===null||typeof O!="object"?null:(O=j&&O[j]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,z={};function D(O,Q,ce){this.props=O,this.context=Q,this.refs=z,this.updater=ce||A}D.prototype.isReactComponent={},D.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function I(){}I.prototype=D.prototype;function H(O,Q,ce){this.props=O,this.context=Q,this.refs=z,this.updater=ce||A}var B=H.prototype=new I;B.constructor=H,M(B,D.prototype),B.isPureReactComponent=!0;var J=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function xe(O,Q,ce,de,_e,he){return ce=he.ref,{$$typeof:i,type:O,key:Q,ref:ce!==void 0?ce:null,props:he}}function Re(O,Q){return xe(O.type,Q,void 0,void 0,void 0,O.props)}function be(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function fe(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return Q[ce]})}var Ee=/\/+/g;function Ae(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?fe(""+O.key):Q.toString(36)}function zt(){}function rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(zt,zt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function pe(O,Q,ce,de,_e){var he=typeof O;(he==="undefined"||he==="boolean")&&(O=null);var me=!1;if(O===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(O.$$typeof){case i:case n:me=!0;break;case w:return me=O._init,pe(me(O._payload),Q,ce,de,_e)}}if(me)return _e=_e(O),me=de===""?"."+Ae(O,0):de,J(_e)?(ce="",me!=null&&(ce=me.replace(Ee,"$&/")+"/"),pe(_e,Q,ce,"",function(Pn){return Pn})):_e!=null&&(be(_e)&&(_e=Re(_e,ce+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(Ee,"$&/")+"/")+me)),Q.push(_e)),1;me=0;var pt=de===""?".":de+":";if(J(O))for(var Ze=0;Ze<O.length;Ze++)de=O[Ze],he=pt+Ae(de,Ze),me+=pe(de,Q,ce,he,_e);else if(Ze=k(O),typeof Ze=="function")for(O=Ze.call(O),Ze=0;!(de=O.next()).done;)de=de.value,he=pt+Ae(de,Ze++),me+=pe(de,Q,ce,he,_e);else if(he==="object"){if(typeof O.then=="function")return pe(rt(O),Q,ce,de,_e);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(O,Q,ce){if(O==null)return O;var de=[],_e=0;return pe(O,de,"","",function(he){return Q.call(ce,he,_e++)}),de}function ue(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return He.Children={map:Y,forEach:function(O,Q,ce){Y(O,function(){Q.apply(this,arguments)},ce)},count:function(O){var Q=0;return Y(O,function(){Q++}),Q},toArray:function(O){return Y(O,function(Q){return Q})||[]},only:function(O){if(!be(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=D,He.Fragment=s,He.Profiler=c,He.PureComponent=H,He.StrictMode=o,He.Suspense=y,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,He.__COMPILER_RUNTIME={__proto__:null,c:function(O){return K.H.useMemoCache(O)}},He.cache=function(O){return function(){return O.apply(null,arguments)}},He.cloneElement=function(O,Q,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var de=M({},O.props),_e=O.key,he=void 0;if(Q!=null)for(me in Q.ref!==void 0&&(he=void 0),Q.key!==void 0&&(_e=""+Q.key),Q)!oe.call(Q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Q.ref===void 0||(de[me]=Q[me]);var me=arguments.length-2;if(me===1)de.children=ce;else if(1<me){for(var pt=Array(me),Ze=0;Ze<me;Ze++)pt[Ze]=arguments[Ze+2];de.children=pt}return xe(O.type,_e,void 0,void 0,he,de)},He.createContext=function(O){return O={$$typeof:g,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},He.createElement=function(O,Q,ce){var de,_e={},he=null;if(Q!=null)for(de in Q.key!==void 0&&(he=""+Q.key),Q)oe.call(Q,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(_e[de]=Q[de]);var me=arguments.length-2;if(me===1)_e.children=ce;else if(1<me){for(var pt=Array(me),Ze=0;Ze<me;Ze++)pt[Ze]=arguments[Ze+2];_e.children=pt}if(O&&O.defaultProps)for(de in me=O.defaultProps,me)_e[de]===void 0&&(_e[de]=me[de]);return xe(O,he,void 0,void 0,null,_e)},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:v,render:O}},He.isValidElement=be,He.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:ue}},He.memo=function(O,Q){return{$$typeof:x,type:O,compare:Q===void 0?null:Q}},He.startTransition=function(O){var Q=K.T,ce={};K.T=ce;try{var de=O(),_e=K.S;_e!==null&&_e(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Le,re)}catch(he){re(he)}finally{K.T=Q}},He.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},He.use=function(O){return K.H.use(O)},He.useActionState=function(O,Q,ce){return K.H.useActionState(O,Q,ce)},He.useCallback=function(O,Q){return K.H.useCallback(O,Q)},He.useContext=function(O){return K.H.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O,Q){return K.H.useDeferredValue(O,Q)},He.useEffect=function(O,Q,ce){var de=K.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(O,Q)},He.useId=function(){return K.H.useId()},He.useImperativeHandle=function(O,Q,ce){return K.H.useImperativeHandle(O,Q,ce)},He.useInsertionEffect=function(O,Q){return K.H.useInsertionEffect(O,Q)},He.useLayoutEffect=function(O,Q){return K.H.useLayoutEffect(O,Q)},He.useMemo=function(O,Q){return K.H.useMemo(O,Q)},He.useOptimistic=function(O,Q){return K.H.useOptimistic(O,Q)},He.useReducer=function(O,Q,ce){return K.H.useReducer(O,Q,ce)},He.useRef=function(O){return K.H.useRef(O)},He.useState=function(O){return K.H.useState(O)},He.useSyncExternalStore=function(O,Q,ce){return K.H.useSyncExternalStore(O,Q,ce)},He.useTransition=function(){return K.H.useTransition()},He.version="19.1.0",He}var Op;function ff(){return Op||(Op=1,kh.exports=D0()),kh.exports}var N=ff();const yt=Pc(N);var Ah={exports:{}},Bl={},Ch={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function B0(){return Lp||(Lp=1,function(i){function n(Y,ue){var re=Y.length;Y.push(ue);e:for(;0<re;){var Le=re-1>>>1,O=Y[Le];if(0<c(O,ue))Y[Le]=ue,Y[re]=O,re=Le;else break e}}function s(Y){return Y.length===0?null:Y[0]}function o(Y){if(Y.length===0)return null;var ue=Y[0],re=Y.pop();if(re!==ue){Y[0]=re;e:for(var Le=0,O=Y.length,Q=O>>>1;Le<Q;){var ce=2*(Le+1)-1,de=Y[ce],_e=ce+1,he=Y[_e];if(0>c(de,re))_e<O&&0>c(he,de)?(Y[Le]=he,Y[_e]=re,Le=_e):(Y[Le]=de,Y[ce]=re,Le=ce);else if(_e<O&&0>c(he,re))Y[Le]=he,Y[_e]=re,Le=_e;else break e}}return ue}function c(Y,ue){var re=Y.sortIndex-ue.sortIndex;return re!==0?re:Y.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var g=Date,v=g.now();i.unstable_now=function(){return g.now()-v}}var y=[],x=[],w=1,j=null,k=3,A=!1,M=!1,z=!1,D=!1,I=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function J(Y){for(var ue=s(x);ue!==null;){if(ue.callback===null)o(x);else if(ue.startTime<=Y)o(x),ue.sortIndex=ue.expirationTime,n(y,ue);else break;ue=s(x)}}function K(Y){if(z=!1,J(Y),!M)if(s(y)!==null)M=!0,oe||(oe=!0,Ae());else{var ue=s(x);ue!==null&&pe(K,ue.startTime-Y)}}var oe=!1,xe=-1,Re=5,be=-1;function fe(){return D?!0:!(i.unstable_now()-be<Re)}function Ee(){if(D=!1,oe){var Y=i.unstable_now();be=Y;var ue=!0;try{e:{M=!1,z&&(z=!1,H(xe),xe=-1),A=!0;var re=k;try{t:{for(J(Y),j=s(y);j!==null&&!(j.expirationTime>Y&&fe());){var Le=j.callback;if(typeof Le=="function"){j.callback=null,k=j.priorityLevel;var O=Le(j.expirationTime<=Y);if(Y=i.unstable_now(),typeof O=="function"){j.callback=O,J(Y),ue=!0;break t}j===s(y)&&o(y),J(Y)}else o(y);j=s(y)}if(j!==null)ue=!0;else{var Q=s(x);Q!==null&&pe(K,Q.startTime-Y),ue=!1}}break e}finally{j=null,k=re,A=!1}ue=void 0}}finally{ue?Ae():oe=!1}}}var Ae;if(typeof B=="function")Ae=function(){B(Ee)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,rt=zt.port2;zt.port1.onmessage=Ee,Ae=function(){rt.postMessage(null)}}else Ae=function(){I(Ee,0)};function pe(Y,ue){xe=I(function(){Y(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_next=function(Y){switch(k){case 1:case 2:case 3:var ue=3;break;default:ue=k}var re=k;k=ue;try{return Y()}finally{k=re}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=k;k=Y;try{return ue()}finally{k=re}},i.unstable_scheduleCallback=function(Y,ue,re){var Le=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Le+re:Le):re=Le,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=re+O,Y={id:w++,callback:ue,priorityLevel:Y,startTime:re,expirationTime:O,sortIndex:-1},re>Le?(Y.sortIndex=re,n(x,Y),s(y)===null&&Y===s(x)&&(z?(H(xe),xe=-1):z=!0,pe(K,re-Le))):(Y.sortIndex=O,n(y,Y),M||A||(M=!0,oe||(oe=!0,Ae()))),Y},i.unstable_shouldYield=fe,i.unstable_wrapCallback=function(Y){var ue=k;return function(){var re=k;k=ue;try{return Y.apply(this,arguments)}finally{k=re}}}}(Mh)),Mh}var zp;function U0(){return zp||(zp=1,Ch.exports=B0()),Ch.exports}var Oh={exports:{}},wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Z0(){if(Rp)return wn;Rp=1;var i=ff();function n(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)x+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,x,w){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:j==null?null:""+j,children:y,containerInfo:x,implementation:w}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,wn.createPortal=function(y,x){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return d(y,x,null,w)},wn.flushSync=function(y){var x=g.T,w=o.p;try{if(g.T=null,o.p=2,y)return y()}finally{g.T=x,o.p=w,o.d.f()}},wn.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,o.d.C(y,x))},wn.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},wn.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var w=x.as,j=v(w,x.crossOrigin),k=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;w==="style"?o.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:j,integrity:k,fetchPriority:A}):w==="script"&&o.d.X(y,{crossOrigin:j,integrity:k,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},wn.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var w=v(x.as,x.crossOrigin);o.d.M(y,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&o.d.M(y)},wn.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var w=x.as,j=v(w,x.crossOrigin);o.d.L(y,w,{crossOrigin:j,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},wn.preloadModule=function(y,x){if(typeof y=="string")if(x){var w=v(x.as,x.crossOrigin);o.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else o.d.m(y)},wn.requestFormReset=function(y){o.d.r(y)},wn.unstable_batchedUpdates=function(y,x){return y(x)},wn.useFormState=function(y,x,w){return g.H.useFormState(y,x,w)},wn.useFormStatus=function(){return g.H.useHostTransitionStatus()},wn.version="19.1.0",wn}var Pp;function Q_(){if(Pp)return Oh.exports;Pp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Oh.exports=Z0(),Oh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function $0(){if(Dp)return Bl;Dp=1;var i=U0(),n=ff(),s=Q_();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(o(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,u=t;;){var m=r.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===r)return v(m),e;if(p===u)return v(m),t;p=p.sibling}throw Error(o(188))}if(r.return!==u.return)r=m,u=p;else{for(var S=!1,E=m.child;E;){if(E===r){S=!0,r=m,u=p;break}if(E===u){S=!0,u=m,r=p;break}E=E.sibling}if(!S){for(E=p.child;E;){if(E===r){S=!0,r=p,u=m;break}if(E===u){S=!0,u=p,r=m;break}E=E.sibling}if(!S)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,j=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),B=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case D:return"Profiler";case z:return"StrictMode";case K:return"Suspense";case oe:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case B:return(e.displayName||"Context")+".Provider";case H:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xe:return t=e.displayName||null,t!==null?t:rt(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return rt(e(t))}catch{}}return null}var pe=Array.isArray,Y=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function Q(e){return{current:e}}function ce(e){0>O||(e.current=Le[O],Le[O]=null,O--)}function de(e,t){O++,Le[O]=e.current,e.current=t}var _e=Q(null),he=Q(null),me=Q(null),pt=Q(null);function Ze(e,t){switch(de(me,t),de(he,e),de(_e,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ip(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ip(t),e=ap(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ce(_e),de(_e,e)}function Pn(){ce(_e),ce(he),ce(me)}function Xi(e){e.memoizedState!==null&&de(pt,e);var t=_e.current,r=ap(t,e.type);t!==r&&(de(he,e),de(_e,r))}function ji(e){he.current===e&&(ce(_e),ce(he)),pt.current===e&&(ce(pt),Ol._currentValue=re)}var Xn=Object.prototype.hasOwnProperty,Wi=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,Cr=i.unstable_shouldYield,Mr=i.unstable_requestPaint,_n=i.unstable_now,Qa=i.unstable_getCurrentPriorityLevel,Or=i.unstable_ImmediatePriority,Ys=i.unstable_UserBlockingPriority,Qi=i.unstable_NormalPriority,Lr=i.unstable_LowPriority,Vs=i.unstable_IdlePriority,Ho=i.log,qo=i.unstable_setDisableYieldValue,Ti=null,Rt=null;function jn(e){if(typeof Ho=="function"&&qo(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Ti,e)}catch{}}var Vt=Math.clz32?Math.clz32:zr,Tn=Math.log,Ks=Math.LN2;function zr(e){return e>>>=0,e===0?32:31-(Tn(e)/Ks|0)|0}var xa=256,Ei=4194304;function En(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ba(e,t,r){var u=e.pendingLanes;if(u===0)return 0;var m=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=u&134217727;return E!==0?(u=E&~p,u!==0?m=En(u):(S&=E,S!==0?m=En(S):r||(r=E&~e,r!==0&&(m=En(r))))):(E=u&~p,E!==0?m=En(E):S!==0?m=En(S):r||(r=u&~e,r!==0&&(m=En(r)))),m===0?0:t!==0&&t!==m&&(t&p)===0&&(p=m&-m,r=t&-t,p>=r||p===32&&(r&4194048)!==0)?t:m}function Dn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Io(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var e=xa;return xa<<=1,(xa&4194048)===0&&(xa=256),e}function Ja(){var e=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),e}function es(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ji(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xs(e,t,r,u,m,p){var S=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,P=e.expirationTimes,F=e.hiddenUpdates;for(r=S&~r;0<r;){var ee=31-Vt(r),ie=1<<ee;E[ee]=0,P[ee]=-1;var V=F[ee];if(V!==null)for(F[ee]=null,ee=0;ee<V.length;ee++){var X=V[ee];X!==null&&(X.lane&=-536870913)}r&=~ie}u!==0&&ea(e,u,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~t))}function ea(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-Vt(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|r&4194090}function ts(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var u=31-Vt(r),m=1<<u;m&t|e[u]&t&&(e[u]|=t),r&=~m}}function wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ta(){var e=ue.p;return e!==0?e:(e=window.event,e===void 0?32:Sp(e.type))}function Ws(e,t){var r=ue.p;try{return ue.p=e,t()}finally{ue.p=r}}var fi=Math.random().toString(36).slice(2),Bt="__reactFiber$"+fi,Kt="__reactProps$"+fi,na="__reactContainer$"+fi,ln="__reactEvents$"+fi,je="__reactListeners$"+fi,mi="__reactHandles$"+fi,Qs="__reactResources$"+fi,ia="__reactMarker$"+fi;function ns(e){delete e[Bt],delete e[Kt],delete e[ln],delete e[je],delete e[mi]}function gi(e){var t=e[Bt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[na]||r[Bt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lp(e);e!==null;){if(r=e[Bt])return r;e=lp(e)}return t}e=r,r=e.parentNode}return null}function Ni(e){if(e=e[Bt]||e[na]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function At(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ki(e){var t=e[Qs];return t||(t=e[Qs]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ct(e){e[ia]=!0}var Rr=new Set,Pr={};function Ai(e,t){un(e,t),un(e+"Capture",t)}function un(e,t){for(Pr[e]=t,e=0;e<t.length;e++)Rr.add(t[e])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ja={},Dr={};function Fo(e){return Xn.call(Dr,e)?!0:Xn.call(ja,e)?!1:Go.test(e)?Dr[e]=!0:(ja[e]=!0,!1)}function is(e,t,r){if(Fo(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ci(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Wn(e,t,r,u){if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+u)}}var Ta,cn;function Mi(e){if(Ta===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||"",cn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+e+cn}var as=!1;function Oi(e,t){if(!e||as)return"";as=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var V=X}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(X){V=X}e.call(ie.prototype)}}else{try{throw Error()}catch(X){V=X}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&V&&typeof X.stack=="string")return[X.stack,V.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],E=p[1];if(S&&E){var P=S.split(`
`),F=E.split(`
`);for(m=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;m<F.length&&!F[m].includes("DetermineComponentFrameRoot");)m++;if(u===P.length||m===F.length)for(u=P.length-1,m=F.length-1;1<=u&&0<=m&&P[u]!==F[m];)m--;for(;1<=u&&0<=m;u--,m--)if(P[u]!==F[m]){if(u!==1||m!==1)do if(u--,m--,0>m||P[u]!==F[m]){var ee=`
`+P[u].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=u&&0<=m);break}}}finally{as=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Mi(r):""}function Xe(e){switch(e.tag){case 26:case 27:case 5:return Mi(e.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return Oi(e.type,!1);case 11:return Oi(e.type.render,!1);case 1:return Oi(e.type,!0);case 31:return Mi("Activity");default:return""}}function ot(e){try{var t="";do t+=Xe(e),e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bn(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aa(e){var t=Bn(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,p=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return m.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Un(e){e._valueTracker||(e._valueTracker=aa(e))}function Be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),u="";return e&&(u=Bn(e)?e.checked?"true":"false":e.value),e=u,e!==r?(t.setValue(e),!0):!1}function nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Js=/[\n"\\]/g;function Gt(e){return e.replace(Js,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xt(e,t,r,u,m,p,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?Li(e,S,It(t)):r!=null?Li(e,S,It(r)):u!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+It(E):e.removeAttribute("name")}function Br(e,t,r,u,m,p,S,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||t!=null))return;r=r!=null?""+It(r):"",t=t!=null?""+It(t):r,E||t===e.value||(e.value=t),e.defaultValue=t}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=E?e.checked:!!u,e.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function Li(e,t,r){t==="number"&&nt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function vn(e,t,r,u){if(e=e.options,t){t={};for(var m=0;m<r.length;m++)t["$"+r[m]]=!0;for(r=0;r<e.length;r++)m=t.hasOwnProperty("$"+e[r].value),e[r].selected!==m&&(e[r].selected=m),m&&u&&(e[r].defaultSelected=!0)}else{for(r=""+It(r),t=null,m=0;m<e.length;m++){if(e[m].value===r){e[m].selected=!0,u&&(e[m].defaultSelected=!0);return}t!==null||e[m].disabled||(t=e[m])}t!==null&&(t.selected=!0)}}function _t(e,t,r){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+It(r):""}function Qn(e,t,r,u){if(t==null){if(u!=null){if(r!=null)throw Error(o(92));if(pe(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),t=r}r=It(t),e.defaultValue=r,u=e.textContent,u===r&&u!==""&&u!==null&&(e.value=u)}function dn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ss(e,t,r){var u=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,r):typeof r!="number"||r===0||Zn.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function sa(e,t,r){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var m in t)u=t[m],t.hasOwnProperty(m)&&r[m]!==u&&ss(e,m,u)}else for(var p in t)t.hasOwnProperty(p)&&ss(e,p,t[p])}function yn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var er=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ea=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hn=null,Jn=null;function Ur(e){var t=Ni(e);if(t&&(e=t.stateNode)){var r=e[Kt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var u=r[t];if(u!==e&&u.form===e.form){var m=u[Kt]||null;if(!m)throw Error(o(90));Xt(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(t=0;t<r.length;t++)u=r[t],u.form===e.form&&Be(u)}break e;case"textarea":_t(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&vn(e,!!r.multiple,t,!1)}}}var Me=!1;function Nn(e,t,r){if(Me)return e(t,r);Me=!0;try{var u=e(t);return u}finally{if(Me=!1,(hn!==null||Jn!==null)&&(Xu(),hn&&(t=hn,e=Jn,Jn=hn=null,Ur(t),e)))for(t=0;t<e.length;t++)Ur(e[t])}}function We(e,t){var r=e.stateNode;if(r===null)return null;var u=r[Kt]||null;if(u===null)return null;r=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=!1;if($n)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){la=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{la=!1}var kn=null,fn=null,zi=null;function ua(){if(zi)return zi;var e,t=fn,r=t.length,u,m="value"in kn?kn.value:kn.textContent,p=m.length;for(e=0;e<r&&t[e]===m[e];e++);var S=r-e;for(u=1;u<=S&&t[r-u]===m[p-u];u++);return zi=m.slice(e,1<u?1-u:void 0)}function bt(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function C(){return!1}function Z(e){function t(r,u,m,p,S){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Hn:C,this.isPropagationStopped=C,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ve=Z(ne),Qe=w({},ne,{view:0,detail:0}),Ue=Z(Qe),it,Ne,vt,qe=w({},Qe,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vt&&(vt&&e.type==="mousemove"?(it=e.screenX-vt.screenX,Ne=e.screenY-vt.screenY):Ne=it=0,vt=e),it)},movementY:function(e){return"movementY"in e?e.movementY:Ne}}),Mt=Z(qe),xn=w({},qe,{dataTransfer:0}),Ut=Z(xn),Wt=w({},Qe,{relatedTarget:0}),Qt=Z(Wt),ei=w({},ne,{animationName:0,elapsedTime:0,pseudoElement:0}),ti=Z(ei),Ri=w({},ne,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),os=Z(Ri),ls=w({},ne,{data:0}),Jt=Z(ls),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ca[e])?!!t[e]:!1}function Zr(){return ru}var Yo=w({},Qe,{key:function(e){if(e.key){var t=Ic[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?bt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gc=Z(Yo),ou=w({},qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=Z(ou),Fc=w({},Qe,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Yc=Z(Fc),Ko=w({},ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=Z(Ko),lu=w({},qe,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uu=Z(lu),$r=w({},ne,{newState:0,oldState:0}),Na=Z($r),Kc=[9,13,27,32],ka=$n&&"CompositionEvent"in window,en=null;$n&&"documentMode"in document&&(en=document.documentMode);var cu=$n&&"TextEvent"in window&&!en,Xo=$n&&(!ka||en&&8<en&&11>=en),du=" ",Hr=!1;function qr(e,t){switch(e){case"keyup":return Kc.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var us=!1;function fu(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(Hr=!0,du);case"textInput":return e=t.data,e===du&&Hr?null:e;default:return null}}function Xc(e,t){if(us)return e==="compositionend"||!ka&&qr(e,t)?(e=ua(),zi=fn=kn=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xo&&t.locale!=="ko"?null:t.data;default:return null}}var ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ni[e.type]:t==="textarea"}function mu(e,t,r,u){hn?Jn?Jn.push(u):Jn=[u]:hn=u,t=nc(t,"onChange"),0<t.length&&(r=new ve("onChange","change",null,r,u),e.push({event:r,listeners:t}))}var An=null,tr=null;function cs(e){Qg(e,0)}function Ir(e){var t=At(e);if(Be(t))return e}function ds(e,t){if(e==="change")return t}var Wo=!1;if($n){var hs;if($n){var Qo="oninput"in document;if(!Qo){var Pi=document.createElement("div");Pi.setAttribute("oninput","return;"),Qo=typeof Pi.oninput=="function"}hs=Qo}else hs=!1;Wo=hs&&(!document.documentMode||9<document.documentMode)}function nr(){An&&(An.detachEvent("onpropertychange",gu),tr=An=null)}function gu(e){if(e.propertyName==="value"&&Ir(tr)){var t=[];mu(t,tr,e,oa(e)),Nn(cs,t)}}function Jo(e,t,r){e==="focusin"?(nr(),An=t,tr=r,An.attachEvent("onpropertychange",gu)):e==="focusout"&&nr()}function Wc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ir(tr)}function Di(e,t){if(e==="click")return Ir(t)}function Qc(e,t){if(e==="input"||e==="change")return Ir(t)}function fs(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:fs;function Mn(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),u=Object.keys(t);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Xn.call(t,m)||!Cn(e[m],t[m]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function el(e,t){var r=ir(e);e=0;for(var u;r;){if(r.nodeType===3){if(u=e+r.textContent.length,e<=t&&u>=t)return{node:r,offset:t-e};e=u}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function Gr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ar(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nt(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nt(e.document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fr=$n&&"documentMode"in document&&11>=document.documentMode,ii=null,ms=null,Ca=null,Yr=!1;function pu(e,t,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yr||ii==null||ii!==nt(u)||(u=ii,"selectionStart"in u&&sr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ca&&Mn(Ca,u)||(Ca=u,u=nc(ms,"onSelect"),0<u.length&&(t=new ve("onSelect","select",null,t,r),e.push({event:t,listeners:u}),t.target=ii)))}function _i(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gs={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Vr={},_u={};$n&&(_u=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function da(e){if(Vr[e])return Vr[e];if(!gs[e])return e;var t=gs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _u)return Vr[e]=t[r];return e}var vu=da("animationend"),ai=da("animationiteration"),rr=da("animationstart"),Jc=da("transitionrun"),Kr=da("transitionstart"),ed=da("transitioncancel"),tl=da("transitionend"),yu=new Map,Ma="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ma.push("scrollEnd");function si(e,t){yu.set(e,t),Ai(t,[e])}var Oa=new WeakMap;function On(e,t){if(typeof e=="object"&&e!==null){var r=Oa.get(e);return r!==void 0?r:(t={value:e,source:t,stack:ot(t)},Oa.set(e,t),t)}return{value:e,source:t,stack:ot(t)}}var Ln=[],ps=0,ri=0;function or(){for(var e=ps,t=ri=ps=0;t<e;){var r=Ln[t];Ln[t++]=null;var u=Ln[t];Ln[t++]=null;var m=Ln[t];Ln[t++]=null;var p=Ln[t];if(Ln[t++]=null,u!==null&&m!==null){var S=u.pending;S===null?m.next=m:(m.next=S.next,S.next=m),u.pending=m}p!==0&&ur(r,m,p)}}function lr(e,t,r,u){Ln[ps++]=e,Ln[ps++]=t,Ln[ps++]=r,Ln[ps++]=u,ri|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function La(e,t,r,u){return lr(e,t,r,u),ha(e)}function _s(e,t){return lr(e,null,null,t),ha(e)}function ur(e,t,r){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r);for(var m=!1,p=e.return;p!==null;)p.childLanes|=r,u=p.alternate,u!==null&&(u.childLanes|=r),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&t!==null&&(m=31-Vt(r),e=p.hiddenUpdates,u=e[m],u===null?e[m]=[t]:u.push(t),t.lane=r|536870912),p):null}function ha(e){if(50<jl)throw jl=0,Wd=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function xu(e,t,r,u){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,u){return new xu(e,t,r,u)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vi(e,t){var r=e.alternate;return r===null?(r=zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function nl(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cr(e,t,r,u,m,p){var S=0;if(u=e,typeof e=="function")Xr(e)&&(S=1);else if(typeof e=="string")S=b0(e,r,_e.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=zn(31,r,t,m),e.elementType=be,e.lanes=p,e;case M:return fa(r.children,m,p,t);case z:S=8,m|=24;break;case D:return e=zn(12,r,t,m|2),e.elementType=D,e.lanes=p,e;case K:return e=zn(13,r,t,m),e.elementType=K,e.lanes=p,e;case oe:return e=zn(19,r,t,m),e.elementType=oe,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:case B:S=10;break e;case H:S=9;break e;case J:S=11;break e;case xe:S=14;break e;case Re:S=16,u=null;break e}S=29,r=Error(o(130,e===null?"null":typeof e,"")),u=null}return t=zn(S,r,t,m),t.elementType=e,t.type=u,t.lanes=p,t}function fa(e,t,r,u){return e=zn(7,e,u,t),e.lanes=r,e}function il(e,t,r){return e=zn(6,e,null,t),e.lanes=r,e}function Wr(e,t,r){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ra=[],vs=0,a=null,l=0,f=[],_=0,b=null,T=1,R="";function q(e,t){Ra[vs++]=l,Ra[vs++]=a,a=e,l=t}function W(e,t,r){f[_++]=T,f[_++]=R,f[_++]=b,b=e;var u=T;e=R;var m=32-Vt(u)-1;u&=~(1<<m),r+=1;var p=32-Vt(t)+m;if(30<p){var S=m-m%5;p=(u&(1<<S)-1).toString(32),u>>=S,m-=S,T=1<<32-Vt(t)+m|r<<m|u,R=p+e}else T=1<<p|r<<m|u,R=e}function se(e){e.return!==null&&(q(e,1),W(e,1,0))}function ye(e){for(;e===a;)a=Ra[--vs],Ra[vs]=null,l=Ra[--vs],Ra[vs]=null;for(;e===b;)b=f[--_],f[_]=null,R=f[--_],f[_]=null,T=f[--_],f[_]=null}var we=null,Te=null,De=!1,ht=null,Et=!1,tn=Error(o(519));function qn(e){var t=Error(o(418,""));throw xs(On(t,e)),tn}function bu(e){var t=e.stateNode,r=e.type,u=e.memoizedProps;switch(t[Bt]=e,t[Kt]=u,r){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(r=0;r<El.length;r++)Ve(El[r],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),Br(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Un(t);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),Qn(t,u.value,u.defaultValue,u.children),Un(t)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||u.suppressHydrationWarning===!0||np(t.textContent,r)?(u.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),u.onScroll!=null&&Ve("scroll",t),u.onScrollEnd!=null&&Ve("scrollend",t),u.onClick!=null&&(t.onclick=ic),t=!0):t=!1,t||qn(e)}function wu(e){for(we=e.return;we;)switch(we.tag){case 5:case 13:Et=!1;return;case 27:case 3:Et=!0;return;default:we=we.return}}function dr(e){if(e!==we)return!1;if(!De)return wu(e),De=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fh(e.type,e.memoizedProps)),r=!r),r&&Te&&qn(e),wu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(t===0){Te=$i(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++;e=e.nextSibling}Te=null}}else t===27?(t=Te,Rs(e.type)?(e=_h,_h=null,Te=e):Te=t):Te=we?$i(e.stateNode.nextSibling):null;return!0}function ys(){Te=we=null,De=!1}function Su(){var e=ht;return e!==null&&(Fn===null?Fn=e:Fn.push.apply(Fn,e),ht=null),e}function xs(e){ht===null?ht=[e]:ht.push(e)}var wt=Q(null),yi=null,Bi=null;function ma(e,t,r){de(wt,t._currentValue),t._currentValue=r}function Ui(e){e._currentValue=wt.current,ce(wt)}function hr(e,t,r){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===r)break;e=e.return}}function Qr(e,t,r,u){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var S=m.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=m;for(var P=0;P<t.length;P++)if(E.context===t[P]){p.lanes|=r,E=p.alternate,E!==null&&(E.lanes|=r),hr(p.return,r,e),u||(S=null);break e}p=E.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(o(341));S.lanes|=r,p=S.alternate,p!==null&&(p.lanes|=r),hr(S,r,e),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===e){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function fr(e,t,r,u){e=null;for(var m=t,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var E=m.type;Cn(m.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(m===pt.current){if(S=m.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}m=m.return}e!==null&&Qr(t,e,r,u),t.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mr(e){yi=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bn(e){return Hf(yi,e)}function Tu(e,t){return yi===null&&mr(e),Hf(e,t)}function Hf(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Bi===null){if(e===null)throw Error(o(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return r}var xy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},by=i.unstable_scheduleCallback,wy=i.unstable_NormalPriority,Ft={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new xy,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&by(wy,function(){e.controller.abort()})}var sl=null,nd=0,Jr=0,eo=null;function Sy(e,t){if(sl===null){var r=sl=[];nd=0,Jr=ah(),eo={status:"pending",value:void 0,then:function(u){r.push(u)}}}return nd++,t.then(qf,qf),t}function qf(){if(--nd===0&&sl!==null){eo!==null&&(eo.status="fulfilled");var e=sl;sl=null,Jr=0,eo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jy(e,t){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var m=0;m<r.length;m++)(0,r[m])(t)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var If=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Sy(e,t),If!==null&&If(e,t)};var gr=Q(null);function id(){var e=gr.current;return e!==null?e:ft.pooledCache}function Eu(e,t){t===null?de(gr,gr.current):de(gr,t.pool)}function Gf(){var e=id();return e===null?null:{parent:Ft._currentValue,pool:e}}var rl=Error(o(460)),Ff=Error(o(474)),Nu=Error(o(542)),ad={then:function(){}};function Yf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ku(){}function Vf(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(ku,ku),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xf(e),e;default:if(typeof t.status=="string")t.then(ku,ku);else{if(e=ft,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var m=t;m.status="fulfilled",m.value=u}},function(u){if(t.status==="pending"){var m=t;m.status="rejected",m.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xf(e),e}throw ol=t,rl}}var ol=null;function Kf(){if(ol===null)throw Error(o(459));var e=ol;return ol=null,e}function Xf(e){if(e===rl||e===Nu)throw Error(o(483))}var bs=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,t,r){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var m=u.pending;return m===null?t.next=t:(t.next=m.next,m.next=t),u.pending=t,t=ha(e),ur(e,null,r),t}return lr(e,u,t,r),ha(e)}function ll(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,r|=u,t.lanes=r,ts(e,r)}}function od(e,t){var r=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var S={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?m=p=S:p=p.next=S,r=r.next}while(r!==null);p===null?m=p=t:p=p.next=t}else m=p=t;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ld=!1;function ul(){if(ld){var e=eo;if(e!==null)throw e}}function cl(e,t,r,u){ld=!1;var m=e.updateQueue;bs=!1;var p=m.firstBaseUpdate,S=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var P=E,F=P.next;P.next=null,S===null?p=F:S.next=F,S=P;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==S&&(E===null?ee.firstBaseUpdate=F:E.next=F,ee.lastBaseUpdate=P))}if(p!==null){var ie=m.baseState;S=0,ee=F=P=null,E=p;do{var V=E.lane&-536870913,X=V!==E.lane;if(X?(Je&V)===V:(u&V)===V){V!==0&&V===Jr&&(ld=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Pe=e,Oe=E;V=t;var ct=r;switch(Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){ie=Pe.call(ct,ie,V);break e}ie=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,V=typeof Pe=="function"?Pe.call(ct,ie,V):Pe,V==null)break e;ie=w({},ie,V);break e;case 2:bs=!0}}V=E.callback,V!==null&&(e.flags|=64,X&&(e.flags|=8192),X=m.callbacks,X===null?m.callbacks=[V]:X.push(V))}else X={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(F=ee=X,P=ie):ee=ee.next=X,S|=V;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;X=E,E=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);ee===null&&(P=ie),m.baseState=P,m.firstBaseUpdate=F,m.lastBaseUpdate=ee,p===null&&(m.shared.lanes=0),Ms|=S,e.lanes=S,e.memoizedState=ie}}function Wf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Qf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Wf(r[e],t)}var to=Q(null),Au=Q(0);function Jf(e,t){e=Ha,de(Au,e),de(to,t),Ha=e|t.baseLanes}function ud(){de(Au,Ha),de(to,to.current)}function cd(){Ha=Au.current,ce(to),ce(Au)}var js=0,Ge=null,lt=null,Zt=null,Cu=!1,no=!1,pr=!1,Mu=0,dl=0,io=null,Ty=0;function Pt(){throw Error(o(321))}function dd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cn(e[r],t[r]))return!1;return!0}function hd(e,t,r,u,m,p){return js=p,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?Pm:Dm,pr=!1,p=r(u,m),pr=!1,no&&(p=tm(t,r,u,m)),em(e),p}function em(e){Y.H=Du;var t=lt!==null&&lt.next!==null;if(js=0,Zt=lt=Ge=null,Cu=!1,dl=0,io=null,t)throw Error(o(300));e===null||nn||(e=e.dependencies,e!==null&&ju(e)&&(nn=!0))}function tm(e,t,r,u){Ge=e;var m=0;do{if(no&&(io=null),dl=0,no=!1,25<=m)throw Error(o(301));if(m+=1,Zt=lt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=Oy,p=t(r,u)}while(no);return p}function Ey(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?hl(t):t,e=e.useState()[0],(lt!==null?lt.memoizedState:null)!==e&&(Ge.flags|=1024),t}function fd(){var e=Mu!==0;return Mu=0,e}function md(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function gd(e){if(Cu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cu=!1}js=0,Zt=lt=Ge=null,no=!1,dl=Mu=0,io=null}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ge.memoizedState=Zt=e:Zt=Zt.next=e,Zt}function $t(){if(lt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=Zt===null?Ge.memoizedState:Zt.next;if(t!==null)Zt=t,lt=e;else{if(e===null)throw Ge.alternate===null?Error(o(467)):Error(o(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Zt===null?Ge.memoizedState=Zt=e:Zt=Zt.next=e}return Zt}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(e){var t=dl;return dl+=1,io===null&&(io=[]),e=Vf(io,e,t),t=Ge,(Zt===null?t.memoizedState:Zt.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?Pm:Dm),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hl(e);if(e.$$typeof===B)return bn(e)}throw Error(o(438,String(e)))}function _d(e){var t=null,r=Ge.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(m){return m.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=pd(),Ge.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),u=0;u<e;u++)r[u]=fe;return t.index++,r}function Pa(e,t){return typeof t=="function"?t(e):t}function Lu(e){var t=$t();return vd(t,lt,e)}function vd(e,t,r){var u=e.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var m=e.baseQueue,p=u.pending;if(p!==null){if(m!==null){var S=m.next;m.next=p.next,p.next=S}t.baseQueue=m=p,u.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{t=m.next;var E=S=null,P=null,F=t,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Je&ie)===ie:(js&ie)===ie){var V=F.revertLane;if(V===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Jr&&(ee=!0);else if((js&V)===V){F=F.next,V===Jr&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(E=P=ie,S=p):P=P.next=ie,Ge.lanes|=V,Ms|=V;ie=F.action,pr&&r(p,ie),p=F.hasEagerState?F.eagerState:r(p,ie)}else V={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},P===null?(E=P=V,S=p):P=P.next=V,Ge.lanes|=ie,Ms|=ie;F=F.next}while(F!==null&&F!==t);if(P===null?S=p:P.next=E,!Cn(p,e.memoizedState)&&(nn=!0,ee&&(r=eo,r!==null)))throw r;e.memoizedState=p,e.baseState=S,e.baseQueue=P,u.lastRenderedState=p}return m===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function yd(e){var t=$t(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var u=r.dispatch,m=r.pending,p=t.memoizedState;if(m!==null){r.pending=null;var S=m=m.next;do p=e(p,S.action),S=S.next;while(S!==m);Cn(p,t.memoizedState)||(nn=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),r.lastRenderedState=p}return[p,u]}function nm(e,t,r){var u=Ge,m=$t(),p=De;if(p){if(r===void 0)throw Error(o(407));r=r()}else r=t();var S=!Cn((lt||m).memoizedState,r);S&&(m.memoizedState=r,nn=!0),m=m.queue;var E=sm.bind(null,u,m,e);if(fl(2048,8,E,[e]),m.getSnapshot!==t||S||Zt!==null&&Zt.memoizedState.tag&1){if(u.flags|=2048,ao(9,zu(),am.bind(null,u,m,r,t),null),ft===null)throw Error(o(349));p||(js&124)!==0||im(u,t,r)}return r}function im(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ge.updateQueue,t===null?(t=pd(),Ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function am(e,t,r,u){t.value=r,t.getSnapshot=u,rm(t)&&om(e)}function sm(e,t,r){return r(function(){rm(t)&&om(e)})}function rm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cn(e,r)}catch{return!0}}function om(e){var t=_s(e,2);t!==null&&di(t,e,2)}function xd(e){var t=In();if(typeof e=="function"){var r=e;if(e=r(),pr){jn(!0);try{r()}finally{jn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t}function lm(e,t,r,u){return e.baseState=r,vd(e,lt,typeof u=="function"?u:Pa)}function Ny(e,t,r,u,m){if(Pu(e))throw Error(o(485));if(e=t.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};Y.T!==null?r(!0):p.isTransition=!1,u(p),r=t.pending,r===null?(p.next=t.pending=p,um(t,p)):(p.next=r.next,t.pending=r.next=p)}}function um(e,t){var r=t.action,u=t.payload,m=e.state;if(t.isTransition){var p=Y.T,S={};Y.T=S;try{var E=r(m,u),P=Y.S;P!==null&&P(S,E),cm(e,t,E)}catch(F){bd(e,t,F)}finally{Y.T=p}}else try{p=r(m,u),cm(e,t,p)}catch(F){bd(e,t,F)}}function cm(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){dm(e,t,u)},function(u){return bd(e,t,u)}):dm(e,t,r)}function dm(e,t,r){t.status="fulfilled",t.value=r,hm(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,um(e,r)))}function bd(e,t,r){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=r,hm(t),t=t.next;while(t!==u)}e.action=null}function hm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fm(e,t){return t}function mm(e,t){if(De){var r=ft.formState;if(r!==null){e:{var u=Ge;if(De){if(Te){t:{for(var m=Te,p=Et;m.nodeType!==8;){if(!p){m=null;break t}if(m=$i(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Te=$i(m.nextSibling),u=m.data==="F!";break e}}qn(u)}u=!1}u&&(t=r[0])}}return r=In(),r.memoizedState=r.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fm,lastRenderedState:t},r.queue=u,r=Lm.bind(null,Ge,u),u.dispatch=r,u=xd(!1),p=Ed.bind(null,Ge,!1,u.queue),u=In(),m={state:t,dispatch:null,action:e,pending:null},u.queue=m,r=Ny.bind(null,Ge,m,p,r),m.dispatch=r,u.memoizedState=e,[t,r,!1]}function gm(e){var t=$t();return pm(t,lt,e)}function pm(e,t,r){if(t=vd(e,t,fm)[0],e=Lu(Pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=hl(t)}catch(S){throw S===rl?Nu:S}else u=t;t=$t();var m=t.queue,p=m.dispatch;return r!==t.memoizedState&&(Ge.flags|=2048,ao(9,zu(),ky.bind(null,m,r),null)),[u,p,e]}function ky(e,t){e.action=t}function _m(e){var t=$t(),r=lt;if(r!==null)return pm(t,r,e);$t(),t=t.memoizedState,r=$t();var u=r.queue.dispatch;return r.memoizedState=e,[t,u,!1]}function ao(e,t,r,u){return e={tag:e,create:r,deps:u,inst:t,next:null},t=Ge.updateQueue,t===null&&(t=pd(),Ge.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(u=r.next,r.next=e,e.next=u,t.lastEffect=e),e}function zu(){return{destroy:void 0,resource:void 0}}function vm(){return $t().memoizedState}function Ru(e,t,r,u){var m=In();u=u===void 0?null:u,Ge.flags|=e,m.memoizedState=ao(1|t,zu(),r,u)}function fl(e,t,r,u){var m=$t();u=u===void 0?null:u;var p=m.memoizedState.inst;lt!==null&&u!==null&&dd(u,lt.memoizedState.deps)?m.memoizedState=ao(t,p,r,u):(Ge.flags|=e,m.memoizedState=ao(1|t,p,r,u))}function ym(e,t){Ru(8390656,8,e,t)}function xm(e,t){fl(2048,8,e,t)}function bm(e,t){return fl(4,2,e,t)}function wm(e,t){return fl(4,4,e,t)}function Sm(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jm(e,t,r){r=r!=null?r.concat([e]):null,fl(4,4,Sm.bind(null,t,e),r)}function wd(){}function Tm(e,t){var r=$t();t=t===void 0?null:t;var u=r.memoizedState;return t!==null&&dd(t,u[1])?u[0]:(r.memoizedState=[e,t],e)}function Em(e,t){var r=$t();t=t===void 0?null:t;var u=r.memoizedState;if(t!==null&&dd(t,u[1]))return u[0];if(u=e(),pr){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[u,t],u}function Sd(e,t,r){return r===void 0||(js&1073741824)!==0?e.memoizedState=t:(e.memoizedState=r,e=Ag(),Ge.lanes|=e,Ms|=e,r)}function Nm(e,t,r,u){return Cn(r,t)?r:to.current!==null?(e=Sd(e,r,u),Cn(e,t)||(nn=!0),e):(js&42)===0?(nn=!0,e.memoizedState=r):(e=Ag(),Ge.lanes|=e,Ms|=e,t)}function km(e,t,r,u,m){var p=ue.p;ue.p=p!==0&&8>p?p:8;var S=Y.T,E={};Y.T=E,Ed(e,!1,t,r);try{var P=m(),F=Y.S;if(F!==null&&F(E,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ee=jy(P,u);ml(e,t,ee,ci(e))}else ml(e,t,u,ci(e))}catch(ie){ml(e,t,{then:function(){},status:"rejected",reason:ie},ci())}finally{ue.p=p,Y.T=S}}function Ay(){}function jd(e,t,r,u){if(e.tag!==5)throw Error(o(476));var m=Am(e).queue;km(e,m,t,re,r===null?Ay:function(){return Cm(e),r(u)})}function Am(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:re},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Cm(e){var t=Am(e).next.queue;ml(e,t,{},ci())}function Td(){return bn(Ol)}function Mm(){return $t().memoizedState}function Om(){return $t().memoizedState}function Cy(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=ci();e=ws(r);var u=Ss(t,e,r);u!==null&&(di(u,t,r),ll(u,t,r)),t={cache:td()},e.payload=t;return}t=t.return}}function My(e,t,r){var u=ci();r={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Pu(e)?zm(t,r):(r=La(e,t,r,u),r!==null&&(di(r,e,u),Rm(r,t,u)))}function Lm(e,t,r){var u=ci();ml(e,t,r,u)}function ml(e,t,r,u){var m={lane:u,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))zm(t,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,E=p(S,r);if(m.hasEagerState=!0,m.eagerState=E,Cn(E,S))return lr(e,t,m,0),ft===null&&or(),!1}catch{}finally{}if(r=La(e,t,m,u),r!==null)return di(r,e,u),Rm(r,t,u),!0}return!1}function Ed(e,t,r,u){if(u={lane:2,revertLane:ah(),action:u,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(t)throw Error(o(479))}else t=La(e,r,u,2),t!==null&&di(t,e,2)}function Pu(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function zm(e,t){no=Cu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rm(e,t,r){if((r&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,r|=u,t.lanes=r,ts(e,r)}}var Du={readContext:bn,use:Ou,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Pm={readContext:bn,use:Ou,useCallback:function(e,t){return In().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:ym,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Ru(4194308,4,Sm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ru(4194308,4,e,t)},useInsertionEffect:function(e,t){Ru(4,2,e,t)},useMemo:function(e,t){var r=In();t=t===void 0?null:t;var u=e();if(pr){jn(!0);try{e()}finally{jn(!1)}}return r.memoizedState=[u,t],u},useReducer:function(e,t,r){var u=In();if(r!==void 0){var m=r(t);if(pr){jn(!0);try{r(t)}finally{jn(!1)}}}else m=t;return u.memoizedState=u.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},u.queue=e,e=e.dispatch=My.bind(null,Ge,e),[u.memoizedState,e]},useRef:function(e){var t=In();return e={current:e},t.memoizedState=e},useState:function(e){e=xd(e);var t=e.queue,r=Lm.bind(null,Ge,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:wd,useDeferredValue:function(e,t){var r=In();return Sd(r,e,t)},useTransition:function(){var e=xd(!1);return e=km.bind(null,Ge,e.queue,!0,!1),In().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var u=Ge,m=In();if(De){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),ft===null)throw Error(o(349));(Je&124)!==0||im(u,t,r)}m.memoizedState=r;var p={value:r,getSnapshot:t};return m.queue=p,ym(sm.bind(null,u,p,e),[e]),u.flags|=2048,ao(9,zu(),am.bind(null,u,p,r,t),null),r},useId:function(){var e=In(),t=ft.identifierPrefix;if(De){var r=R,u=T;r=(u&~(1<<32-Vt(u)-1)).toString(32)+r,t=""+t+"R"+r,r=Mu++,0<r&&(t+="H"+r.toString(32)),t+=""}else r=Ty++,t=""+t+"r"+r.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Td,useFormState:mm,useActionState:mm,useOptimistic:function(e){var t=In();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ed.bind(null,Ge,!0,r),r.dispatch=t,[e,t]},useMemoCache:_d,useCacheRefresh:function(){return In().memoizedState=Cy.bind(null,Ge)}},Dm={readContext:bn,use:Ou,useCallback:Tm,useContext:bn,useEffect:xm,useImperativeHandle:jm,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Em,useReducer:Lu,useRef:vm,useState:function(){return Lu(Pa)},useDebugValue:wd,useDeferredValue:function(e,t){var r=$t();return Nm(r,lt.memoizedState,e,t)},useTransition:function(){var e=Lu(Pa)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:hl(e),t]},useSyncExternalStore:nm,useId:Mm,useHostTransitionStatus:Td,useFormState:gm,useActionState:gm,useOptimistic:function(e,t){var r=$t();return lm(r,lt,e,t)},useMemoCache:_d,useCacheRefresh:Om},Oy={readContext:bn,use:Ou,useCallback:Tm,useContext:bn,useEffect:xm,useImperativeHandle:jm,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:Em,useReducer:yd,useRef:vm,useState:function(){return yd(Pa)},useDebugValue:wd,useDeferredValue:function(e,t){var r=$t();return lt===null?Sd(r,e,t):Nm(r,lt.memoizedState,e,t)},useTransition:function(){var e=yd(Pa)[0],t=$t().memoizedState;return[typeof e=="boolean"?e:hl(e),t]},useSyncExternalStore:nm,useId:Mm,useHostTransitionStatus:Td,useFormState:_m,useActionState:_m,useOptimistic:function(e,t){var r=$t();return lt!==null?lm(r,lt,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Om},so=null,gl=0;function Bu(e){var t=gl;return gl+=1,so===null&&(so=[]),Vf(so,e,t)}function pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Uu(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Bm(e){var t=e._init;return t(e._payload)}function Um(e){function t($,U){if(e){var G=$.deletions;G===null?($.deletions=[U],$.flags|=16):G.push(U)}}function r($,U){if(!e)return null;for(;U!==null;)t($,U),U=U.sibling;return null}function u($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function m($,U){return $=vi($,U),$.index=0,$.sibling=null,$}function p($,U,G){return $.index=G,e?(G=$.alternate,G!==null?(G=G.index,G<U?($.flags|=67108866,U):G):($.flags|=67108866,U)):($.flags|=1048576,U)}function S($){return e&&$.alternate===null&&($.flags|=67108866),$}function E($,U,G,te){return U===null||U.tag!==6?(U=il(G,$.mode,te),U.return=$,U):(U=m(U,G),U.return=$,U)}function P($,U,G,te){var Se=G.type;return Se===M?ee($,U,G.props.children,te,G.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Re&&Bm(Se)===U.type)?(U=m(U,G.props),pl(U,G),U.return=$,U):(U=cr(G.type,G.key,G.props,null,$.mode,te),pl(U,G),U.return=$,U)}function F($,U,G,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Wr(G,$.mode,te),U.return=$,U):(U=m(U,G.children||[]),U.return=$,U)}function ee($,U,G,te,Se){return U===null||U.tag!==7?(U=fa(G,$.mode,te,Se),U.return=$,U):(U=m(U,G),U.return=$,U)}function ie($,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=il(""+U,$.mode,G),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case k:return G=cr(U.type,U.key,U.props,null,$.mode,G),pl(G,U),G.return=$,G;case A:return U=Wr(U,$.mode,G),U.return=$,U;case Re:var te=U._init;return U=te(U._payload),ie($,U,G)}if(pe(U)||Ae(U))return U=fa(U,$.mode,G,null),U.return=$,U;if(typeof U.then=="function")return ie($,Bu(U),G);if(U.$$typeof===B)return ie($,Tu($,U),G);Uu($,U)}return null}function V($,U,G,te){var Se=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:E($,U,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case k:return G.key===Se?P($,U,G,te):null;case A:return G.key===Se?F($,U,G,te):null;case Re:return Se=G._init,G=Se(G._payload),V($,U,G,te)}if(pe(G)||Ae(G))return Se!==null?null:ee($,U,G,te,null);if(typeof G.then=="function")return V($,U,Bu(G),te);if(G.$$typeof===B)return V($,U,Tu($,G),te);Uu($,G)}return null}function X($,U,G,te,Se){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return $=$.get(G)||null,E(U,$,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return $=$.get(te.key===null?G:te.key)||null,P(U,$,te,Se);case A:return $=$.get(te.key===null?G:te.key)||null,F(U,$,te,Se);case Re:var Fe=te._init;return te=Fe(te._payload),X($,U,G,te,Se)}if(pe(te)||Ae(te))return $=$.get(G)||null,ee(U,$,te,Se,null);if(typeof te.then=="function")return X($,U,G,Bu(te),Se);if(te.$$typeof===B)return X($,U,G,Tu(U,te),Se);Uu(U,te)}return null}function Pe($,U,G,te){for(var Se=null,Fe=null,ke=U,ze=U=0,sn=null;ke!==null&&ze<G.length;ze++){ke.index>ze?(sn=ke,ke=null):sn=ke.sibling;var tt=V($,ke,G[ze],te);if(tt===null){ke===null&&(ke=sn);break}e&&ke&&tt.alternate===null&&t($,ke),U=p(tt,U,ze),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt,ke=sn}if(ze===G.length)return r($,ke),De&&q($,ze),Se;if(ke===null){for(;ze<G.length;ze++)ke=ie($,G[ze],te),ke!==null&&(U=p(ke,U,ze),Fe===null?Se=ke:Fe.sibling=ke,Fe=ke);return De&&q($,ze),Se}for(ke=u(ke);ze<G.length;ze++)sn=X(ke,$,ze,G[ze],te),sn!==null&&(e&&sn.alternate!==null&&ke.delete(sn.key===null?ze:sn.key),U=p(sn,U,ze),Fe===null?Se=sn:Fe.sibling=sn,Fe=sn);return e&&ke.forEach(function(Zs){return t($,Zs)}),De&&q($,ze),Se}function Oe($,U,G,te){if(G==null)throw Error(o(151));for(var Se=null,Fe=null,ke=U,ze=U=0,sn=null,tt=G.next();ke!==null&&!tt.done;ze++,tt=G.next()){ke.index>ze?(sn=ke,ke=null):sn=ke.sibling;var Zs=V($,ke,tt.value,te);if(Zs===null){ke===null&&(ke=sn);break}e&&ke&&Zs.alternate===null&&t($,ke),U=p(Zs,U,ze),Fe===null?Se=Zs:Fe.sibling=Zs,Fe=Zs,ke=sn}if(tt.done)return r($,ke),De&&q($,ze),Se;if(ke===null){for(;!tt.done;ze++,tt=G.next())tt=ie($,tt.value,te),tt!==null&&(U=p(tt,U,ze),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt);return De&&q($,ze),Se}for(ke=u(ke);!tt.done;ze++,tt=G.next())tt=X(ke,$,ze,tt.value,te),tt!==null&&(e&&tt.alternate!==null&&ke.delete(tt.key===null?ze:tt.key),U=p(tt,U,ze),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt);return e&&ke.forEach(function(L0){return t($,L0)}),De&&q($,ze),Se}function ct($,U,G,te){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case k:e:{for(var Se=G.key;U!==null;){if(U.key===Se){if(Se=G.type,Se===M){if(U.tag===7){r($,U.sibling),te=m(U,G.props.children),te.return=$,$=te;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Re&&Bm(Se)===U.type){r($,U.sibling),te=m(U,G.props),pl(te,G),te.return=$,$=te;break e}r($,U);break}else t($,U);U=U.sibling}G.type===M?(te=fa(G.props.children,$.mode,te,G.key),te.return=$,$=te):(te=cr(G.type,G.key,G.props,null,$.mode,te),pl(te,G),te.return=$,$=te)}return S($);case A:e:{for(Se=G.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){r($,U.sibling),te=m(U,G.children||[]),te.return=$,$=te;break e}else{r($,U);break}else t($,U);U=U.sibling}te=Wr(G,$.mode,te),te.return=$,$=te}return S($);case Re:return Se=G._init,G=Se(G._payload),ct($,U,G,te)}if(pe(G))return Pe($,U,G,te);if(Ae(G)){if(Se=Ae(G),typeof Se!="function")throw Error(o(150));return G=Se.call(G),Oe($,U,G,te)}if(typeof G.then=="function")return ct($,U,Bu(G),te);if(G.$$typeof===B)return ct($,U,Tu($,G),te);Uu($,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(r($,U.sibling),te=m(U,G),te.return=$,$=te):(r($,U),te=il(G,$.mode,te),te.return=$,$=te),S($)):r($,U)}return function($,U,G,te){try{gl=0;var Se=ct($,U,G,te);return so=null,Se}catch(ke){if(ke===rl||ke===Nu)throw ke;var Fe=zn(29,ke,null,$.mode);return Fe.lanes=te,Fe.return=$,Fe}finally{}}}var ro=Um(!0),Zm=Um(!1),xi=Q(null),ga=null;function Ts(e){var t=e.alternate;de(Yt,Yt.current&1),de(xi,e),ga===null&&(t===null||to.current!==null||t.memoizedState!==null)&&(ga=e)}function $m(e){if(e.tag===22){if(de(Yt,Yt.current),de(xi,e),ga===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ga=e)}}else Es()}function Es(){de(Yt,Yt.current),de(xi,xi.current)}function Da(e){ce(xi),ga===e&&(ga=null),ce(Yt)}var Yt=Q(0);function Zu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||ph(r)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Nd(e,t,r,u){t=e.memoizedState,r=r(u,t),r=r==null?t:w({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kd={enqueueSetState:function(e,t,r){e=e._reactInternals;var u=ci(),m=ws(u);m.payload=t,r!=null&&(m.callback=r),t=Ss(e,m,u),t!==null&&(di(t,e,u),ll(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var u=ci(),m=ws(u);m.tag=1,m.payload=t,r!=null&&(m.callback=r),t=Ss(e,m,u),t!==null&&(di(t,e,u),ll(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ci(),u=ws(r);u.tag=2,t!=null&&(u.callback=t),t=Ss(e,u,r),t!==null&&(di(t,e,r),ll(t,e,r))}};function Hm(e,t,r,u,m,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,S):t.prototype&&t.prototype.isPureReactComponent?!Mn(r,u)||!Mn(m,p):!0}function qm(e,t,r,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,u),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function _r(e,t){var r=t;if("ref"in t){r={};for(var u in t)u!=="ref"&&(r[u]=t[u])}if(e=e.defaultProps){r===t&&(r=w({},r));for(var m in e)r[m]===void 0&&(r[m]=e[m])}return r}var $u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Im(e){$u(e)}function Gm(e){console.error(e)}function Fm(e){$u(e)}function Hu(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function Ym(e,t,r){try{var u=e.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ad(e,t,r){return r=ws(r),r.tag=3,r.payload={element:null},r.callback=function(){Hu(e,t)},r}function Vm(e){return e=ws(e),e.tag=3,e}function Km(e,t,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;e.payload=function(){return m(p)},e.callback=function(){Ym(t,r,u)}}var S=r.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Ym(t,r,u),typeof m!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function Ly(e,t,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=r.alternate,t!==null&&fr(t,r,m,!0),r=xi.current,r!==null){switch(r.tag){case 13:return ga===null?Jd():r.alternate===null&&Ot===0&&(Ot=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===ad?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([u]):t.add(u),th(e,u,m)),!1;case 22:return r.flags|=65536,u===ad?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([u]):r.add(u)),th(e,u,m)),!1}throw Error(o(435,r.tag))}return th(e,u,m),Jd(),!1}if(De)return t=xi.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=m,u!==tn&&(e=Error(o(422),{cause:u}),xs(On(e,r)))):(u!==tn&&(t=Error(o(423),{cause:u}),xs(On(t,r))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,u=On(u,r),m=Ad(e.stateNode,u,m),od(e,m),Ot!==4&&(Ot=2)),!1;var p=Error(o(520),{cause:u});if(p=On(p,r),Sl===null?Sl=[p]:Sl.push(p),Ot!==4&&(Ot=2),t===null)return!0;u=On(u,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=m&-m,r.lanes|=e,e=Ad(r.stateNode,u,e),od(r,e),!1;case 1:if(t=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Os===null||!Os.has(p))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Vm(m),Km(m,e,r,u),od(r,m),!1}r=r.return}while(r!==null);return!1}var Xm=Error(o(461)),nn=!1;function mn(e,t,r,u){t.child=e===null?Zm(t,null,r,u):ro(t,e.child,r,u)}function Wm(e,t,r,u,m){r=r.render;var p=t.ref;if("ref"in u){var S={};for(var E in u)E!=="ref"&&(S[E]=u[E])}else S=u;return mr(t),u=hd(e,t,r,S,p,m),E=fd(),e!==null&&!nn?(md(e,t,m),Ba(e,t,m)):(De&&E&&se(t),t.flags|=1,mn(e,t,u,m),t.child)}function Qm(e,t,r,u,m){if(e===null){var p=r.type;return typeof p=="function"&&!Xr(p)&&p.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=p,Jm(e,t,p,u,m)):(e=cr(r.type,null,u,t,t.mode,m),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Dd(e,m)){var S=p.memoizedProps;if(r=r.compare,r=r!==null?r:Mn,r(S,u)&&e.ref===t.ref)return Ba(e,t,m)}return t.flags|=1,e=vi(p,u),e.ref=t.ref,e.return=t,t.child=e}function Jm(e,t,r,u,m){if(e!==null){var p=e.memoizedProps;if(Mn(p,u)&&e.ref===t.ref)if(nn=!1,t.pendingProps=u=p,Dd(e,m))(e.flags&131072)!==0&&(nn=!0);else return t.lanes=e.lanes,Ba(e,t,m)}return Cd(e,t,r,u,m)}function eg(e,t,r){var u=t.pendingProps,m=u.children,p=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((t.flags&128)!==0){if(u=p!==null?p.baseLanes|r:r,e!==null){for(m=t.child=e.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;t.childLanes=p&~u}else t.childLanes=0,t.child=null;return tg(e,t,u,r)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(t,p!==null?p.cachePool:null),p!==null?Jf(t,p):ud(),$m(t);else return t.lanes=t.childLanes=536870912,tg(e,t,p!==null?p.baseLanes|r:r,r)}else p!==null?(Eu(t,p.cachePool),Jf(t,p),Es(),t.memoizedState=null):(e!==null&&Eu(t,null),ud(),Es());return mn(e,t,m,r),t.child}function tg(e,t,r,u){var m=id();return m=m===null?null:{parent:Ft._currentValue,pool:m},t.memoizedState={baseLanes:r,cachePool:m},e!==null&&Eu(t,null),ud(),$m(t),e!==null&&fr(e,t,u,!0),null}function qu(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Cd(e,t,r,u,m){return mr(t),r=hd(e,t,r,u,void 0,m),u=fd(),e!==null&&!nn?(md(e,t,m),Ba(e,t,m)):(De&&u&&se(t),t.flags|=1,mn(e,t,r,m),t.child)}function ng(e,t,r,u,m,p){return mr(t),t.updateQueue=null,r=tm(t,u,r,m),em(e),u=fd(),e!==null&&!nn?(md(e,t,p),Ba(e,t,p)):(De&&u&&se(t),t.flags|=1,mn(e,t,r,p),t.child)}function ig(e,t,r,u,m){if(mr(t),t.stateNode===null){var p=za,S=r.contextType;typeof S=="object"&&S!==null&&(p=bn(S)),p=new r(u,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=kd,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=u,p.state=t.memoizedState,p.refs={},sd(t),S=r.contextType,p.context=typeof S=="object"&&S!==null?bn(S):za,p.state=t.memoizedState,S=r.getDerivedStateFromProps,typeof S=="function"&&(Nd(t,r,S,u),p.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&kd.enqueueReplaceState(p,p.state,null),cl(t,u,p,m),ul(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){p=t.stateNode;var E=t.memoizedProps,P=_r(r,E);p.props=P;var F=p.context,ee=r.contextType;S=za,typeof ee=="object"&&ee!==null&&(S=bn(ee));var ie=r.getDerivedStateFromProps;ee=typeof ie=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=t.pendingProps!==E,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||F!==S)&&qm(t,p,u,S),bs=!1;var V=t.memoizedState;p.state=V,cl(t,u,p,m),ul(),F=t.memoizedState,E||V!==F||bs?(typeof ie=="function"&&(Nd(t,r,ie,u),F=t.memoizedState),(P=bs||Hm(t,r,P,u,V,F,S))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=F),p.props=u,p.state=F,p.context=S,u=P):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{p=t.stateNode,rd(e,t),S=t.memoizedProps,ee=_r(r,S),p.props=ee,ie=t.pendingProps,V=p.context,F=r.contextType,P=za,typeof F=="object"&&F!==null&&(P=bn(F)),E=r.getDerivedStateFromProps,(F=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ie||V!==P)&&qm(t,p,u,P),bs=!1,V=t.memoizedState,p.state=V,cl(t,u,p,m),ul();var X=t.memoizedState;S!==ie||V!==X||bs||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(Nd(t,r,E,u),X=t.memoizedState),(ee=bs||Hm(t,r,ee,u,V,X,P)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,P)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=X),p.props=u,p.state=X,p.context=P,u=ee):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),u=!1)}return p=u,qu(e,t),u=(t.flags&128)!==0,p||u?(p=t.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&u?(t.child=ro(t,e.child,null,m),t.child=ro(t,null,r,m)):mn(e,t,r,m),t.memoizedState=p.state,e=t.child):e=Ba(e,t,m),e}function ag(e,t,r,u){return ys(),t.flags|=256,mn(e,t,r,u),t.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(e){return{baseLanes:e,cachePool:Gf()}}function Ld(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=bi),e}function sg(e,t,r){var u=t.pendingProps,m=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),S&&(m=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(m?Ts(t):Es(),De){var E=Te,P;if(P=E){e:{for(P=E,E=Et;P.nodeType!==8;){if(!E){E=null;break e}if(P=$i(P.nextSibling),P===null){E=null;break e}}E=P}E!==null?(t.memoizedState={dehydrated:E,treeContext:b!==null?{id:T,overflow:R}:null,retryLane:536870912,hydrationErrors:null},P=zn(18,null,null,0),P.stateNode=E,P.return=t,t.child=P,we=t,Te=null,P=!0):P=!1}P||qn(t)}if(E=t.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ph(E)?t.lanes=32:t.lanes=536870912,null;Da(t)}return E=u.children,u=u.fallback,m?(Es(),m=t.mode,E=Iu({mode:"hidden",children:E},m),u=fa(u,m,r,null),E.return=t,u.return=t,E.sibling=u,t.child=E,m=t.child,m.memoizedState=Od(r),m.childLanes=Ld(e,S,r),t.memoizedState=Md,u):(Ts(t),zd(t,E))}if(P=e.memoizedState,P!==null&&(E=P.dehydrated,E!==null)){if(p)t.flags&256?(Ts(t),t.flags&=-257,t=Rd(e,t,r)):t.memoizedState!==null?(Es(),t.child=e.child,t.flags|=128,t=null):(Es(),m=u.fallback,E=t.mode,u=Iu({mode:"visible",children:u.children},E),m=fa(m,E,r,null),m.flags|=2,u.return=t,m.return=t,u.sibling=m,t.child=u,ro(t,e.child,null,r),u=t.child,u.memoizedState=Od(r),u.childLanes=Ld(e,S,r),t.memoizedState=Md,t=m);else if(Ts(t),ph(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var F=S.dgst;S=F,u=Error(o(419)),u.stack="",u.digest=S,xs({value:u,source:null,stack:null}),t=Rd(e,t,r)}else if(nn||fr(e,t,r,!1),S=(r&e.childLanes)!==0,nn||S){if(S=ft,S!==null&&(u=r&-r,u=(u&42)!==0?1:wa(u),u=(u&(S.suspendedLanes|r))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,_s(e,u),di(S,e,u),Xm;E.data==="$?"||Jd(),t=Rd(e,t,r)}else E.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=P.treeContext,Te=$i(E.nextSibling),we=t,De=!0,ht=null,Et=!1,e!==null&&(f[_++]=T,f[_++]=R,f[_++]=b,T=e.id,R=e.overflow,b=t),t=zd(t,u.children),t.flags|=4096);return t}return m?(Es(),m=u.fallback,E=t.mode,P=e.child,F=P.sibling,u=vi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,F!==null?m=vi(F,m):(m=fa(m,E,r,null),m.flags|=2),m.return=t,u.return=t,u.sibling=m,t.child=u,u=m,m=t.child,E=e.child.memoizedState,E===null?E=Od(r):(P=E.cachePool,P!==null?(F=Ft._currentValue,P=P.parent!==F?{parent:F,pool:F}:P):P=Gf(),E={baseLanes:E.baseLanes|r,cachePool:P}),m.memoizedState=E,m.childLanes=Ld(e,S,r),t.memoizedState=Md,u):(Ts(t),r=e.child,e=r.sibling,r=vi(r,{mode:"visible",children:u.children}),r.return=t,r.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=r,t.memoizedState=null,r)}function zd(e,t){return t=Iu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Iu(e,t){return e=zn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Rd(e,t,r){return ro(t,e.child,null,r),e=zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rg(e,t,r){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),hr(e.return,t,r)}function Pd(e,t,r,u,m){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=r,p.tailMode=m)}function og(e,t,r){var u=t.pendingProps,m=u.revealOrder,p=u.tail;if(mn(e,t,u.children,r),u=Yt.current,(u&2)!==0)u=u&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,r,t);else if(e.tag===19)rg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(de(Yt,u),m){case"forwards":for(r=t.child,m=null;r!==null;)e=r.alternate,e!==null&&Zu(e)===null&&(m=r),r=r.sibling;r=m,r===null?(m=t.child,t.child=null):(m=r.sibling,r.sibling=null),Pd(t,!1,m,r,p);break;case"backwards":for(r=null,m=t.child,t.child=null;m!==null;){if(e=m.alternate,e!==null&&Zu(e)===null){t.child=m;break}e=m.sibling,m.sibling=r,r=m,m=e}Pd(t,!0,r,null,p);break;case"together":Pd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ms|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(fr(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=vi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function zy(e,t,r){switch(t.tag){case 3:Ze(t,t.stateNode.containerInfo),ma(t,Ft,e.memoizedState.cache),ys();break;case 27:case 5:Xi(t);break;case 4:Ze(t,t.stateNode.containerInfo);break;case 10:ma(t,t.type,t.memoizedProps.value);break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(Ts(t),t.flags|=128,null):(r&t.child.childLanes)!==0?sg(e,t,r):(Ts(t),e=Ba(e,t,r),e!==null?e.sibling:null);Ts(t);break;case 19:var m=(e.flags&128)!==0;if(u=(r&t.childLanes)!==0,u||(fr(e,t,r,!1),u=(r&t.childLanes)!==0),m){if(u)return og(e,t,r);t.flags|=128}if(m=t.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),de(Yt,Yt.current),u)break;return null;case 22:case 23:return t.lanes=0,eg(e,t,r);case 24:ma(t,Ft,e.memoizedState.cache)}return Ba(e,t,r)}function lg(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)nn=!0;else{if(!Dd(e,r)&&(t.flags&128)===0)return nn=!1,zy(e,t,r);nn=(e.flags&131072)!==0}else nn=!1,De&&(t.flags&1048576)!==0&&W(t,l,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var u=t.elementType,m=u._init;if(u=m(u._payload),t.type=u,typeof u=="function")Xr(u)?(e=_r(u,e),t.tag=1,t=ig(null,t,u,e,r)):(t.tag=0,t=Cd(null,t,u,e,r));else{if(u!=null){if(m=u.$$typeof,m===J){t.tag=11,t=Wm(null,t,u,e,r);break e}else if(m===xe){t.tag=14,t=Qm(null,t,u,e,r);break e}}throw t=rt(u)||u,Error(o(306,t,""))}}return t;case 0:return Cd(e,t,t.type,t.pendingProps,r);case 1:return u=t.type,m=_r(u,t.pendingProps),ig(e,t,u,m,r);case 3:e:{if(Ze(t,t.stateNode.containerInfo),e===null)throw Error(o(387));u=t.pendingProps;var p=t.memoizedState;m=p.element,rd(e,t),cl(t,u,null,r);var S=t.memoizedState;if(u=S.cache,ma(t,Ft,u),u!==p.cache&&Qr(t,[Ft],r,!0),ul(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=ag(e,t,u,r);break e}else if(u!==m){m=On(Error(o(424)),t),xs(m),t=ag(e,t,u,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=$i(e.firstChild),we=t,De=!0,ht=null,Et=!0,r=Zm(t,null,u,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ys(),u===m){t=Ba(e,t,r);break e}mn(e,t,u,r)}t=t.child}return t;case 26:return qu(e,t),e===null?(r=hp(t.type,null,t.pendingProps,null))?t.memoizedState=r:De||(r=t.type,e=t.pendingProps,u=ac(me.current).createElement(r),u[Bt]=t,u[Kt]=e,pn(u,r,e),Ct(u),t.stateNode=u):t.memoizedState=hp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xi(t),e===null&&De&&(u=t.stateNode=up(t.type,t.pendingProps,me.current),we=t,Et=!0,m=Te,Rs(t.type)?(_h=m,Te=$i(u.firstChild)):Te=m),mn(e,t,t.pendingProps.children,r),qu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((m=u=Te)&&(u=l0(u,t.type,t.pendingProps,Et),u!==null?(t.stateNode=u,we=t,Te=$i(u.firstChild),Et=!1,m=!0):m=!1),m||qn(t)),Xi(t),m=t.type,p=t.pendingProps,S=e!==null?e.memoizedProps:null,u=p.children,fh(m,p)?u=null:S!==null&&fh(m,S)&&(t.flags|=32),t.memoizedState!==null&&(m=hd(e,t,Ey,null,null,r),Ol._currentValue=m),qu(e,t),mn(e,t,u,r),t.child;case 6:return e===null&&De&&((e=r=Te)&&(r=u0(r,t.pendingProps,Et),r!==null?(t.stateNode=r,we=t,Te=null,e=!0):e=!1),e||qn(t)),null;case 13:return sg(e,t,r);case 4:return Ze(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=ro(t,null,u,r):mn(e,t,u,r),t.child;case 11:return Wm(e,t,t.type,t.pendingProps,r);case 7:return mn(e,t,t.pendingProps,r),t.child;case 8:return mn(e,t,t.pendingProps.children,r),t.child;case 12:return mn(e,t,t.pendingProps.children,r),t.child;case 10:return u=t.pendingProps,ma(t,t.type,u.value),mn(e,t,u.children,r),t.child;case 9:return m=t.type._context,u=t.pendingProps.children,mr(t),m=bn(m),u=u(m),t.flags|=1,mn(e,t,u,r),t.child;case 14:return Qm(e,t,t.type,t.pendingProps,r);case 15:return Jm(e,t,t.type,t.pendingProps,r);case 19:return og(e,t,r);case 31:return u=t.pendingProps,r=t.mode,u={mode:u.mode,children:u.children},e===null?(r=Iu(u,r),r.ref=t.ref,t.child=r,r.return=t,t=r):(r=vi(e.child,u),r.ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return eg(e,t,r);case 24:return mr(t),u=bn(Ft),e===null?(m=id(),m===null&&(m=ft,p=td(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=r),m=p),t.memoizedState={parent:u,cache:m},sd(t),ma(t,Ft,m)):((e.lanes&r)!==0&&(rd(e,t),cl(t,null,null,r),ul()),m=e.memoizedState,p=t.memoizedState,m.parent!==u?(m={parent:u,cache:u},t.memoizedState=m,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=m),ma(t,Ft,u)):(u=p.cache,ma(t,Ft,u),u!==m.cache&&Qr(t,[Ft],r,!0))),mn(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ua(e){e.flags|=4}function ug(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_p(t)){if(t=xi.current,t!==null&&((Je&4194048)===Je?ga!==null:(Je&62914560)!==Je&&(Je&536870912)===0||t!==ga))throw ol=ad,Ff;e.flags|=8192}}function Gu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ja():536870912,e.lanes|=t,co|=t)}function _l(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,u=0;if(t)for(var m=e.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=u,e.childLanes=r,t}function Ry(e,t,r){var u=t.pendingProps;switch(ye(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Nt(t),null;case 3:return r=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),Ui(Ft),Pn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dr(t)?Ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Su())),Nt(t),null;case 26:return r=t.memoizedState,e===null?(Ua(t),r!==null?(Nt(t),ug(t,r)):(Nt(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Ua(t),Nt(t),ug(t,r)):(Nt(t),t.flags&=-16777217):(e.memoizedProps!==u&&Ua(t),Nt(t),t.flags&=-16777217),null;case 27:ji(t),r=me.current;var m=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==u&&Ua(t);else{if(!u){if(t.stateNode===null)throw Error(o(166));return Nt(t),null}e=_e.current,dr(t)?bu(t):(e=up(m,u,r),t.stateNode=e,Ua(t))}return Nt(t),null;case 5:if(ji(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&Ua(t);else{if(!u){if(t.stateNode===null)throw Error(o(166));return Nt(t),null}if(e=_e.current,dr(t))bu(t);else{switch(m=ac(me.current),e){case 1:e=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?m.createElement("select",{is:u.is}):m.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?m.createElement(r,{is:u.is}):m.createElement(r)}}e[Bt]=t,e[Kt]=u;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)e.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=e;e:switch(pn(e,r,u),r){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ua(t)}}return Nt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&Ua(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,dr(t)){if(e=t.stateNode,r=t.memoizedProps,u=null,m=we,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||np(e.nodeValue,r)),e||qn(t)}else e=ac(e).createTextNode(u),e[Bt]=t,t.stateNode=e}return Nt(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=dr(t),u!==null&&u.dehydrated!==null){if(e===null){if(!m)throw Error(o(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[Bt]=t}else ys(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Nt(t),m=!1}else m=Su(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return t.flags&256?(Da(t),t):(Da(t),null)}if(Da(t),(t.flags&128)!==0)return t.lanes=r,t;if(r=u!==null,e=e!==null&&e.memoizedState!==null,r){u=t.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),Gu(t,t.updateQueue),Nt(t),null;case 4:return Pn(),e===null&&lh(t.stateNode.containerInfo),Nt(t),null;case 10:return Ui(t.type),Nt(t),null;case 19:if(ce(Yt),m=t.memoizedState,m===null)return Nt(t),null;if(u=(t.flags&128)!==0,p=m.rendering,p===null)if(u)_l(m,!1);else{if(Ot!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Zu(e),p!==null){for(t.flags|=128,_l(m,!1),e=p.updateQueue,t.updateQueue=e,Gu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)nl(r,e),r=r.sibling;return de(Yt,Yt.current&1|2),t.child}e=e.sibling}m.tail!==null&&_n()>Vu&&(t.flags|=128,u=!0,_l(m,!1),t.lanes=4194304)}else{if(!u)if(e=Zu(p),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Gu(t,e),_l(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!De)return Nt(t),null}else 2*_n()-m.renderingStartTime>Vu&&r!==536870912&&(t.flags|=128,u=!0,_l(m,!1),t.lanes=4194304);m.isBackwards?(p.sibling=t.child,t.child=p):(e=m.last,e!==null?e.sibling=p:t.child=p,m.last=p)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=_n(),t.sibling=null,e=Yt.current,de(Yt,u?e&1|2:e&1),t):(Nt(t),null);case 22:case 23:return Da(t),cd(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(r&536870912)!==0&&(t.flags&128)===0&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),r=t.updateQueue,r!==null&&Gu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==r&&(t.flags|=2048),e!==null&&ce(gr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ui(Ft),Nt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Py(e,t){switch(ye(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(Ft),Pn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ji(t),null;case 13:if(Da(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(Yt),null;case 4:return Pn(),null;case 10:return Ui(t.type),null;case 22:case 23:return Da(t),cd(),e!==null&&ce(gr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ui(Ft),null;case 25:return null;default:return null}}function cg(e,t){switch(ye(t),t.tag){case 3:Ui(Ft),Pn();break;case 26:case 27:case 5:ji(t);break;case 4:Pn();break;case 13:Da(t);break;case 19:ce(Yt);break;case 10:Ui(t.type);break;case 22:case 23:Da(t),cd(),e!==null&&ce(gr);break;case 24:Ui(Ft)}}function vl(e,t){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&e)===e){u=void 0;var p=r.create,S=r.inst;u=p(),S.destroy=u}r=r.next}while(r!==m)}}catch(E){dt(t,t.return,E)}}function Ns(e,t,r){try{var u=t.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&e)===e){var S=u.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,m=t;var P=r,F=E;try{F()}catch(ee){dt(m,P,ee)}}}u=u.next}while(u!==p)}}catch(ee){dt(t,t.return,ee)}}function dg(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Qf(t,r)}catch(u){dt(e,e.return,u)}}}function hg(e,t,r){r.props=_r(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(u){dt(e,t,u)}}function yl(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof r=="function"?e.refCleanup=r(u):r.current=u}}catch(m){dt(e,t,m)}}function pa(e,t){var r=e.ref,u=e.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){dt(e,t,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){dt(e,t,m)}else r.current=null}function fg(e){var t=e.type,r=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break e;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){dt(e,e.return,m)}}function Bd(e,t,r){try{var u=e.stateNode;i0(u,e.type,r,t),u[Kt]=t}catch(m){dt(e,e.return,m)}}function mg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rs(e.type)||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ic));else if(u!==4&&(u===27&&Rs(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Zd(e,t,r),e=e.sibling;e!==null;)Zd(e,t,r),e=e.sibling}function Fu(e,t,r){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(u!==4&&(u===27&&Rs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Fu(e,t,r),e=e.sibling;e!==null;)Fu(e,t,r),e=e.sibling}function gg(e){var t=e.stateNode,r=e.memoizedProps;try{for(var u=e.type,m=t.attributes;m.length;)t.removeAttributeNode(m[0]);pn(t,u,r),t[Bt]=e,t[Kt]=r}catch(p){dt(e,e.return,p)}}var Za=!1,Dt=!1,$d=!1,pg=typeof WeakSet=="function"?WeakSet:Set,an=null;function Dy(e,t){if(e=e.containerInfo,dh=cc,e=ar(e),sr(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var S=0,E=-1,P=-1,F=0,ee=0,ie=e,V=null;t:for(;;){for(var X;ie!==r||m!==0&&ie.nodeType!==3||(E=S+m),ie!==p||u!==0&&ie.nodeType!==3||(P=S+u),ie.nodeType===3&&(S+=ie.nodeValue.length),(X=ie.firstChild)!==null;)V=ie,ie=X;for(;;){if(ie===e)break t;if(V===r&&++F===m&&(E=S),V===p&&++ee===u&&(P=S),(X=ie.nextSibling)!==null)break;ie=V,V=ie.parentNode}ie=X}r=E===-1||P===-1?null:{start:E,end:P}}else r=null}r=r||{start:0,end:0}}else r=null;for(hh={focusedElem:e,selectionRange:r},cc=!1,an=t;an!==null;)if(t=an,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,an=e;else for(;an!==null;){switch(t=an,p=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,r=t,m=p.memoizedProps,p=p.memoizedState,u=r.stateNode;try{var Pe=_r(r.type,m,r.elementType===r.type);e=u.getSnapshotBeforeUpdate(Pe,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){dt(r,r.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)gh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,an=e;break}an=t.return}}function _g(e,t,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:ks(e,r),u&4&&vl(5,r);break;case 1:if(ks(e,r),u&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(S){dt(r,r.return,S)}else{var m=_r(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(m,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){dt(r,r.return,S)}}u&64&&dg(r),u&512&&yl(r,r.return);break;case 3:if(ks(e,r),u&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Qf(e,t)}catch(S){dt(r,r.return,S)}}break;case 27:t===null&&u&4&&gg(r);case 26:case 5:ks(e,r),t===null&&u&4&&fg(r),u&512&&yl(r,r.return);break;case 12:ks(e,r);break;case 13:ks(e,r),u&4&&xg(e,r),u&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Fy.bind(null,r),c0(e,r))));break;case 22:if(u=r.memoizedState!==null||Za,!u){t=t!==null&&t.memoizedState!==null||Dt,m=Za;var p=Dt;Za=u,(Dt=t)&&!p?As(e,r,(r.subtreeFlags&8772)!==0):ks(e,r),Za=m,Dt=p}break;case 30:break;default:ks(e,r)}}function vg(e){var t=e.alternate;t!==null&&(e.alternate=null,vg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ns(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var St=null,Gn=!1;function $a(e,t,r){for(r=r.child;r!==null;)yg(e,t,r),r=r.sibling}function yg(e,t,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 26:Dt||pa(r,t),$a(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Dt||pa(r,t);var u=St,m=Gn;Rs(r.type)&&(St=r.stateNode,Gn=!1),$a(e,t,r),kl(r.stateNode),St=u,Gn=m;break;case 5:Dt||pa(r,t);case 6:if(u=St,m=Gn,St=null,$a(e,t,r),St=u,Gn=m,St!==null)if(Gn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(r.stateNode)}catch(p){dt(r,t,p)}else try{St.removeChild(r.stateNode)}catch(p){dt(r,t,p)}break;case 18:St!==null&&(Gn?(e=St,op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pl(e)):op(St,r.stateNode));break;case 4:u=St,m=Gn,St=r.stateNode.containerInfo,Gn=!0,$a(e,t,r),St=u,Gn=m;break;case 0:case 11:case 14:case 15:Dt||Ns(2,r,t),Dt||Ns(4,r,t),$a(e,t,r);break;case 1:Dt||(pa(r,t),u=r.stateNode,typeof u.componentWillUnmount=="function"&&hg(r,t,u)),$a(e,t,r);break;case 21:$a(e,t,r);break;case 22:Dt=(u=Dt)||r.memoizedState!==null,$a(e,t,r),Dt=u;break;default:$a(e,t,r)}}function xg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(r){dt(t,t.return,r)}}function By(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new pg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new pg),t;default:throw Error(o(435,e.tag))}}function Hd(e,t){var r=By(e);t.forEach(function(u){var m=Yy.bind(null,e,u);r.has(u)||(r.add(u),u.then(m,m))})}function oi(e,t){var r=t.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],p=e,S=t,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(Rs(E.type)){St=E.stateNode,Gn=!1;break e}break;case 5:St=E.stateNode,Gn=!1;break e;case 3:case 4:St=E.stateNode.containerInfo,Gn=!0;break e}E=E.return}if(St===null)throw Error(o(160));yg(p,S,m),St=null,Gn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)bg(t,e),t=t.sibling}var Zi=null;function bg(e,t){var r=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:oi(t,e),li(e),u&4&&(Ns(3,e,e.return),vl(3,e),Ns(5,e,e.return));break;case 1:oi(t,e),li(e),u&512&&(Dt||r===null||pa(r,r.return)),u&64&&Za&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=Zi;if(oi(t,e),li(e),u&512&&(Dt||r===null||pa(r,r.return)),u&4){var p=r!==null?r.memoizedState:null;if(u=e.memoizedState,r===null)if(u===null)if(e.stateNode===null){e:{u=e.type,r=e.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ia]||p[Bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),pn(p,u,r),p[Bt]=e,Ct(p),u=p;break e;case"link":var S=gp("link","href",m).get(u+(r.href||""));if(S){for(var E=0;E<S.length;E++)if(p=S[E],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){S.splice(E,1);break t}}p=m.createElement(u),pn(p,u,r),m.head.appendChild(p);break;case"meta":if(S=gp("meta","content",m).get(u+(r.content||""))){for(E=0;E<S.length;E++)if(p=S[E],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){S.splice(E,1);break t}}p=m.createElement(u),pn(p,u,r),m.head.appendChild(p);break;default:throw Error(o(468,u))}p[Bt]=e,Ct(p),u=p}e.stateNode=u}else pp(m,e.type,e.stateNode);else e.stateNode=mp(m,u,e.memoizedProps);else p!==u?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,u===null?pp(m,e.type,e.stateNode):mp(m,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Bd(e,e.memoizedProps,r.memoizedProps)}break;case 27:oi(t,e),li(e),u&512&&(Dt||r===null||pa(r,r.return)),r!==null&&u&4&&Bd(e,e.memoizedProps,r.memoizedProps);break;case 5:if(oi(t,e),li(e),u&512&&(Dt||r===null||pa(r,r.return)),e.flags&32){m=e.stateNode;try{dn(m,"")}catch(X){dt(e,e.return,X)}}u&4&&e.stateNode!=null&&(m=e.memoizedProps,Bd(e,m,r!==null?r.memoizedProps:m)),u&1024&&($d=!0);break;case 6:if(oi(t,e),li(e),u&4){if(e.stateNode===null)throw Error(o(162));u=e.memoizedProps,r=e.stateNode;try{r.nodeValue=u}catch(X){dt(e,e.return,X)}}break;case 3:if(oc=null,m=Zi,Zi=sc(t.containerInfo),oi(t,e),Zi=m,li(e),u&4&&r!==null&&r.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(X){dt(e,e.return,X)}$d&&($d=!1,wg(e));break;case 4:u=Zi,Zi=sc(e.stateNode.containerInfo),oi(t,e),li(e),Zi=u;break;case 12:oi(t,e),li(e);break;case 13:oi(t,e),li(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Vd=_n()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hd(e,u)));break;case 22:m=e.memoizedState!==null;var P=r!==null&&r.memoizedState!==null,F=Za,ee=Dt;if(Za=F||m,Dt=ee||P,oi(t,e),Dt=ee,Za=F,li(e),u&8192)e:for(t=e.stateNode,t._visibility=m?t._visibility&-2:t._visibility|1,m&&(r===null||P||Za||Dt||vr(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){P=r=t;try{if(p=P.stateNode,m)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=P.stateNode;var ie=P.memoizedProps.style,V=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(X){dt(P,P.return,X)}}}else if(t.tag===6){if(r===null){P=t;try{P.stateNode.nodeValue=m?"":P.memoizedProps}catch(X){dt(P,P.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Hd(e,r))));break;case 19:oi(t,e),li(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Hd(e,u)));break;case 30:break;case 21:break;default:oi(t,e),li(e)}}function li(e){var t=e.flags;if(t&2){try{for(var r,u=e.return;u!==null;){if(mg(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var m=r.stateNode,p=Ud(e);Fu(e,p,m);break;case 5:var S=r.stateNode;r.flags&32&&(dn(S,""),r.flags&=-33);var E=Ud(e);Fu(e,E,S);break;case 3:case 4:var P=r.stateNode.containerInfo,F=Ud(e);Zd(e,F,P);break;default:throw Error(o(161))}}catch(ee){dt(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ks(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)_g(e,t.alternate,t),t=t.sibling}function vr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ns(4,t,t.return),vr(t);break;case 1:pa(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&hg(t,t.return,r),vr(t);break;case 27:kl(t.stateNode);case 26:case 5:pa(t,t.return),vr(t);break;case 22:t.memoizedState===null&&vr(t);break;case 30:vr(t);break;default:vr(t)}e=e.sibling}}function As(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,m=e,p=t,S=p.flags;switch(p.tag){case 0:case 11:case 15:As(m,p,r),vl(4,p);break;case 1:if(As(m,p,r),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(F){dt(u,u.return,F)}if(u=p,m=u.updateQueue,m!==null){var E=u.stateNode;try{var P=m.shared.hiddenCallbacks;if(P!==null)for(m.shared.hiddenCallbacks=null,m=0;m<P.length;m++)Wf(P[m],E)}catch(F){dt(u,u.return,F)}}r&&S&64&&dg(p),yl(p,p.return);break;case 27:gg(p);case 26:case 5:As(m,p,r),r&&u===null&&S&4&&fg(p),yl(p,p.return);break;case 12:As(m,p,r);break;case 13:As(m,p,r),r&&S&4&&xg(m,p);break;case 22:p.memoizedState===null&&As(m,p,r),yl(p,p.return);break;case 30:break;default:As(m,p,r)}t=t.sibling}}function qd(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&al(r))}function Id(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e))}function _a(e,t,r,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sg(e,t,r,u),t=t.sibling}function Sg(e,t,r,u){var m=t.flags;switch(t.tag){case 0:case 11:case 15:_a(e,t,r,u),m&2048&&vl(9,t);break;case 1:_a(e,t,r,u);break;case 3:_a(e,t,r,u),m&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e)));break;case 12:if(m&2048){_a(e,t,r,u),e=t.stateNode;try{var p=t.memoizedProps,S=p.id,E=p.onPostCommit;typeof E=="function"&&E(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){dt(t,t.return,P)}}else _a(e,t,r,u);break;case 13:_a(e,t,r,u);break;case 23:break;case 22:p=t.stateNode,S=t.alternate,t.memoizedState!==null?p._visibility&2?_a(e,t,r,u):xl(e,t):p._visibility&2?_a(e,t,r,u):(p._visibility|=2,oo(e,t,r,u,(t.subtreeFlags&10256)!==0)),m&2048&&qd(S,t);break;case 24:_a(e,t,r,u),m&2048&&Id(t.alternate,t);break;default:_a(e,t,r,u)}}function oo(e,t,r,u,m){for(m=m&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var p=e,S=t,E=r,P=u,F=S.flags;switch(S.tag){case 0:case 11:case 15:oo(p,S,E,P,m),vl(8,S);break;case 23:break;case 22:var ee=S.stateNode;S.memoizedState!==null?ee._visibility&2?oo(p,S,E,P,m):xl(p,S):(ee._visibility|=2,oo(p,S,E,P,m)),m&&F&2048&&qd(S.alternate,S);break;case 24:oo(p,S,E,P,m),m&&F&2048&&Id(S.alternate,S);break;default:oo(p,S,E,P,m)}t=t.sibling}}function xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,u=t,m=u.flags;switch(u.tag){case 22:xl(r,u),m&2048&&qd(u.alternate,u);break;case 24:xl(r,u),m&2048&&Id(u.alternate,u);break;default:xl(r,u)}t=t.sibling}}var bl=8192;function lo(e){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)jg(e),e=e.sibling}function jg(e){switch(e.tag){case 26:lo(e),e.flags&bl&&e.memoizedState!==null&&S0(Zi,e.memoizedState,e.memoizedProps);break;case 5:lo(e);break;case 3:case 4:var t=Zi;Zi=sc(e.stateNode.containerInfo),lo(e),Zi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bl,bl=16777216,lo(e),bl=t):lo(e));break;default:lo(e)}}function Tg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var u=t[r];an=u,Ng(u,e)}Tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eg(e),e=e.sibling}function Eg(e){switch(e.tag){case 0:case 11:case 15:wl(e),e.flags&2048&&Ns(9,e,e.return);break;case 3:wl(e);break;case 12:wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yu(e)):wl(e);break;default:wl(e)}}function Yu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var u=t[r];an=u,Ng(u,e)}Tg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ns(8,t,t.return),Yu(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(t));break;default:Yu(t)}e=e.sibling}}function Ng(e,t){for(;an!==null;){var r=an;switch(r.tag){case 0:case 11:case 15:Ns(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:al(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,an=u;else e:for(r=e;an!==null;){u=an;var m=u.sibling,p=u.return;if(vg(u),u===r){an=null;break e}if(m!==null){m.return=p,an=m;break e}an=p}}}var Uy={getCacheForType:function(e){var t=bn(Ft),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r}},Zy=typeof WeakMap=="function"?WeakMap:Map,at=0,ft=null,Ye=null,Je=0,st=0,ui=null,Cs=!1,uo=!1,Gd=!1,Ha=0,Ot=0,Ms=0,yr=0,Fd=0,bi=0,co=0,Sl=null,Fn=null,Yd=!1,Vd=0,Vu=1/0,Ku=null,Os=null,gn=0,Ls=null,ho=null,fo=0,Kd=0,Xd=null,kg=null,jl=0,Wd=null;function ci(){if((at&2)!==0&&Je!==0)return Je&-Je;if(Y.T!==null){var e=Jr;return e!==0?e:ah()}return ta()}function Ag(){bi===0&&(bi=(Je&536870912)===0||De?hi():536870912);var e=xi.current;return e!==null&&(e.flags|=32),bi}function di(e,t,r){(e===ft&&(st===2||st===9)||e.cancelPendingCommit!==null)&&(mo(e,0),zs(e,Je,bi,!1)),Ji(e,r),((at&2)===0||e!==ft)&&(e===ft&&((at&2)===0&&(yr|=r),Ot===4&&zs(e,Je,bi,!1)),va(e))}function Cg(e,t,r){if((at&6)!==0)throw Error(o(327));var u=!r&&(t&124)===0&&(t&e.expiredLanes)===0||Dn(e,t),m=u?qy(e,t):eh(e,t,!0),p=u;do{if(m===0){uo&&!u&&zs(e,t,0,!1);break}else{if(r=e.current.alternate,p&&!$y(r)){m=eh(e,t,!1),p=!1;continue}if(m===2){if(p=t,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var E=e;m=Sl;var P=E.current.memoizedState.isDehydrated;if(P&&(mo(E,S).flags|=256),S=eh(E,S,!1),S!==2){if(Gd&&!P){E.errorRecoveryDisabledLanes|=p,yr|=p,m=4;break e}p=Fn,Fn=m,p!==null&&(Fn===null?Fn=p:Fn.push.apply(Fn,p))}m=S}if(p=!1,m!==2)continue}}if(m===1){mo(e,0),zs(e,t,0,!0);break}e:{switch(u=e,p=m,p){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:zs(u,t,bi,!Cs);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(m=Vd+300-_n(),10<m)){if(zs(u,t,bi,!Cs),ba(u,0,!0)!==0)break e;u.timeoutHandle=sp(Mg.bind(null,u,r,Fn,Ku,Yd,t,bi,yr,co,Cs,p,2,-0,0),m);break e}Mg(u,r,Fn,Ku,Yd,t,bi,yr,co,Cs,p,0,-0,0)}}break}while(!0);va(e)}function Mg(e,t,r,u,m,p,S,E,P,F,ee,ie,V,X){if(e.timeoutHandle=-1,ie=t.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:w0},jg(t),ie=j0(),ie!==null)){e.cancelPendingCommit=ie(Bg.bind(null,e,t,p,r,u,m,S,E,P,ee,1,V,X)),zs(e,p,S,!F);return}Bg(e,t,p,r,u,m,S,E,P)}function $y(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],p=m.getSnapshot;m=m.value;try{if(!Cn(p(),m))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zs(e,t,r,u){t&=~Fd,t&=~yr,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var m=t;0<m;){var p=31-Vt(m),S=1<<p;u[p]=-1,m&=~S}r!==0&&ea(e,r,t)}function Xu(){return(at&6)===0?(Tl(0),!1):!0}function Qd(){if(Ye!==null){if(st===0)var e=Ye.return;else e=Ye,Bi=yi=null,gd(e),so=null,gl=0,e=Ye;for(;e!==null;)cg(e.alternate,e),e=e.return;Ye=null}}function mo(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,s0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qd(),ft=e,Ye=r=vi(e.current,null),Je=t,st=0,ui=null,Cs=!1,uo=Dn(e,t),Gd=!1,co=bi=Fd=yr=Ms=Ot=0,Fn=Sl=null,Yd=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var m=31-Vt(u),p=1<<m;t|=e[m],u&=~p}return Ha=t,or(),r}function Og(e,t){Ge=null,Y.H=Du,t===rl||t===Nu?(t=Kf(),st=3):t===Ff?(t=Kf(),st=4):st=t===Xm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ui=t,Ye===null&&(Ot=1,Hu(e,On(t,e.current)))}function Lg(){var e=Y.H;return Y.H=Du,e===null?Du:e}function zg(){var e=Y.A;return Y.A=Uy,e}function Jd(){Ot=4,Cs||(Je&4194048)!==Je&&xi.current!==null||(uo=!0),(Ms&134217727)===0&&(yr&134217727)===0||ft===null||zs(ft,Je,bi,!1)}function eh(e,t,r){var u=at;at|=2;var m=Lg(),p=zg();(ft!==e||Je!==t)&&(Ku=null,mo(e,t)),t=!1;var S=Ot;e:do try{if(st!==0&&Ye!==null){var E=Ye,P=ui;switch(st){case 8:Qd(),S=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(t=!0);var F=st;if(st=0,ui=null,go(e,E,P,F),r&&uo){S=0;break e}break;default:F=st,st=0,ui=null,go(e,E,P,F)}}Hy(),S=Ot;break}catch(ee){Og(e,ee)}while(!0);return t&&e.shellSuspendCounter++,Bi=yi=null,at=u,Y.H=m,Y.A=p,Ye===null&&(ft=null,Je=0,or()),S}function Hy(){for(;Ye!==null;)Rg(Ye)}function qy(e,t){var r=at;at|=2;var u=Lg(),m=zg();ft!==e||Je!==t?(Ku=null,Vu=_n()+500,mo(e,t)):uo=Dn(e,t);e:do try{if(st!==0&&Ye!==null){t=Ye;var p=ui;t:switch(st){case 1:st=0,ui=null,go(e,t,p,1);break;case 2:case 9:if(Yf(p)){st=0,ui=null,Pg(t);break}t=function(){st!==2&&st!==9||ft!==e||(st=7),va(e)},p.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Yf(p)?(st=0,ui=null,Pg(t)):(st=0,ui=null,go(e,t,p,7));break;case 5:var S=null;switch(Ye.tag){case 26:S=Ye.memoizedState;case 5:case 27:var E=Ye;if(!S||_p(S)){st=0,ui=null;var P=E.sibling;if(P!==null)Ye=P;else{var F=E.return;F!==null?(Ye=F,Wu(F)):Ye=null}break t}}st=0,ui=null,go(e,t,p,5);break;case 6:st=0,ui=null,go(e,t,p,6);break;case 8:Qd(),Ot=6;break e;default:throw Error(o(462))}}Iy();break}catch(ee){Og(e,ee)}while(!0);return Bi=yi=null,Y.H=u,Y.A=m,at=r,Ye!==null?0:(ft=null,Je=0,or(),Ot)}function Iy(){for(;Ye!==null&&!Cr();)Rg(Ye)}function Rg(e){var t=lg(e.alternate,e,Ha);e.memoizedProps=e.pendingProps,t===null?Wu(e):Ye=t}function Pg(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=ng(r,t,t.pendingProps,t.type,void 0,Je);break;case 11:t=ng(r,t,t.pendingProps,t.type.render,t.ref,Je);break;case 5:gd(t);default:cg(r,t),t=Ye=nl(t,Ha),t=lg(r,t,Ha)}e.memoizedProps=e.pendingProps,t===null?Wu(e):Ye=t}function go(e,t,r,u){Bi=yi=null,gd(t),so=null,gl=0;var m=t.return;try{if(Ly(e,m,t,r,Je)){Ot=1,Hu(e,On(r,e.current)),Ye=null;return}}catch(p){if(m!==null)throw Ye=m,p;Ot=1,Hu(e,On(r,e.current)),Ye=null;return}t.flags&32768?(De||u===1?e=!0:uo||(Je&536870912)!==0?e=!1:(Cs=e=!0,(u===2||u===9||u===3||u===6)&&(u=xi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dg(t,e)):Wu(t)}function Wu(e){var t=e;do{if((t.flags&32768)!==0){Dg(t,Cs);return}e=t.return;var r=Ry(t.alternate,t,Ha);if(r!==null){Ye=r;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Ot===0&&(Ot=5)}function Dg(e,t){do{var r=Py(e.alternate,e);if(r!==null){r.flags&=32767,Ye=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){Ye=e;return}Ye=e=r}while(e!==null);Ot=6,Ye=null}function Bg(e,t,r,u,m,p,S,E,P){e.cancelPendingCommit=null;do Qu();while(gn!==0);if((at&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(p=t.lanes|t.childLanes,p|=ri,Xs(e,r,p,S,E,P),e===ft&&(Ye=ft=null,Je=0),ho=t,Ls=e,fo=r,Kd=p,Xd=m,kg=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vy(Qi,function(){return qg(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,m=ue.p,ue.p=2,S=at,at|=4;try{Dy(e,t,r)}finally{at=S,ue.p=m,Y.T=u}}gn=1,Ug(),Zg(),$g()}}function Ug(){if(gn===1){gn=0;var e=Ls,t=ho,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var u=ue.p;ue.p=2;var m=at;at|=4;try{bg(t,e);var p=hh,S=ar(e.containerInfo),E=p.focusedElem,P=p.selectionRange;if(S!==E&&E&&E.ownerDocument&&Gr(E.ownerDocument.documentElement,E)){if(P!==null&&sr(E)){var F=P.start,ee=P.end;if(ee===void 0&&(ee=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(ee,E.value.length);else{var ie=E.ownerDocument||document,V=ie&&ie.defaultView||window;if(V.getSelection){var X=V.getSelection(),Pe=E.textContent.length,Oe=Math.min(P.start,Pe),ct=P.end===void 0?Oe:Math.min(P.end,Pe);!X.extend&&Oe>ct&&(S=ct,ct=Oe,Oe=S);var $=el(E,Oe),U=el(E,ct);if($&&U&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var G=ie.createRange();G.setStart($.node,$.offset),X.removeAllRanges(),Oe>ct?(X.addRange(G),X.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),X.addRange(G))}}}}for(ie=[],X=E;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ie.length;E++){var te=ie[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}cc=!!dh,hh=dh=null}finally{at=m,ue.p=u,Y.T=r}}e.current=t,gn=2}}function Zg(){if(gn===2){gn=0;var e=Ls,t=ho,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var u=ue.p;ue.p=2;var m=at;at|=4;try{_g(e,t.alternate,t)}finally{at=m,ue.p=u,Y.T=r}}gn=3}}function $g(){if(gn===4||gn===3){gn=0,Mr();var e=Ls,t=ho,r=fo,u=kg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gn=5:(gn=0,ho=Ls=null,Hg(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(Os=null),Sa(r),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=Y.T,m=ue.p,ue.p=2,Y.T=null;try{for(var p=e.onRecoverableError,S=0;S<u.length;S++){var E=u[S];p(E.value,{componentStack:E.stack})}}finally{Y.T=t,ue.p=m}}(fo&3)!==0&&Qu(),va(e),m=e.pendingLanes,(r&4194090)!==0&&(m&42)!==0?e===Wd?jl++:(jl=0,Wd=e):jl=0,Tl(0)}}function Hg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,al(t)))}function Qu(e){return Ug(),Zg(),$g(),qg()}function qg(){if(gn!==5)return!1;var e=Ls,t=Kd;Kd=0;var r=Sa(fo),u=Y.T,m=ue.p;try{ue.p=32>r?32:r,Y.T=null,r=Xd,Xd=null;var p=Ls,S=fo;if(gn=0,ho=Ls=null,fo=0,(at&6)!==0)throw Error(o(331));var E=at;if(at|=4,Eg(p.current),Sg(p,p.current,S,r),at=E,Tl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ti,p)}catch{}return!0}finally{ue.p=m,Y.T=u,Hg(e,t)}}function Ig(e,t,r){t=On(r,t),t=Ad(e.stateNode,t,2),e=Ss(e,t,2),e!==null&&(Ji(e,2),va(e))}function dt(e,t,r){if(e.tag===3)Ig(e,e,r);else for(;t!==null;){if(t.tag===3){Ig(t,e,r);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Os===null||!Os.has(u))){e=On(r,e),r=Vm(2),u=Ss(t,r,2),u!==null&&(Km(r,u,t,e),Ji(u,2),va(u));break}}t=t.return}}function th(e,t,r){var u=e.pingCache;if(u===null){u=e.pingCache=new Zy;var m=new Set;u.set(t,m)}else m=u.get(t),m===void 0&&(m=new Set,u.set(t,m));m.has(r)||(Gd=!0,m.add(r),e=Gy.bind(null,e,t,r),t.then(e,e))}function Gy(e,t,r){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ft===e&&(Je&r)===r&&(Ot===4||Ot===3&&(Je&62914560)===Je&&300>_n()-Vd?(at&2)===0&&mo(e,0):Fd|=r,co===Je&&(co=0)),va(e)}function Gg(e,t){t===0&&(t=Ja()),e=_s(e,t),e!==null&&(Ji(e,t),va(e))}function Fy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gg(e,r)}function Yy(e,t){var r=0;switch(e.tag){case 13:var u=e.stateNode,m=e.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(t),Gg(e,r)}function Vy(e,t){return Wi(e,t)}var Ju=null,po=null,nh=!1,ec=!1,ih=!1,xr=0;function va(e){e!==po&&e.next===null&&(po===null?Ju=po=e:po=po.next=e),ec=!0,nh||(nh=!0,Xy())}function Tl(e,t){if(!ih&&ec){ih=!0;do for(var r=!1,u=Ju;u!==null;){if(e!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var S=u.suspendedLanes,E=u.pingedLanes;p=(1<<31-Vt(42|e)+1)-1,p&=m&~(S&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,Kg(u,p))}else p=Je,p=ba(u,u===ft?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Dn(u,p)||(r=!0,Kg(u,p));u=u.next}while(r);ih=!1}}function Ky(){Fg()}function Fg(){ec=nh=!1;var e=0;xr!==0&&(a0()&&(e=xr),xr=0);for(var t=_n(),r=null,u=Ju;u!==null;){var m=u.next,p=Yg(u,t);p===0?(u.next=null,r===null?Ju=m:r.next=m,m===null&&(po=r)):(r=u,(e!==0||(p&3)!==0)&&(ec=!0)),u=m}Tl(e)}function Yg(e,t){for(var r=e.suspendedLanes,u=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Vt(p),E=1<<S,P=m[S];P===-1?((E&r)===0||(E&u)!==0)&&(m[S]=Io(E,t)):P<=t&&(e.expiredLanes|=E),p&=~E}if(t=ft,r=Je,r=ba(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,r===0||e===t&&(st===2||st===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Wa(u),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Dn(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(u!==null&&Wa(u),Sa(r)){case 2:case 8:r=Ys;break;case 32:r=Qi;break;case 268435456:r=Vs;break;default:r=Qi}return u=Vg.bind(null,e),r=Wi(r,u),e.callbackPriority=t,e.callbackNode=r,t}return u!==null&&u!==null&&Wa(u),e.callbackPriority=2,e.callbackNode=null,2}function Vg(e,t){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Qu()&&e.callbackNode!==r)return null;var u=Je;return u=ba(e,e===ft?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Cg(e,u,t),Yg(e,_n()),e.callbackNode!=null&&e.callbackNode===r?Vg.bind(null,e):null)}function Kg(e,t){if(Qu())return null;Cg(e,t,!0)}function Xy(){r0(function(){(at&6)!==0?Wi(Or,Ky):Fg()})}function ah(){return xr===0&&(xr=hi()),xr}function Xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Wg(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Wy(e,t,r,u,m){if(t==="submit"&&r&&r.stateNode===m){var p=Xg((m[Kt]||null).action),S=u.submitter;S&&(t=(t=S[Kt]||null)?Xg(t.formAction):S.getAttribute("formAction"),t!==null&&(p=t,S=null));var E=new ve("action","action",null,u,m);e.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xr!==0){var P=S?Wg(m,S):new FormData(m);jd(r,{pending:!0,data:P,method:m.method,action:p},null,P)}}else typeof p=="function"&&(E.preventDefault(),P=S?Wg(m,S):new FormData(m),jd(r,{pending:!0,data:P,method:m.method,action:p},p,P))},currentTarget:m}]})}}for(var sh=0;sh<Ma.length;sh++){var rh=Ma[sh],Qy=rh.toLowerCase(),Jy=rh[0].toUpperCase()+rh.slice(1);si(Qy,"on"+Jy)}si(vu,"onAnimationEnd"),si(ai,"onAnimationIteration"),si(rr,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Jc,"onTransitionRun"),si(Kr,"onTransitionStart"),si(ed,"onTransitionCancel"),si(tl,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Qg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var u=e[r],m=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var S=u.length-1;0<=S;S--){var E=u[S],P=E.instance,F=E.currentTarget;if(E=E.listener,P!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=F;try{p(m)}catch(ee){$u(ee)}m.currentTarget=null,p=P}else for(S=0;S<u.length;S++){if(E=u[S],P=E.instance,F=E.currentTarget,E=E.listener,P!==p&&m.isPropagationStopped())break e;p=E,m.currentTarget=F;try{p(m)}catch(ee){$u(ee)}m.currentTarget=null,p=P}}}}function Ve(e,t){var r=t[ln];r===void 0&&(r=t[ln]=new Set);var u=e+"__bubble";r.has(u)||(Jg(t,e,2,!1),r.add(u))}function oh(e,t,r){var u=0;t&&(u|=4),Jg(r,e,u,t)}var tc="_reactListening"+Math.random().toString(36).slice(2);function lh(e){if(!e[tc]){e[tc]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(e0.has(r)||oh(r,!1,e),oh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tc]||(t[tc]=!0,oh("selectionchange",!1,t))}}function Jg(e,t,r,u){switch(Sp(t)){case 2:var m=N0;break;case 8:m=k0;break;default:m=wh}r=m.bind(null,t,r,e),m=void 0,!la||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(m=!0),u?m!==void 0?e.addEventListener(t,r,{capture:!0,passive:m}):e.addEventListener(t,r,!0):m!==void 0?e.addEventListener(t,r,{passive:m}):e.addEventListener(t,r,!1)}function uh(e,t,r,u,m){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var E=u.stateNode.containerInfo;if(E===m)break;if(S===4)for(S=u.return;S!==null;){var P=S.tag;if((P===3||P===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;E!==null;){if(S=gi(E),S===null)return;if(P=S.tag,P===5||P===6||P===26||P===27){u=p=S;continue e}E=E.parentNode}}u=u.return}Nn(function(){var F=p,ee=oa(r),ie=[];e:{var V=yu.get(e);if(V!==void 0){var X=ve,Pe=e;switch(e){case"keypress":if(bt(r)===0)break e;case"keydown":case"keyup":X=Gc;break;case"focusin":Pe="focus",X=Qt;break;case"focusout":Pe="blur",X=Qt;break;case"beforeblur":case"afterblur":X=Qt;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Mt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ut;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Yc;break;case vu:case ai:case rr:X=ti;break;case tl:X=Vc;break;case"scroll":case"scrollend":X=Ue;break;case"wheel":X=uu;break;case"copy":case"cut":case"paste":X=os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Vo;break;case"toggle":case"beforetoggle":X=Na}var Oe=(t&4)!==0,ct=!Oe&&(e==="scroll"||e==="scrollend"),$=Oe?V!==null?V+"Capture":null:V;Oe=[];for(var U=F,G;U!==null;){var te=U;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||$===null||(te=We(U,$),te!=null&&Oe.push(Nl(U,te,G))),ct)break;U=U.return}0<Oe.length&&(V=new X(V,Pe,null,r,ee),ie.push({event:V,listeners:Oe}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",V&&r!==Ea&&(Pe=r.relatedTarget||r.fromElement)&&(gi(Pe)||Pe[na]))break e;if((X||V)&&(V=ee.window===ee?ee:(V=ee.ownerDocument)?V.defaultView||V.parentWindow:window,X?(Pe=r.relatedTarget||r.toElement,X=F,Pe=Pe?gi(Pe):null,Pe!==null&&(ct=d(Pe),Oe=Pe.tag,Pe!==ct||Oe!==5&&Oe!==27&&Oe!==6)&&(Pe=null)):(X=null,Pe=F),X!==Pe)){if(Oe=Mt,te="onMouseLeave",$="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=Vo,te="onPointerLeave",$="onPointerEnter",U="pointer"),ct=X==null?V:At(X),G=Pe==null?V:At(Pe),V=new Oe(te,U+"leave",X,r,ee),V.target=ct,V.relatedTarget=G,te=null,gi(ee)===F&&(Oe=new Oe($,U+"enter",Pe,r,ee),Oe.target=G,Oe.relatedTarget=ct,te=Oe),ct=te,X&&Pe)t:{for(Oe=X,$=Pe,U=0,G=Oe;G;G=_o(G))U++;for(G=0,te=$;te;te=_o(te))G++;for(;0<U-G;)Oe=_o(Oe),U--;for(;0<G-U;)$=_o($),G--;for(;U--;){if(Oe===$||$!==null&&Oe===$.alternate)break t;Oe=_o(Oe),$=_o($)}Oe=null}else Oe=null;X!==null&&ep(ie,V,X,Oe,!1),Pe!==null&&ct!==null&&ep(ie,ct,Pe,Oe,!0)}}e:{if(V=F?At(F):window,X=V.nodeName&&V.nodeName.toLowerCase(),X==="select"||X==="input"&&V.type==="file")var Se=ds;else if(Aa(V))if(Wo)Se=Qc;else{Se=Wc;var Fe=Jo}else X=V.nodeName,!X||X.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?F&&yn(F.elementType)&&(Se=ds):Se=Di;if(Se&&(Se=Se(e,F))){mu(ie,Se,r,ee);break e}Fe&&Fe(e,V,F),e==="focusout"&&F&&V.type==="number"&&F.memoizedProps.value!=null&&Li(V,"number",V.value)}switch(Fe=F?At(F):window,e){case"focusin":(Aa(Fe)||Fe.contentEditable==="true")&&(ii=Fe,ms=F,Ca=null);break;case"focusout":Ca=ms=ii=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":Yr=!1,pu(ie,r,ee);break;case"selectionchange":if(Fr)break;case"keydown":case"keyup":pu(ie,r,ee)}var ke;if(ka)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else us?qr(e,r)&&(ze="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ze="onCompositionStart");ze&&(Xo&&r.locale!=="ko"&&(us||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&us&&(ke=ua()):(kn=ee,fn="value"in kn?kn.value:kn.textContent,us=!0)),Fe=nc(F,ze),0<Fe.length&&(ze=new Jt(ze,e,null,r,ee),ie.push({event:ze,listeners:Fe}),ke?ze.data=ke:(ke=hu(r),ke!==null&&(ze.data=ke)))),(ke=cu?fu(e,r):Xc(e,r))&&(ze=nc(F,"onBeforeInput"),0<ze.length&&(Fe=new Jt("onBeforeInput","beforeinput",null,r,ee),ie.push({event:Fe,listeners:ze}),Fe.data=ke)),Wy(ie,e,F,r,ee)}Qg(ie,t)})}function Nl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nc(e,t){for(var r=t+"Capture",u=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=We(e,r),m!=null&&u.unshift(Nl(e,m,p)),m=We(e,t),m!=null&&u.push(Nl(e,m,p))),e.tag===3)return u;e=e.return}return[]}function _o(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ep(e,t,r,u,m){for(var p=t._reactName,S=[];r!==null&&r!==u;){var E=r,P=E.alternate,F=E.stateNode;if(E=E.tag,P!==null&&P===u)break;E!==5&&E!==26&&E!==27||F===null||(P=F,m?(F=We(r,p),F!=null&&S.unshift(Nl(r,F,P))):m||(F=We(r,p),F!=null&&S.push(Nl(r,F,P)))),r=r.return}S.length!==0&&e.push({event:t,listeners:S})}var t0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function tp(e){return(typeof e=="string"?e:""+e).replace(t0,`
`).replace(n0,"")}function np(e,t){return t=tp(t),tp(e)===t}function ic(){}function ut(e,t,r,u,m,p){switch(r){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||dn(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&dn(e,""+u);break;case"className":Ci(e,"class",u);break;case"tabIndex":Ci(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ci(e,r,u);break;case"style":sa(e,u,p);break;case"data":if(t!=="object"){Ci(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=ra(""+u),e.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(t!=="input"&&ut(e,t,"name",m.name,m,null),ut(e,t,"formEncType",m.formEncType,m,null),ut(e,t,"formMethod",m.formMethod,m,null),ut(e,t,"formTarget",m.formTarget,m,null)):(ut(e,t,"encType",m.encType,m,null),ut(e,t,"method",m.method,m,null),ut(e,t,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(r);break}u=ra(""+u),e.setAttribute(r,u);break;case"onClick":u!=null&&(e.onclick=ic);break;case"onScroll":u!=null&&Ve("scroll",e);break;case"onScrollEnd":u!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}r=ra(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""+u):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":u===!0?e.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(r,u):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(r,u):e.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(r):e.setAttribute(r,u);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),is(e,"popover",u);break;case"xlinkActuate":Wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Wn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Wn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Wn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Wn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":is(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=er.get(r)||r,is(e,r,u))}}function ch(e,t,r,u,m,p){switch(r){case"style":sa(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof u=="string"?dn(e,u):(typeof u=="number"||typeof u=="bigint")&&dn(e,""+u);break;case"onScroll":u!=null&&Ve("scroll",e);break;case"onScrollEnd":u!=null&&Ve("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pr.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),t=r.slice(2,m?r.length-7:void 0),p=e[Kt]||null,p=p!=null?p[r]:null,typeof p=="function"&&e.removeEventListener(t,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,u,m);break e}r in e?e[r]=u:u===!0?e.setAttribute(r,""):is(e,r,u)}}}function pn(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var u=!1,m=!1,p;for(p in r)if(r.hasOwnProperty(p)){var S=r[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,p,S,r,null)}}m&&ut(e,t,"srcSet",r.srcSet,r,null),u&&ut(e,t,"src",r.src,r,null);return;case"input":Ve("invalid",e);var E=p=S=m=null,P=null,F=null;for(u in r)if(r.hasOwnProperty(u)){var ee=r[u];if(ee!=null)switch(u){case"name":m=ee;break;case"type":S=ee;break;case"checked":P=ee;break;case"defaultChecked":F=ee;break;case"value":p=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,t));break;default:ut(e,t,u,ee,r,null)}}Br(e,p,E,P,F,S,m,!1),Un(e);return;case"select":Ve("invalid",e),u=S=p=null;for(m in r)if(r.hasOwnProperty(m)&&(E=r[m],E!=null))switch(m){case"value":p=E;break;case"defaultValue":S=E;break;case"multiple":u=E;default:ut(e,t,m,E,r,null)}t=p,r=S,e.multiple=!!u,t!=null?vn(e,!!u,t,!1):r!=null&&vn(e,!!u,r,!0);return;case"textarea":Ve("invalid",e),p=m=u=null;for(S in r)if(r.hasOwnProperty(S)&&(E=r[S],E!=null))switch(S){case"value":u=E;break;case"defaultValue":m=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(o(91));break;default:ut(e,t,S,E,r,null)}Qn(e,u,m,p),Un(e);return;case"option":for(P in r)if(r.hasOwnProperty(P)&&(u=r[P],u!=null))switch(P){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(e,t,P,u,r,null)}return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(u=0;u<El.length;u++)Ve(El[u],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in r)if(r.hasOwnProperty(F)&&(u=r[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ut(e,t,F,u,r,null)}return;default:if(yn(t)){for(ee in r)r.hasOwnProperty(ee)&&(u=r[ee],u!==void 0&&ch(e,t,ee,u,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(u=r[E],u!=null&&ut(e,t,E,u,r,null))}function i0(e,t,r,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,S=null,E=null,P=null,F=null,ee=null;for(X in r){var ie=r[X];if(r.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=ie;default:u.hasOwnProperty(X)||ut(e,t,X,null,u,ie)}}for(var V in u){var X=u[V];if(ie=r[V],u.hasOwnProperty(V)&&(X!=null||ie!=null))switch(V){case"type":p=X;break;case"name":m=X;break;case"checked":F=X;break;case"defaultChecked":ee=X;break;case"value":S=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:X!==ie&&ut(e,t,V,X,u,ie)}}Xt(e,S,E,P,F,ee,p,m);return;case"select":X=S=E=V=null;for(p in r)if(P=r[p],r.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(p)||ut(e,t,p,null,u,P)}for(m in u)if(p=u[m],P=r[m],u.hasOwnProperty(m)&&(p!=null||P!=null))switch(m){case"value":V=p;break;case"defaultValue":E=p;break;case"multiple":S=p;default:p!==P&&ut(e,t,m,p,u,P)}t=E,r=S,u=X,V!=null?vn(e,!!r,V,!1):!!u!=!!r&&(t!=null?vn(e,!!r,t,!0):vn(e,!!r,r?[]:"",!1));return;case"textarea":X=V=null;for(E in r)if(m=r[E],r.hasOwnProperty(E)&&m!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(e,t,E,null,u,m)}for(S in u)if(m=u[S],p=r[S],u.hasOwnProperty(S)&&(m!=null||p!=null))switch(S){case"value":V=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==p&&ut(e,t,S,m,u,p)}_t(e,V,X);return;case"option":for(var Pe in r)if(V=r[Pe],r.hasOwnProperty(Pe)&&V!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":e.selected=!1;break;default:ut(e,t,Pe,null,u,V)}for(P in u)if(V=u[P],X=r[P],u.hasOwnProperty(P)&&V!==X&&(V!=null||X!=null))switch(P){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:ut(e,t,P,V,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in r)V=r[Oe],r.hasOwnProperty(Oe)&&V!=null&&!u.hasOwnProperty(Oe)&&ut(e,t,Oe,null,u,V);for(F in u)if(V=u[F],X=r[F],u.hasOwnProperty(F)&&V!==X&&(V!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,t));break;default:ut(e,t,F,V,u,X)}return;default:if(yn(t)){for(var ct in r)V=r[ct],r.hasOwnProperty(ct)&&V!==void 0&&!u.hasOwnProperty(ct)&&ch(e,t,ct,void 0,u,V);for(ee in u)V=u[ee],X=r[ee],!u.hasOwnProperty(ee)||V===X||V===void 0&&X===void 0||ch(e,t,ee,V,u,X);return}}for(var $ in r)V=r[$],r.hasOwnProperty($)&&V!=null&&!u.hasOwnProperty($)&&ut(e,t,$,null,u,V);for(ie in u)V=u[ie],X=r[ie],!u.hasOwnProperty(ie)||V===X||V==null&&X==null||ut(e,t,ie,V,u,X)}var dh=null,hh=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ap(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=null;function a0(){var e=window.event;return e&&e.type==="popstate"?e===mh?!1:(mh=e,!0):(mh=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,r0=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(e){return rp.resolve(null).then(e).catch(o0)}:sp;function o0(e){setTimeout(function(){throw e})}function Rs(e){return e==="head"}function op(e,t){var r=t,u=0,m=0;do{var p=r.nextSibling;if(e.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(0<u&&8>u){r=u;var S=e.ownerDocument;if(r&1&&kl(S.documentElement),r&2&&kl(S.body),r&4)for(r=S.head,kl(r),S=r.firstChild;S;){var E=S.nextSibling,P=S.nodeName;S[ia]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&S.rel.toLowerCase()==="stylesheet"||r.removeChild(S),S=E}}if(m===0){e.removeChild(p),Pl(t);return}m--}else r==="$"||r==="$?"||r==="$!"?m++:u=r.charCodeAt(0)-48;else u=0;r=p}while(r);Pl(t)}function gh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gh(r),ns(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function l0(e,t,r,u){for(;e.nodeType===1;){var m=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ia])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=$i(e.nextSibling),e===null)break}return null}function u0(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=$i(e.nextSibling),e===null))return null;return e}function ph(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function c0(e,t){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")t();else{var u=function(){t(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function $i(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var _h=null;function lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}function up(e,t,r){switch(t=ac(r),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function kl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ns(e)}var wi=new Map,cp=new Set;function sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=ue.d;ue.d={f:d0,r:h0,D:f0,C:m0,L:g0,m:p0,X:v0,S:_0,M:y0};function d0(){var e=qa.f(),t=Xu();return e||t}function h0(e){var t=Ni(e);t!==null&&t.tag===5&&t.type==="form"?Cm(t):qa.r(e)}var vo=typeof document>"u"?null:document;function dp(e,t,r){var u=vo;if(u&&typeof t=="string"&&t){var m=Gt(t);m='link[rel="'+e+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),cp.has(m)||(cp.add(m),e={rel:e,crossOrigin:r,href:t},u.querySelector(m)===null&&(t=u.createElement("link"),pn(t,"link",e),Ct(t),u.head.appendChild(t)))}}function f0(e){qa.D(e),dp("dns-prefetch",e,null)}function m0(e,t){qa.C(e,t),dp("preconnect",e,t)}function g0(e,t,r){qa.L(e,t,r);var u=vo;if(u&&e&&t){var m='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+Gt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+Gt(r.imageSizes)+'"]')):m+='[href="'+Gt(e)+'"]';var p=m;switch(t){case"style":p=yo(e);break;case"script":p=xo(e)}wi.has(p)||(e=w({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),wi.set(p,e),u.querySelector(m)!==null||t==="style"&&u.querySelector(Al(p))||t==="script"&&u.querySelector(Cl(p))||(t=u.createElement("link"),pn(t,"link",e),Ct(t),u.head.appendChild(t)))}}function p0(e,t){qa.m(e,t);var r=vo;if(r&&e){var u=t&&typeof t.as=="string"?t.as:"script",m='link[rel="modulepreload"][as="'+Gt(u)+'"][href="'+Gt(e)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=xo(e)}if(!wi.has(p)&&(e=w({rel:"modulepreload",href:e},t),wi.set(p,e),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Cl(p)))return}u=r.createElement("link"),pn(u,"link",e),Ct(u),r.head.appendChild(u)}}}function _0(e,t,r){qa.S(e,t,r);var u=vo;if(u&&e){var m=ki(u).hoistableStyles,p=yo(e);t=t||"default";var S=m.get(p);if(!S){var E={loading:0,preload:null};if(S=u.querySelector(Al(p)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},r),(r=wi.get(p))&&vh(e,r);var P=S=u.createElement("link");Ct(P),pn(P,"link",e),P._p=new Promise(function(F,ee){P.onload=F,P.onerror=ee}),P.addEventListener("load",function(){E.loading|=1}),P.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(S,t,u)}S={type:"stylesheet",instance:S,count:1,state:E},m.set(p,S)}}}function v0(e,t){qa.X(e,t);var r=vo;if(r&&e){var u=ki(r).hoistableScripts,m=xo(e),p=u.get(m);p||(p=r.querySelector(Cl(m)),p||(e=w({src:e,async:!0},t),(t=wi.get(m))&&yh(e,t),p=r.createElement("script"),Ct(p),pn(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function y0(e,t){qa.M(e,t);var r=vo;if(r&&e){var u=ki(r).hoistableScripts,m=xo(e),p=u.get(m);p||(p=r.querySelector(Cl(m)),p||(e=w({src:e,async:!0,type:"module"},t),(t=wi.get(m))&&yh(e,t),p=r.createElement("script"),Ct(p),pn(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function hp(e,t,r,u){var m=(m=me.current)?sc(m):null;if(!m)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=yo(r.href),r=ki(m).hoistableStyles,u=r.get(t),u||(u={type:"style",instance:null,count:0,state:null},r.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=yo(r.href);var p=ki(m).hoistableStyles,S=p.get(e);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=m.querySelector(Al(e)))&&!p._p&&(S.instance=p,S.state.loading=5),wi.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wi.set(e,r),p||x0(m,e,r,S.state))),t&&u===null)throw Error(o(528,""));return S}if(t&&u!==null)throw Error(o(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xo(r),r=ki(m).hoistableScripts,u=r.get(t),u||(u={type:"script",instance:null,count:0,state:null},r.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function yo(e){return'href="'+Gt(e)+'"'}function Al(e){return'link[rel="stylesheet"]['+e+"]"}function fp(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function x0(e,t,r,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),pn(t,"link",r),Ct(t),e.head.appendChild(t))}function xo(e){return'[src="'+Gt(e)+'"]'}function Cl(e){return"script[async]"+e}function mp(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+Gt(r.href)+'"]');if(u)return t.instance=u,Ct(u),u;var m=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Ct(u),pn(u,"style",m),rc(u,r.precedence,e),t.instance=u;case"stylesheet":m=yo(r.href);var p=e.querySelector(Al(m));if(p)return t.state.loading|=4,t.instance=p,Ct(p),p;u=fp(r),(m=wi.get(m))&&vh(u,m),p=(e.ownerDocument||e).createElement("link"),Ct(p);var S=p;return S._p=new Promise(function(E,P){S.onload=E,S.onerror=P}),pn(p,"link",u),t.state.loading|=4,rc(p,r.precedence,e),t.instance=p;case"script":return p=xo(r.src),(m=e.querySelector(Cl(p)))?(t.instance=m,Ct(m),m):(u=r,(m=wi.get(p))&&(u=w({},r),yh(u,m)),e=e.ownerDocument||e,m=e.createElement("script"),Ct(m),pn(m,"link",u),e.head.appendChild(m),t.instance=m);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,rc(u,r.precedence,e));return t.instance}function rc(e,t,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,S=0;S<u.length;S++){var E=u[S];if(E.dataset.precedence===t)p=E;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function vh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oc=null;function gp(e,t,r){if(oc===null){var u=new Map,m=oc=new Map;m.set(r,u)}else m=oc,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(e))return u;for(u.set(e,null),r=r.getElementsByTagName(e),m=0;m<r.length;m++){var p=r[m];if(!(p[ia]||p[Bt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(t)||"";S=e+S;var E=u.get(S);E?E.push(p):u.set(S,[p])}}return u}function pp(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function b0(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _p(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ml=null;function w0(){}function S0(e,t,r){if(Ml===null)throw Error(o(475));var u=Ml;if(t.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var m=yo(r.href),p=e.querySelector(Al(m));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=lc.bind(u),e.then(u,u)),t.state.loading|=4,t.instance=p,Ct(p);return}p=e.ownerDocument||e,r=fp(r),(m=wi.get(m))&&vh(r,m),p=p.createElement("link"),Ct(p);var S=p;S._p=new Promise(function(E,P){S.onload=E,S.onerror=P}),pn(p,"link",r),t.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(u.count++,t=lc.bind(u),e.addEventListener("load",t),e.addEventListener("error",t))}}function j0(){if(Ml===null)throw Error(o(475));var e=Ml;return e.stylesheets&&e.count===0&&xh(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&xh(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)xh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function xh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,t.forEach(T0,e),uc=null,lc.call(e))}function T0(e,t){if(!(t.state.loading&4)){var r=uc.get(e);if(r)var u=r.get(null);else{r=new Map,uc.set(e,r);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var S=m[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(r.set(S.dataset.precedence,S),u=S)}u&&r.set(null,u)}m=t.instance,S=m.getAttribute("data-precedence"),p=r.get(S)||u,p===u&&r.set(null,m),r.set(S,m),this.count++,u=lc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),t.state.loading|=4}}var Ol={$$typeof:B,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function E0(e,t,r,u,m,p,S,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.hiddenUpdates=es(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function vp(e,t,r,u,m,p,S,E,P,F,ee,ie){return e=new E0(e,t,r,S,E,P,F,ie),t=1,p===!0&&(t|=24),p=zn(3,null,null,t),e.current=p,p.stateNode=e,t=td(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:u,isDehydrated:r,cache:t},sd(p),e}function yp(e){return e?(e=za,e):za}function xp(e,t,r,u,m,p){m=yp(m),u.context===null?u.context=m:u.pendingContext=m,u=ws(t),u.payload={element:r},p=p===void 0?null:p,p!==null&&(u.callback=p),r=Ss(e,u,t),r!==null&&(di(r,e,t),ll(r,e,t))}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bh(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function wp(e){if(e.tag===13){var t=_s(e,67108864);t!==null&&di(t,e,67108864),bh(e,67108864)}}var cc=!0;function N0(e,t,r,u){var m=Y.T;Y.T=null;var p=ue.p;try{ue.p=2,wh(e,t,r,u)}finally{ue.p=p,Y.T=m}}function k0(e,t,r,u){var m=Y.T;Y.T=null;var p=ue.p;try{ue.p=8,wh(e,t,r,u)}finally{ue.p=p,Y.T=m}}function wh(e,t,r,u){if(cc){var m=Sh(u);if(m===null)uh(e,t,u,dc,r),jp(e,u);else if(C0(m,e,t,r,u))u.stopPropagation();else if(jp(e,u),t&4&&-1<A0.indexOf(e)){for(;m!==null;){var p=Ni(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=En(p.pendingLanes);if(S!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var P=1<<31-Vt(S);E.entanglements[1]|=P,S&=~P}va(p),(at&6)===0&&(Vu=_n()+500,Tl(0))}}break;case 13:E=_s(p,2),E!==null&&di(E,p,2),Xu(),bh(p,2)}if(p=Sh(u),p===null&&uh(e,t,u,dc,r),p===m)break;m=p}m!==null&&u.stopPropagation()}else uh(e,t,u,null,r)}}function Sh(e){return e=oa(e),jh(e)}var dc=null;function jh(e){if(dc=null,e=gi(e),e!==null){var t=d(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=g(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dc=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Or:return 2;case Ys:return 8;case Qi:case Lr:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var Th=!1,Ps=null,Ds=null,Bs=null,Ll=new Map,zl=new Map,Us=[],A0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(e,t){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Rl(e,t,r,u,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:r,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},t!==null&&(t=Ni(t),t!==null&&wp(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,m!==null&&t.indexOf(m)===-1&&t.push(m),e)}function C0(e,t,r,u,m){switch(t){case"focusin":return Ps=Rl(Ps,e,t,r,u,m),!0;case"dragenter":return Ds=Rl(Ds,e,t,r,u,m),!0;case"mouseover":return Bs=Rl(Bs,e,t,r,u,m),!0;case"pointerover":var p=m.pointerId;return Ll.set(p,Rl(Ll.get(p)||null,e,t,r,u,m)),!0;case"gotpointercapture":return p=m.pointerId,zl.set(p,Rl(zl.get(p)||null,e,t,r,u,m)),!0}return!1}function Tp(e){var t=gi(e.target);if(t!==null){var r=d(t);if(r!==null){if(t=r.tag,t===13){if(t=g(r),t!==null){e.blockedOn=t,Ws(e.priority,function(){if(r.tag===13){var u=ci();u=wa(u);var m=_s(r,u);m!==null&&di(m,r,u),bh(r,u)}});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sh(e.nativeEvent);if(r===null){r=e.nativeEvent;var u=new r.constructor(r.type,r);Ea=u,r.target.dispatchEvent(u),Ea=null}else return t=Ni(r),t!==null&&wp(t),e.blockedOn=r,!1;t.shift()}return!0}function Ep(e,t,r){hc(e)&&r.delete(t)}function M0(){Th=!1,Ps!==null&&hc(Ps)&&(Ps=null),Ds!==null&&hc(Ds)&&(Ds=null),Bs!==null&&hc(Bs)&&(Bs=null),Ll.forEach(Ep),zl.forEach(Ep)}function fc(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,M0)))}var mc=null;function Np(e){mc!==e&&(mc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var t=0;t<e.length;t+=3){var r=e[t],u=e[t+1],m=e[t+2];if(typeof u!="function"){if(jh(u||r)===null)continue;break}var p=Ni(r);p!==null&&(e.splice(t,3),t-=3,jd(p,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function Pl(e){function t(P){return fc(P,e)}Ps!==null&&fc(Ps,e),Ds!==null&&fc(Ds,e),Bs!==null&&fc(Bs,e),Ll.forEach(t),zl.forEach(t);for(var r=0;r<Us.length;r++){var u=Us[r];u.blockedOn===e&&(u.blockedOn=null)}for(;0<Us.length&&(r=Us[0],r.blockedOn===null);)Tp(r),r.blockedOn===null&&Us.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],p=r[u+1],S=m[Kt]||null;if(typeof p=="function")S||Np(r);else if(S){var E=null;if(p&&p.hasAttribute("formAction")){if(m=p,S=p[Kt]||null)E=S.formAction;else if(jh(m)!==null)continue}else E=S.action;typeof E=="function"?r[u+1]=E:(r.splice(u,3),u-=3),Np(r)}}}function Eh(e){this._internalRoot=e}gc.prototype.render=Eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var r=t.current,u=ci();xp(r,u,e,t,null,null)},gc.prototype.unmount=Eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xp(e.current,2,null,e,null,null),Xu(),t[na]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ta();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Us.length&&t!==0&&t<Us[r].priority;r++);Us.splice(r,0,e),r===0&&Tp(e)}};var kp=n.version;if(kp!=="19.1.0")throw Error(o(527,kp,"19.1.0"));ue.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var O0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Ti=pc.inject(O0),Rt=pc}catch{}}return Bl.createRoot=function(e,t){if(!c(e))throw Error(o(299));var r=!1,u="",m=Im,p=Gm,S=Fm,E=null;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(m=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(E=t.unstable_transitionCallbacks)),t=vp(e,1,!1,null,null,r,u,m,p,S,E,null),e[na]=t.current,lh(e),new Eh(t)},Bl.hydrateRoot=function(e,t,r){if(!c(e))throw Error(o(299));var u=!1,m="",p=Im,S=Gm,E=Fm,P=null,F=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(P=r.unstable_transitionCallbacks),r.formState!==void 0&&(F=r.formState)),t=vp(e,1,!0,t,r??null,u,m,p,S,E,P,F),t.context=yp(null),r=t.current,u=ci(),u=wa(u),m=ws(u),m.callback=null,Ss(r,m,u),r=u,t.current.lanes=r,Ji(t,r),va(t),e[na]=t.current,lh(e),new gc(t)},Bl.version="19.1.0",Bl}var Bp;function H0(){if(Bp)return Ah.exports;Bp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ah.exports=$0(),Ah.exports}var q0=H0();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Up="popstate";function I0(i={}){function n(o,c){let{pathname:d,search:g,hash:v}=o.location;return Gh("",{pathname:d,search:g,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(o,c){return typeof c=="string"?c:Kl(c)}return F0(n,s,null,i)}function jt(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Yi(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function G0(){return Math.random().toString(36).substring(2,10)}function Zp(i,n){return{usr:i.state,key:i.key,idx:n}}function Gh(i,n,s=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Po(n):n,state:s,key:n&&n.key||o||G0()}}function Kl({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function Po(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let o=i.indexOf("?");o>=0&&(n.search=i.substring(o),i=i.substring(0,o)),i&&(n.pathname=i)}return n}function F0(i,n,s,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,g=c.history,v="POP",y=null,x=w();x==null&&(x=0,g.replaceState({...g.state,idx:x},""));function w(){return(g.state||{idx:null}).idx}function j(){v="POP";let D=w(),I=D==null?null:D-x;x=D,y&&y({action:v,location:z.location,delta:I})}function k(D,I){v="PUSH";let H=Gh(z.location,D,I);x=w()+1;let B=Zp(H,x),J=z.createHref(H);try{g.pushState(B,"",J)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;c.location.assign(J)}d&&y&&y({action:v,location:z.location,delta:1})}function A(D,I){v="REPLACE";let H=Gh(z.location,D,I);x=w();let B=Zp(H,x),J=z.createHref(H);g.replaceState(B,"",J),d&&y&&y({action:v,location:z.location,delta:0})}function M(D){return Y0(D)}let z={get action(){return v},get location(){return i(c,g)},listen(D){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(Up,j),y=D,()=>{c.removeEventListener(Up,j),y=null}},createHref(D){return n(c,D)},createURL:M,encodeLocation(D){let I=M(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:k,replace:A,go(D){return g.go(D)}};return z}function Y0(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),jt(s,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:Kl(i);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function J_(i,n,s="/"){return V0(i,n,s,!1)}function V0(i,n,s,o){let c=typeof n=="string"?Po(n):n,d=Va(c.pathname||"/",s);if(d==null)return null;let g=ev(i);K0(g);let v=null;for(let y=0;v==null&&y<g.length;++y){let x=rx(d);v=ax(g[y],x,o)}return v}function ev(i,n=[],s=[],o=""){let c=(d,g,v)=>{let y={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};y.relativePath.startsWith("/")&&(jt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length));let x=Ya([o,y.relativePath]),w=s.concat(y);d.children&&d.children.length>0&&(jt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ev(d.children,n,w,x)),!(d.path==null&&!d.index)&&n.push({path:x,score:nx(x,d.index),routesMeta:w})};return i.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let v of tv(d.path))c(d,g,v)}),n}function tv(i){let n=i.split("/");if(n.length===0)return[];let[s,...o]=n,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let g=tv(o.join("/")),v=[];return v.push(...g.map(y=>y===""?d:[d,y].join("/"))),c&&v.push(...g),v.map(y=>i.startsWith("/")&&y===""?"/":y)}function K0(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:ix(n.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var X0=/^:[\w-]+$/,W0=3,Q0=2,J0=1,ex=10,tx=-2,$p=i=>i==="*";function nx(i,n){let s=i.split("/"),o=s.length;return s.some($p)&&(o+=tx),n&&(o+=Q0),s.filter(c=>!$p(c)).reduce((c,d)=>c+(X0.test(d)?W0:d===""?J0:ex),o)}function ix(i,n){return i.length===n.length&&i.slice(0,-1).every((o,c)=>o===n[c])?i[i.length-1]-n[n.length-1]:0}function ax(i,n,s=!1){let{routesMeta:o}=i,c={},d="/",g=[];for(let v=0;v<o.length;++v){let y=o[v],x=v===o.length-1,w=d==="/"?n:n.slice(d.length)||"/",j=Cc({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},w),k=y.route;if(!j&&x&&s&&!o[o.length-1].route.index&&(j=Cc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!j)return null;Object.assign(c,j.params),g.push({params:c,pathname:Ya([d,j.pathname]),pathnameBase:cx(Ya([d,j.pathnameBase])),route:k}),j.pathnameBase!=="/"&&(d=Ya([d,j.pathnameBase]))}return g}function Cc(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=sx(i.path,i.caseSensitive,i.end),c=n.match(s);if(!c)return null;let d=c[0],g=d.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:o.reduce((x,{paramName:w,isOptional:j},k)=>{if(w==="*"){let M=v[k]||"";g=d.slice(0,d.length-M.length).replace(/(.)\/+$/,"$1")}const A=v[k];return j&&!A?x[w]=void 0:x[w]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:g,pattern:i}}function sx(i,n=!1,s=!0){Yi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],c="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,v,y)=>(o.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(o.push({paramName:"*"}),c+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":i!==""&&i!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function rx(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Yi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Va(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}function ox(i,n="/"){let{pathname:s,search:o="",hash:c=""}=typeof i=="string"?Po(i):i;return{pathname:s?s.startsWith("/")?s:lx(s,n):n,search:dx(o),hash:hx(c)}}function lx(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function Lh(i,n,s,o){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ux(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function mf(i){let n=ux(i);return n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase)}function gf(i,n,s,o=!1){let c;typeof i=="string"?c=Po(i):(c={...i},jt(!c.pathname||!c.pathname.includes("?"),Lh("?","pathname","search",c)),jt(!c.pathname||!c.pathname.includes("#"),Lh("#","pathname","hash",c)),jt(!c.search||!c.search.includes("#"),Lh("#","search","hash",c)));let d=i===""||c.pathname==="",g=d?"/":c.pathname,v;if(g==null)v=s;else{let j=n.length-1;if(!o&&g.startsWith("..")){let k=g.split("/");for(;k[0]==="..";)k.shift(),j-=1;c.pathname=k.join("/")}v=j>=0?n[j]:"/"}let y=ox(c,v),x=g&&g!=="/"&&g.endsWith("/"),w=(d||g===".")&&s.endsWith("/");return!y.pathname.endsWith("/")&&(x||w)&&(y.pathname+="/"),y}var Ya=i=>i.join("/").replace(/\/\/+/g,"/"),cx=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,hx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function fx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var nv=["POST","PUT","PATCH","DELETE"];new Set(nv);var mx=["GET",...nv];new Set(mx);var Do=N.createContext(null);Do.displayName="DataRouter";var Dc=N.createContext(null);Dc.displayName="DataRouterState";N.createContext(!1);var iv=N.createContext({isTransitioning:!1});iv.displayName="ViewTransition";var gx=N.createContext(new Map);gx.displayName="Fetchers";var px=N.createContext(null);px.displayName="Await";var Ki=N.createContext(null);Ki.displayName="Navigation";var eu=N.createContext(null);eu.displayName="Location";var ya=N.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var pf=N.createContext(null);pf.displayName="RouteError";function _x(i,{relative:n}={}){jt(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=N.useContext(Ki),{hash:c,pathname:d,search:g}=tu(i,{relative:n}),v=d;return s!=="/"&&(v=d==="/"?s:Ya([s,d])),o.createHref({pathname:v,search:g,hash:c})}function Bo(){return N.useContext(eu)!=null}function Ka(){return jt(Bo(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(eu).location}var av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sv(i){N.useContext(Ki).static||N.useLayoutEffect(i)}function Uo(){let{isDataRoute:i}=N.useContext(ya);return i?Cx():vx()}function vx(){jt(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(Do),{basename:n,navigator:s}=N.useContext(Ki),{matches:o}=N.useContext(ya),{pathname:c}=Ka(),d=JSON.stringify(mf(o)),g=N.useRef(!1);return sv(()=>{g.current=!0}),N.useCallback((y,x={})=>{if(Yi(g.current,av),!g.current)return;if(typeof y=="number"){s.go(y);return}let w=gf(y,JSON.parse(d),c,x.relative==="path");i==null&&n!=="/"&&(w.pathname=w.pathname==="/"?n:Ya([n,w.pathname])),(x.replace?s.replace:s.push)(w,x.state,x)},[n,s,d,c,i])}N.createContext(null);function tu(i,{relative:n}={}){let{matches:s}=N.useContext(ya),{pathname:o}=Ka(),c=JSON.stringify(mf(s));return N.useMemo(()=>gf(i,JSON.parse(c),o,n==="path"),[i,c,o,n])}function yx(i,n){return rv(i,n)}function rv(i,n,s,o){jt(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=N.useContext(Ki),{matches:d}=N.useContext(ya),g=d[d.length-1],v=g?g.params:{},y=g?g.pathname:"/",x=g?g.pathnameBase:"/",w=g&&g.route;{let I=w&&w.path||"";ov(y,!w||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let j=Ka(),k;if(n){let I=typeof n=="string"?Po(n):n;jt(x==="/"||I.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${I.pathname}" was given in the \`location\` prop.`),k=I}else k=j;let A=k.pathname||"/",M=A;if(x!=="/"){let I=x.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let z=J_(i,{pathname:M});Yi(w||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Yi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=jx(z&&z.map(I=>Object.assign({},I,{params:Object.assign({},v,I.params),pathname:Ya([x,c.encodeLocation?c.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?x:Ya([x,c.encodeLocation?c.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),d,s,o);return n&&D?N.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},D):D}function xx(){let i=Ax(),n=fx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",i),g=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:d},"ErrorBoundary")," or"," ",N.createElement("code",{style:d},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},n),s?N.createElement("pre",{style:c},s):null,g)}var bx=N.createElement(xx,null),wx=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){console.error("React Router caught the following error during render",i,n)}render(){return this.state.error!==void 0?N.createElement(ya.Provider,{value:this.props.routeContext},N.createElement(pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sx({routeContext:i,match:n,children:s}){let o=N.useContext(Do);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(ya.Provider,{value:i},s)}function jx(i,n=[],s=null,o=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let c=i,d=s?.errors;if(d!=null){let y=c.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);jt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let g=!1,v=-1;if(s)for(let y=0;y<c.length;y++){let x=c[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(v=y),x.route.id){let{loaderData:w,errors:j}=s,k=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!j||j[x.route.id]===void 0);if(x.route.lazy||k){g=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((y,x,w)=>{let j,k=!1,A=null,M=null;s&&(j=d&&x.route.id?d[x.route.id]:void 0,A=x.route.errorElement||bx,g&&(v<0&&w===0?(ov("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,M=null):v===w&&(k=!0,M=x.route.hydrateFallbackElement||null)));let z=n.concat(c.slice(0,w+1)),D=()=>{let I;return j?I=A:k?I=M:x.route.Component?I=N.createElement(x.route.Component,null):x.route.element?I=x.route.element:I=y,N.createElement(Sx,{match:x,routeContext:{outlet:y,matches:z,isDataRoute:s!=null},children:I})};return s&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?N.createElement(wx,{location:s.location,revalidation:s.revalidation,component:A,error:j,children:D(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):D()},null)}function _f(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tx(i){let n=N.useContext(Do);return jt(n,_f(i)),n}function Ex(i){let n=N.useContext(Dc);return jt(n,_f(i)),n}function Nx(i){let n=N.useContext(ya);return jt(n,_f(i)),n}function vf(i){let n=Nx(i),s=n.matches[n.matches.length-1];return jt(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function kx(){return vf("useRouteId")}function Ax(){let i=N.useContext(pf),n=Ex("useRouteError"),s=vf("useRouteError");return i!==void 0?i:n.errors?.[s]}function Cx(){let{router:i}=Tx("useNavigate"),n=vf("useNavigate"),s=N.useRef(!1);return sv(()=>{s.current=!0}),N.useCallback(async(c,d={})=>{Yi(s.current,av),s.current&&(typeof c=="number"?i.navigate(c):await i.navigate(c,{fromRouteId:n,...d}))},[i,n])}var Hp={};function ov(i,n,s){!n&&!Hp[i]&&(Hp[i]=!0,Yi(!1,s))}N.memo(Mx);function Mx({routes:i,future:n,state:s}){return rv(i,void 0,s,n)}function lv({to:i,replace:n,state:s,relative:o}){jt(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=N.useContext(Ki);Yi(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=N.useContext(ya),{pathname:g}=Ka(),v=Uo(),y=gf(i,mf(d),g,o==="path"),x=JSON.stringify(y);return N.useEffect(()=>{v(JSON.parse(x),{replace:n,state:s,relative:o})},[v,x,o,n,s]),null}function Rn(i){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ox({basename:i="/",children:n=null,location:s,navigationType:o="POP",navigator:c,static:d=!1}){jt(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),v=N.useMemo(()=>({basename:g,navigator:c,static:d,future:{}}),[g,c,d]);typeof s=="string"&&(s=Po(s));let{pathname:y="/",search:x="",hash:w="",state:j=null,key:k="default"}=s,A=N.useMemo(()=>{let M=Va(y,g);return M==null?null:{location:{pathname:M,search:x,hash:w,state:j,key:k},navigationType:o}},[g,y,x,w,j,k,o]);return Yi(A!=null,`<Router basename="${g}"> is not able to match the URL "${y}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(Ki.Provider,{value:v},N.createElement(eu.Provider,{children:n,value:A}))}function Lx({children:i,location:n}){return yx(Fh(i),n)}function Fh(i,n=[]){let s=[];return N.Children.forEach(i,(o,c)=>{if(!N.isValidElement(o))return;let d=[...n,c];if(o.type===N.Fragment){s.push.apply(s,Fh(o.props.children,d));return}jt(o.type===Rn,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=Fh(o.props.children,d)),s.push(g)}),s}var kc="get",Ac="application/x-www-form-urlencoded";function Bc(i){return i!=null&&typeof i.tagName=="string"}function zx(i){return Bc(i)&&i.tagName.toLowerCase()==="button"}function Rx(i){return Bc(i)&&i.tagName.toLowerCase()==="form"}function Px(i){return Bc(i)&&i.tagName.toLowerCase()==="input"}function Dx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Bx(i,n){return i.button===0&&(!n||n==="_self")&&!Dx(i)}var vc=null;function Ux(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var Zx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zh(i){return i!=null&&!Zx.has(i)?(Yi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ac}"`),null):i}function $x(i,n){let s,o,c,d,g;if(Rx(i)){let v=i.getAttribute("action");o=v?Va(v,n):null,s=i.getAttribute("method")||kc,c=zh(i.getAttribute("enctype"))||Ac,d=new FormData(i)}else if(zx(i)||Px(i)&&(i.type==="submit"||i.type==="image")){let v=i.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||v.getAttribute("action");if(o=y?Va(y,n):null,s=i.getAttribute("formmethod")||v.getAttribute("method")||kc,c=zh(i.getAttribute("formenctype"))||zh(v.getAttribute("enctype"))||Ac,d=new FormData(v,i),!Ux()){let{name:x,type:w,value:j}=i;if(w==="image"){let k=x?`${x}.`:"";d.append(`${k}x`,"0"),d.append(`${k}y`,"0")}else x&&d.append(x,j)}}else{if(Bc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=kc,o=null,c=Ac,g=i}return d&&c==="text/plain"&&(g=d,d=void 0),{action:o,method:s.toLowerCase(),encType:c,formData:d,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yf(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Hx(i,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return o.pathname==="/"?o.pathname=`_root.${s}`:n&&Va(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function qx(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ix(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Gx(i,n,s){let o=await Promise.all(i.map(async c=>{let d=n.routes[c.route.id];if(d){let g=await qx(d,s);return g.links?g.links():[]}return[]}));return Kx(o.flat(1).filter(Ix).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function qp(i,n,s,o,c,d){let g=(y,x)=>s[x]?y.route.id!==s[x].route.id:!0,v=(y,x)=>s[x].pathname!==y.pathname||s[x].route.path?.endsWith("*")&&s[x].params["*"]!==y.params["*"];return d==="assets"?n.filter((y,x)=>g(y,x)||v(y,x)):d==="data"?n.filter((y,x)=>{let w=o.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(g(y,x)||v(y,x))return!0;if(y.route.shouldRevalidate){let j=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Fx(i,n,{includeHydrateFallback:s}={}){return Yx(i.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function Yx(i){return[...new Set(i)]}function Vx(i){let n={},s=Object.keys(i).sort();for(let o of s)n[o]=i[o];return n}function Kx(i,n){let s=new Set;return new Set(n),i.reduce((o,c)=>{let d=JSON.stringify(Vx(c));return s.has(d)||(s.add(d),o.push({key:d,link:c})),o},[])}function uv(){let i=N.useContext(Do);return yf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Xx(){let i=N.useContext(Dc);return yf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xf=N.createContext(void 0);xf.displayName="FrameworkContext";function cv(){let i=N.useContext(xf);return yf(i,"You must render this element inside a <HydratedRouter> element"),i}function Wx(i,n){let s=N.useContext(xf),[o,c]=N.useState(!1),[d,g]=N.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:x,onMouseLeave:w,onTouchStart:j}=n,k=N.useRef(null);N.useEffect(()=>{if(i==="render"&&g(!0),i==="viewport"){let z=I=>{I.forEach(H=>{g(H.isIntersecting)})},D=new IntersectionObserver(z,{threshold:.5});return k.current&&D.observe(k.current),()=>{D.disconnect()}}},[i]),N.useEffect(()=>{if(o){let z=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(z)}}},[o]);let A=()=>{c(!0)},M=()=>{c(!1),g(!1)};return s?i!=="intent"?[d,k,{}]:[d,k,{onFocus:Ul(v,A),onBlur:Ul(y,M),onMouseEnter:Ul(x,A),onMouseLeave:Ul(w,M),onTouchStart:Ul(j,A)}]:[!1,k,{}]}function Ul(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function Qx({page:i,...n}){let{router:s}=uv(),o=N.useMemo(()=>J_(s.routes,i,s.basename),[s.routes,i,s.basename]);return o?N.createElement(eb,{page:i,matches:o,...n}):null}function Jx(i){let{manifest:n,routeModules:s}=cv(),[o,c]=N.useState([]);return N.useEffect(()=>{let d=!1;return Gx(i,n,s).then(g=>{d||c(g)}),()=>{d=!0}},[i,n,s]),o}function eb({page:i,matches:n,...s}){let o=Ka(),{manifest:c,routeModules:d}=cv(),{basename:g}=uv(),{loaderData:v,matches:y}=Xx(),x=N.useMemo(()=>qp(i,n,y,c,o,"data"),[i,n,y,c,o]),w=N.useMemo(()=>qp(i,n,y,c,o,"assets"),[i,n,y,c,o]),j=N.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let M=new Set,z=!1;if(n.forEach(I=>{let H=c.routes[I.route.id];!H||!H.hasLoader||(!x.some(B=>B.route.id===I.route.id)&&I.route.id in v&&d[I.route.id]?.shouldRevalidate||H.hasClientLoader?z=!0:M.add(I.route.id))}),M.size===0)return[];let D=Hx(i,g,"data");return z&&M.size>0&&D.searchParams.set("_routes",n.filter(I=>M.has(I.route.id)).map(I=>I.route.id).join(",")),[D.pathname+D.search]},[g,v,o,c,x,n,i,d]),k=N.useMemo(()=>Fx(w,c),[w,c]),A=Jx(w);return N.createElement(N.Fragment,null,j.map(M=>N.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...s})),k.map(M=>N.createElement("link",{key:M,rel:"modulepreload",href:M,...s})),A.map(({key:M,link:z})=>N.createElement("link",{key:M,...z})))}function tb(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.7.0")}catch{}function nb({basename:i,children:n,window:s}){let o=N.useRef();o.current==null&&(o.current=I0({window:s,v5Compat:!0}));let c=o.current,[d,g]=N.useState({action:c.action,location:c.location}),v=N.useCallback(y=>{N.startTransition(()=>g(y))},[g]);return N.useLayoutEffect(()=>c.listen(v),[c,v]),N.createElement(Ox,{basename:i,children:n,location:d.location,navigationType:d.action,navigator:c})}var hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bf=N.forwardRef(function({onClick:n,discover:s="render",prefetch:o="none",relative:c,reloadDocument:d,replace:g,state:v,target:y,to:x,preventScrollReset:w,viewTransition:j,...k},A){let{basename:M}=N.useContext(Ki),z=typeof x=="string"&&hv.test(x),D,I=!1;if(typeof x=="string"&&z&&(D=x,dv))try{let be=new URL(window.location.href),fe=x.startsWith("//")?new URL(be.protocol+x):new URL(x),Ee=Va(fe.pathname,M);fe.origin===be.origin&&Ee!=null?x=Ee+fe.search+fe.hash:I=!0}catch{Yi(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=_x(x,{relative:c}),[B,J,K]=Wx(o,k),oe=rb(x,{replace:g,state:v,target:y,preventScrollReset:w,relative:c,viewTransition:j});function xe(be){n&&n(be),be.defaultPrevented||oe(be)}let Re=N.createElement("a",{...k,...K,href:D||H,onClick:I||d?n:xe,ref:tb(A,J),target:y,"data-discover":!z&&s==="render"?"true":void 0});return B&&!z?N.createElement(N.Fragment,null,Re,N.createElement(Qx,{page:H})):Re});bf.displayName="Link";var ib=N.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:o="",end:c=!1,style:d,to:g,viewTransition:v,children:y,...x},w){let j=tu(g,{relative:x.relative}),k=Ka(),A=N.useContext(Dc),{navigator:M,basename:z}=N.useContext(Ki),D=A!=null&&db(j)&&v===!0,I=M.encodeLocation?M.encodeLocation(j).pathname:j.pathname,H=k.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;s||(H=H.toLowerCase(),B=B?B.toLowerCase():null,I=I.toLowerCase()),B&&z&&(B=Va(B,z)||B);const J=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let K=H===I||!c&&H.startsWith(I)&&H.charAt(J)==="/",oe=B!=null&&(B===I||!c&&B.startsWith(I)&&B.charAt(I.length)==="/"),xe={isActive:K,isPending:oe,isTransitioning:D},Re=K?n:void 0,be;typeof o=="function"?be=o(xe):be=[o,K?"active":null,oe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let fe=typeof d=="function"?d(xe):d;return N.createElement(bf,{...x,"aria-current":Re,className:be,ref:w,style:fe,to:g,viewTransition:v},typeof y=="function"?y(xe):y)});ib.displayName="NavLink";var ab=N.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:o,replace:c,state:d,method:g=kc,action:v,onSubmit:y,relative:x,preventScrollReset:w,viewTransition:j,...k},A)=>{let M=ub(),z=cb(v,{relative:x}),D=g.toLowerCase()==="get"?"get":"post",I=typeof v=="string"&&hv.test(v),H=B=>{if(y&&y(B),B.defaultPrevented)return;B.preventDefault();let J=B.nativeEvent.submitter,K=J?.getAttribute("formmethod")||g;M(J||B.currentTarget,{fetcherKey:n,method:K,navigate:s,replace:c,state:d,relative:x,preventScrollReset:w,viewTransition:j})};return N.createElement("form",{ref:A,method:D,action:z,onSubmit:o?y:H,...k,"data-discover":!I&&i==="render"?"true":void 0})});ab.displayName="Form";function sb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fv(i){let n=N.useContext(Do);return jt(n,sb(i)),n}function rb(i,{target:n,replace:s,state:o,preventScrollReset:c,relative:d,viewTransition:g}={}){let v=Uo(),y=Ka(),x=tu(i,{relative:d});return N.useCallback(w=>{if(Bx(w,n)){w.preventDefault();let j=s!==void 0?s:Kl(y)===Kl(x);v(i,{replace:j,state:o,preventScrollReset:c,relative:d,viewTransition:g})}},[y,v,x,s,o,n,i,c,d,g])}var ob=0,lb=()=>`__${String(++ob)}__`;function ub(){let{router:i}=fv("useSubmit"),{basename:n}=N.useContext(Ki),s=kx();return N.useCallback(async(o,c={})=>{let{action:d,method:g,encType:v,formData:y,body:x}=$x(o,n);if(c.navigate===!1){let w=c.fetcherKey||lb();await i.fetch(w,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:x,formMethod:c.method||g,formEncType:c.encType||v,flushSync:c.flushSync})}else await i.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:y,body:x,formMethod:c.method||g,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,n,s])}function cb(i,{relative:n}={}){let{basename:s}=N.useContext(Ki),o=N.useContext(ya);jt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...tu(i||".",{relative:n})},g=Ka();if(i==null){d.search=g.search;let v=new URLSearchParams(d.search),y=v.getAll("index");if(y.some(w=>w==="")){v.delete("index"),y.filter(j=>j).forEach(j=>v.append("index",j));let w=v.toString();d.search=w?`?${w}`:""}}return(!i||i===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Ya([s,d.pathname])),Kl(d)}function db(i,n={}){let s=N.useContext(iv);jt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=fv("useViewTransitionState"),c=tu(i,{relative:n.relative});if(!s.isTransitioning)return!1;let d=Va(s.currentLocation.pathname,o)||s.currentLocation.pathname,g=Va(s.nextLocation.pathname,o)||s.nextLocation.pathname;return Cc(c.pathname,g)!=null||Cc(c.pathname,d)!=null}var hb=Q_();const fb="modulepreload",mb=function(i){return"/"+i},Ip={},Zo=function(n,s,o){let c=Promise.resolve();if(s&&s.length>0){let x=function(w){return Promise.all(w.map(j=>Promise.resolve(j).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};var g=x;document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),y=v?.nonce||v?.getAttribute("nonce");c=x(s.map(w=>{if(w=mb(w),w in Ip)return;Ip[w]=!0;const j=w.endsWith(".css"),k=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${k}`))return;const A=document.createElement("link");if(A.rel=j?"stylesheet":fb,j||(A.as="script"),A.crossOrigin="",A.href=w,y&&A.setAttribute("nonce",y),document.head.appendChild(A),j)return new Promise((M,z)=>{A.addEventListener("load",M),A.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${w}`)))})}))}function d(v){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=v,window.dispatchEvent(y),!y.defaultPrevented)throw v}return c.then(v=>{for(const y of v||[])y.status==="rejected"&&d(y.reason);return n().catch(d)})},gb=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Zo(async()=>{const{default:o}=await Promise.resolve().then(()=>$o);return{default:o}},[]).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class wf extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class pb extends wf{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Gp extends wf{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Fp extends wf{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Yh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Yh||(Yh={}));var _b=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};class vb{constructor(n,{headers:s={},customFetch:o,region:c=Yh.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=gb(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return _b(this,void 0,void 0,function*(){try{const{headers:c,method:d,body:g}=s;let v={},{region:y}=s;y||(y=this.region);const x=new URL(`${this.url}/${n}`);y&&y!=="any"&&(v["x-region"]=y,x.searchParams.set("forceFunctionRegion",y));let w;g&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=g):typeof g=="string"?(v["Content-Type"]="text/plain",w=g):typeof FormData<"u"&&g instanceof FormData?w=g:(v["Content-Type"]="application/json",w=JSON.stringify(g)));const j=yield this.fetch(x.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),c),body:w}).catch(z=>{throw new pb(z)}),k=j.headers.get("x-relay-error");if(k&&k==="true")throw new Gp(j);if(!j.ok)throw new Fp(j);let A=((o=j.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return A==="application/json"?M=yield j.json():A==="application/octet-stream"?M=yield j.blob():A==="text/event-stream"?M=j:A==="multipart/form-data"?M=yield j.formData():M=yield j.text(),{data:M,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof Fp||c instanceof Gp?c.context:void 0}}})}}var rn={},bo={},wo={},So={},jo={},To={},yb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zo=yb();const xb=zo.fetch,mv=zo.fetch.bind(zo),gv=zo.Headers,bb=zo.Request,wb=zo.Response,$o=Object.freeze(Object.defineProperty({__proto__:null,Headers:gv,Request:bb,Response:wb,default:mv,fetch:xb},Symbol.toStringTag,{value:"Module"})),Sb=z0($o);var yc={},Yp;function pv(){if(Yp)return yc;Yp=1,Object.defineProperty(yc,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return yc.default=i,yc}var Vp;function _v(){if(Vp)return To;Vp=1;var i=To&&To.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(To,"__esModule",{value:!0});const n=i(Sb),s=i(pv());class o{constructor(d){this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=d.headers,this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=d.shouldThrowOnError,this.signal=d.signal,this.isMaybeSingle=d.isMaybeSingle,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,g){return this.headers=Object.assign({},this.headers),this.headers[d]=g,this}then(d,g){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const v=this.fetch;let y=v(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var w,j,k;let A=null,M=null,z=null,D=x.status,I=x.statusText;if(x.ok){if(this.method!=="HEAD"){const K=await x.text();K===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?M=K:M=JSON.parse(K))}const B=(w=this.headers.Prefer)===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),J=(j=x.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");B&&J&&J.length>1&&(z=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(M)&&(M.length>1?(A={code:"PGRST116",details:`Results contain ${M.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},M=null,z=null,D=406,I="Not Acceptable"):M.length===1?M=M[0]:M=null)}else{const B=await x.text();try{A=JSON.parse(B),Array.isArray(A)&&x.status===404&&(M=[],A=null,D=200,I="OK")}catch{x.status===404&&B===""?(D=204,I="No Content"):A={message:B}}if(A&&this.isMaybeSingle&&(!((k=A?.details)===null||k===void 0)&&k.includes("0 rows"))&&(A=null,D=200,I="OK"),A&&this.shouldThrowOnError)throw new s.default(A)}return{error:A,data:M,count:z,status:D,statusText:I}});return this.shouldThrowOnError||(y=y.catch(x=>{var w,j,k;return{error:{message:`${(w=x?.name)!==null&&w!==void 0?w:"FetchError"}: ${x?.message}`,details:`${(j=x?.stack)!==null&&j!==void 0?j:""}`,hint:"",code:`${(k=x?.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),y.then(d,g)}returns(){return this}overrideTypes(){return this}}return To.default=o,To}var Kp;function vv(){if(Kp)return jo;Kp=1;var i=jo&&jo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(jo,"__esModule",{value:!0});const n=i(_v());class s extends n.default{select(c){let d=!1;const g=(c??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join("");return this.url.searchParams.set("select",g),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:d=!0,nullsFirst:g,foreignTable:v,referencedTable:y=v}={}){const x=y?`${y}.order`:"order",w=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${w?`${w},`:""}${c}.${d?"asc":"desc"}${g===void 0?"":g?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:d,referencedTable:g=d}={}){const v=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(v,`${c}`),this}range(c,d,{foreignTable:g,referencedTable:v=g}={}){const y=typeof v>"u"?"offset":`${v}.offset`,x=typeof v>"u"?"limit":`${v}.limit`;return this.url.searchParams.set(y,`${c}`),this.url.searchParams.set(x,`${d-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:d=!1,settings:g=!1,buffers:v=!1,wal:y=!1,format:x="text"}={}){var w;const j=[c?"analyze":null,d?"verbose":null,g?"settings":null,v?"buffers":null,y?"wal":null].filter(Boolean).join("|"),k=(w=this.headers.Accept)!==null&&w!==void 0?w:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${k}"; options=${j};`,x==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return jo.default=s,jo}var Xp;function Sf(){if(Xp)return So;Xp=1;var i=So&&So.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(So,"__esModule",{value:!0});const n=i(vv());class s extends n.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const g=Array.from(new Set(d)).map(v=>typeof v=="string"&&new RegExp("[,()]").test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(c,`in.(${g})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:g,type:v}={}){let y="";v==="plain"?y="pl":v==="phrase"?y="ph":v==="websearch"&&(y="w");const x=g===void 0?"":`(${g})`;return this.url.searchParams.append(c,`${y}fts${x}.${d}`),this}match(c){return Object.entries(c).forEach(([d,g])=>{this.url.searchParams.append(d,`eq.${g}`)}),this}not(c,d,g){return this.url.searchParams.append(c,`not.${d}.${g}`),this}or(c,{foreignTable:d,referencedTable:g=d}={}){const v=g?`${g}.or`:"or";return this.url.searchParams.append(v,`(${c})`),this}filter(c,d,g){return this.url.searchParams.append(c,`${d}.${g}`),this}}return So.default=s,So}var Wp;function yv(){if(Wp)return wo;Wp=1;var i=wo&&wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wo,"__esModule",{value:!0});const n=i(Sf());class s{constructor(c,{headers:d={},schema:g,fetch:v}){this.url=c,this.headers=d,this.schema=g,this.fetch=v}select(c,{head:d=!1,count:g}={}){const v=d?"HEAD":"GET";let y=!1;const x=(c??"*").split("").map(w=>/\s/.test(w)&&!y?"":(w==='"'&&(y=!y),w)).join("");return this.url.searchParams.set("select",x),g&&(this.headers.Prefer=`count=${g}`),new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:d,defaultToNull:g=!0}={}){const v="POST",y=[];if(this.headers.Prefer&&y.push(this.headers.Prefer),d&&y.push(`count=${d}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(c)){const x=c.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(x.length>0){const w=[...new Set(x)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:d,ignoreDuplicates:g=!1,count:v,defaultToNull:y=!0}={}){const x="POST",w=[`resolution=${g?"ignore":"merge"}-duplicates`];if(d!==void 0&&this.url.searchParams.set("on_conflict",d),this.headers.Prefer&&w.push(this.headers.Prefer),v&&w.push(`count=${v}`),y||w.push("missing=default"),this.headers.Prefer=w.join(","),Array.isArray(c)){const j=c.reduce((k,A)=>k.concat(Object.keys(A)),[]);if(j.length>0){const k=[...new Set(j)].map(A=>`"${A}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:d}={}){const g="PATCH",v=[];return this.headers.Prefer&&v.push(this.headers.Prefer),d&&v.push(`count=${d}`),this.headers.Prefer=v.join(","),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const d="DELETE",g=[];return c&&g.push(`count=${c}`),this.headers.Prefer&&g.unshift(this.headers.Prefer),this.headers.Prefer=g.join(","),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return wo.default=s,wo}var Zl={},$l={},Qp;function jb(){return Qp||(Qp=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.version=void 0,$l.version="0.0.0-automated"),$l}var Jp;function Tb(){if(Jp)return Zl;Jp=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.DEFAULT_HEADERS=void 0;const i=jb();return Zl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${i.version}`},Zl}var e_;function Eb(){if(e_)return bo;e_=1;var i=bo&&bo.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(bo,"__esModule",{value:!0});const n=i(yv()),s=i(Sf()),o=Tb();class c{constructor(g,{headers:v={},schema:y,fetch:x}={}){this.url=g,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),v),this.schemaName=y,this.fetch=x}from(g){const v=new URL(`${this.url}/${g}`);return new n.default(v,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(g){return new c(this.url,{headers:this.headers,schema:g,fetch:this.fetch})}rpc(g,v={},{head:y=!1,get:x=!1,count:w}={}){let j;const k=new URL(`${this.url}/rpc/${g}`);let A;y||x?(j=y?"HEAD":"GET",Object.entries(v).filter(([z,D])=>D!==void 0).map(([z,D])=>[z,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([z,D])=>{k.searchParams.append(z,D)})):(j="POST",A=v);const M=Object.assign({},this.headers);return w&&(M.Prefer=`count=${w}`),new s.default({method:j,url:k,headers:M,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return bo.default=c,bo}var t_;function Nb(){if(t_)return rn;t_=1;var i=rn&&rn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(rn,"__esModule",{value:!0}),rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const n=i(Eb());rn.PostgrestClient=n.default;const s=i(yv());rn.PostgrestQueryBuilder=s.default;const o=i(Sf());rn.PostgrestFilterBuilder=o.default;const c=i(vv());rn.PostgrestTransformBuilder=c.default;const d=i(_v());rn.PostgrestBuilder=d.default;const g=i(pv());return rn.PostgrestError=g.default,rn.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:d.default,PostgrestError:g.default},rn}var kb=Nb();const Ab=Pc(kb),{PostgrestClient:Cb,PostgrestQueryBuilder:ek,PostgrestFilterBuilder:tk,PostgrestTransformBuilder:nk,PostgrestBuilder:ik,PostgrestError:ak}=Ab;function Mb(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ob=Mb(),Lb="2.11.15",zb=`realtime-js/${Lb}`,Rb="1.0.0",xv=1e4,Pb=1e3;var Fl;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Fl||(Fl={}));var Sn;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Sn||(Sn={}));var Fi;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Fi||(Fi={}));var Vh;(function(i){i.websocket="websocket"})(Vh||(Vh={}));var jr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(jr||(jr={}));class Db{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const c=s.getUint8(1),d=s.getUint8(2);let g=this.HEADER_LENGTH+2;const v=o.decode(n.slice(g,g+c));g=g+c;const y=o.decode(n.slice(g,g+d));g=g+d;const x=JSON.parse(o.decode(n.slice(g,n.byteLength)));return{ref:null,topic:v,event:y,payload:x}}}class bv{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(mt||(mt={}));const n_=(i,n,s={})=>{var o;const c=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((d,g)=>(d[g]=Bb(g,i,n,c),d),{})},Bb=(i,n,s,o)=>{const c=n.find(v=>v.name===i),d=c?.type,g=s[i];return d&&!o.includes(d)?wv(d,g):Kh(g)},wv=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Hb(n,s)}switch(i){case mt.bool:return Ub(n);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return Zb(n);case mt.json:case mt.jsonb:return $b(n);case mt.timestamp:return qb(n);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return Kh(n);default:return Kh(n)}},Kh=i=>i,Ub=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Zb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},$b=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},Hb=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,o=i[s];if(i[0]==="{"&&o==="}"){let d;const g=i.slice(1,s);try{d=JSON.parse("["+g+"]")}catch{d=g?g.split(","):[]}return d.map(v=>wv(n,v))}return i},qb=i=>typeof i=="string"?i.replace(" ","T"):i,Sv=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Rh{constructor(n,s,o={},c=xv){this.channel=n,this.event=s,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var i_;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(i_||(i_={}));class Yl{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:d,onLeave:g,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yl.syncState(this.state,c,d,g),this.pendingDiffs.forEach(y=>{this.state=Yl.syncDiff(this.state,y,d,g)}),this.pendingDiffs=[],v()}),this.channel._on(o.diff,{},c=>{const{onJoin:d,onLeave:g,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Yl.syncDiff(this.state,c,d,g),v())}),this.onJoin((c,d,g)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:g})}),this.onLeave((c,d,g)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:g})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,c){const d=this.cloneDeep(n),g=this.transformState(s),v={},y={};return this.map(d,(x,w)=>{g[x]||(y[x]=w)}),this.map(g,(x,w)=>{const j=d[x];if(j){const k=w.map(D=>D.presence_ref),A=j.map(D=>D.presence_ref),M=w.filter(D=>A.indexOf(D.presence_ref)<0),z=j.filter(D=>k.indexOf(D.presence_ref)<0);M.length>0&&(v[x]=M),z.length>0&&(y[x]=z)}else v[x]=w}),this.syncDiff(d,{joins:v,leaves:y},o,c)}static syncDiff(n,s,o,c){const{joins:d,leaves:g}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(d,(v,y)=>{var x;const w=(x=n[v])!==null&&x!==void 0?x:[];if(n[v]=this.cloneDeep(y),w.length>0){const j=n[v].map(A=>A.presence_ref),k=w.filter(A=>j.indexOf(A.presence_ref)<0);n[v].unshift(...k)}o(v,w,y)}),this.map(g,(v,y)=>{let x=n[v];if(!x)return;const w=y.map(j=>j.presence_ref);x=x.filter(j=>w.indexOf(j.presence_ref)<0),n[v]=x,c(v,x,y),x.length===0&&delete n[v]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const c=n[o];return"metas"in c?s[o]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):s[o]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var a_;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(a_||(a_={}));var s_;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(s_||(s_={}));var Fa;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Fa||(Fa={}));class jf{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Sn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Rh(this,Fi.join,this.params,this.timeout),this.rejoinTimer=new bv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sn.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fi.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Yl(this),this.broadcastEndpointURL=Sv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Sn.closed){const{config:{broadcast:d,presence:g,private:v}}=this.params;this._onError(w=>n?.(Fa.CHANNEL_ERROR,w)),this._onClose(()=>n?.(Fa.CLOSED));const y={},x={broadcast:d,presence:g,postgres_changes:(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(w=>w.filter))!==null&&c!==void 0?c:[],private:v};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var j;if(this.socket.setAuth(),w===void 0){n?.(Fa.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,A=(j=k?.length)!==null&&j!==void 0?j:0,M=[];for(let z=0;z<A;z++){const D=k[z],{filter:{event:I,schema:H,table:B,filter:J}}=D,K=w&&w[z];if(K&&K.event===I&&K.schema===H&&K.table===B&&K.filter===J)M.push(Object.assign(Object.assign({},D),{id:K.id}));else{this.unsubscribe(),this.state=Sn.errored,n?.(Fa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,n&&n(Fa.SUBSCRIBED);return}}).receive("error",w=>{this.state=Sn.errored,n?.(Fa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{n?.(Fa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this._on(n,s,o)}async send(n,s={}){var o,c;if(!this._canPush()&&n.type==="broadcast"){const{event:d,payload:g}=n,y={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:g,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=x.body)===null||c===void 0?void 0:c.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var g,v,y;const x=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(v=(g=this.params)===null||g===void 0?void 0:g.config)===null||v===void 0?void 0:v.broadcast)===null||y===void 0)&&y.ack)&&d("ok"),x.receive("ok",()=>d("ok")),x.receive("error",()=>d("error")),x.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Sn.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fi.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Rh(this,Fi.leave,{},n),o.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,o){const c=new AbortController,d=setTimeout(()=>c.abort(),o),g=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(d),g}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Rh(this,n,s,o);return this._canPush()?c.send():(c.startTimeout(),this.pushBuffer.push(c)),c}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var c,d;const g=n.toLocaleLowerCase(),{close:v,error:y,leave:x,join:w}=Fi;if(o&&[v,y,x,w].indexOf(g)>=0&&o!==this._joinRef())return;let k=this._onMessage(g,s,o);if(s&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(g)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var M,z,D;return((M=A.filter)===null||M===void 0?void 0:M.event)==="*"||((D=(z=A.filter)===null||z===void 0?void 0:z.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===g}).map(A=>A.callback(k,o)):(d=this.bindings[g])===null||d===void 0||d.filter(A=>{var M,z,D,I,H,B;if(["broadcast","presence","postgres_changes"].includes(g))if("id"in A){const J=A.id,K=(M=A.filter)===null||M===void 0?void 0:M.event;return J&&((z=s.ids)===null||z===void 0?void 0:z.includes(J))&&(K==="*"||K?.toLocaleLowerCase()===((D=s.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const J=(H=(I=A?.filter)===null||I===void 0?void 0:I.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return J==="*"||J===((B=s?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===g}).map(A=>{if(typeof k=="object"&&"ids"in k){const M=k.data,{schema:z,table:D,commit_timestamp:I,type:H,errors:B}=M;k=Object.assign(Object.assign({},{schema:z,table:D,commit_timestamp:I,eventType:H,new:{},old:{},errors:B}),this._getPayloadRecords(M))}A.callback(k,o)})}_isClosed(){return this.state===Sn.closed}_isJoined(){return this.state===Sn.joined}_isJoining(){return this.state===Sn.joining}_isLeaving(){return this.state===Sn.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const c=n.toLocaleLowerCase(),d={type:c,filter:s,callback:o};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&jf.isEqual(c.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Fi.close,{},n)}_onError(n){this._on(Fi.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sn.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=n_(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=n_(n.columns,n.old_record)),s}}const r_=()=>{},Ib=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gb{constructor(n,s){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=r_,this.ref=0,this.logger=r_,this.conn=null,this.sendBuffer=[],this.serializer=new Db,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=d=>{let g;return d?g=d:typeof fetch>"u"?g=(...v)=>Zo(async()=>{const{default:y}=await Promise.resolve().then(()=>$o);return{default:y}},void 0).then(({default:y})=>y(...v)):g=fetch,(...v)=>g(...v)},this.endPoint=`${n}/${Vh.websocket}`,this.httpEndpoint=Sv(n),s?.transport?this.transport=s.transport:this.transport=null,s?.params&&(this.params=s.params),s?.timeout&&(this.timeout=s.timeout),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const c=(o=s?.params)===null||o===void 0?void 0:o.apikey;if(c&&(this.accessTokenValue=c,this.apiKey=c),this.reconnectAfterMs=s?.reconnectAfterMs?s.reconnectAfterMs:d=>[1e3,2e3,5e3,1e4][d-1]||1e4,this.encode=s?.encode?s.encode:(d,g)=>g(JSON.stringify(d)),this.decode=s?.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s?.fetch),s?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=s?.worker||!1,this.workerUrl=s?.workerUrl}this.accessToken=s?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ob),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Rb}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Fl.connecting:return jr.Connecting;case Fl.open:return jr.Open;case Fl.closing:return jr.Closing;default:return jr.Closed}}isConnected(){return this.connectionState()===jr.Open}channel(n,s={config:{}}){const o=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===o);if(c)return c;{const d=new jf(`realtime:${n}`,s,this);return this.channels.push(d),d}}push(n){const{topic:s,event:o,payload:c,ref:d}=n,g=()=>{this.encode(n,v=>{var y;(y=this.conn)===null||y===void 0||y.send(v)})};this.log("push",`${s} ${o} (${d})`,c),this.isConnected()?g():this.sendBuffer.push(g)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:zb};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(Fi.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Pb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:o,event:c,payload:d,ref:g}=s;o==="phoenix"&&c==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),g&&g===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${d.status||""} ${o} ${c} ${g&&"("+g+")"||""}`,d),Array.from(this.channels).filter(v=>v._isMember(o)).forEach(v=>v._trigger(c,d,g)),this.stateChangeCallbacks.message.forEach(v=>v(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Fi.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${o}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([Ib],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}}class Tf extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function on(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Fb extends Tf{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xh extends Tf{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Yb=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};const jv=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Zo(async()=>{const{default:o}=await Promise.resolve().then(()=>$o);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Vb=()=>Yb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zo(()=>Promise.resolve().then(()=>$o),void 0)).Response:Response}),Wh=i=>{if(Array.isArray(i))return i.map(s=>Wh(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,o])=>{const c=s.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Wh(o)}),n};var Nr=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};const Ph=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Kb=(i,n,s)=>Nr(void 0,void 0,void 0,function*(){const o=yield Vb();i instanceof o&&!s?.noResolveJson?i.json().then(c=>{n(new Fb(Ph(c),i.status||500))}).catch(c=>{n(new Xh(Ph(c),c))}):n(new Xh(Ph(i),i))}),Xb=(i,n,s,o)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o&&(c.body=JSON.stringify(o)),Object.assign(Object.assign({},c),s))};function nu(i,n,s,o,c,d){return Nr(this,void 0,void 0,function*(){return new Promise((g,v)=>{i(s,Xb(n,o,c,d)).then(y=>{if(!y.ok)throw y;return o?.noResolveJson?y:y.json()}).then(y=>g(y)).catch(y=>Kb(y,v,o))})})}function Mc(i,n,s,o){return Nr(this,void 0,void 0,function*(){return nu(i,"GET",n,s,o)})}function qs(i,n,s,o,c){return Nr(this,void 0,void 0,function*(){return nu(i,"POST",n,o,c,s)})}function Wb(i,n,s,o,c){return Nr(this,void 0,void 0,function*(){return nu(i,"PUT",n,o,c,s)})}function Qb(i,n,s,o){return Nr(this,void 0,void 0,function*(){return nu(i,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Tv(i,n,s,o,c){return Nr(this,void 0,void 0,function*(){return nu(i,"DELETE",n,o,c,s)})}var Yn=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};const Jb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},o_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ew{constructor(n,s={},o,c){this.url=n,this.headers=s,this.bucketId=o,this.fetch=jv(c)}uploadOrUpdate(n,s,o,c){return Yn(this,void 0,void 0,function*(){try{let d;const g=Object.assign(Object.assign({},o_),c);let v=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(g.upsert)});const y=g.metadata;typeof Blob<"u"&&o instanceof Blob?(d=new FormData,d.append("cacheControl",g.cacheControl),y&&d.append("metadata",this.encodeMetadata(y)),d.append("",o)):typeof FormData<"u"&&o instanceof FormData?(d=o,d.append("cacheControl",g.cacheControl),y&&d.append("metadata",this.encodeMetadata(y))):(d=o,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType,y&&(v["x-metadata"]=this.toBase64(this.encodeMetadata(y)))),c?.headers&&(v=Object.assign(Object.assign({},v),c.headers));const x=this._removeEmptyFolders(s),w=this._getFinalPath(x),j=yield this.fetch(`${this.url}/object/${w}`,Object.assign({method:n,body:d,headers:v},g?.duplex?{duplex:g.duplex}:{})),k=yield j.json();return j.ok?{data:{path:x,id:k.Id,fullPath:k.Key},error:null}:{data:null,error:k}}catch(d){if(on(d))return{data:null,error:d};throw d}})}upload(n,s,o){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,c){return Yn(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(n),g=this._getFinalPath(d),v=new URL(this.url+`/object/upload/sign/${g}`);v.searchParams.set("token",s);try{let y;const x=Object.assign({upsert:o_.upsert},c),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&o instanceof Blob?(y=new FormData,y.append("cacheControl",x.cacheControl),y.append("",o)):typeof FormData<"u"&&o instanceof FormData?(y=o,y.append("cacheControl",x.cacheControl)):(y=o,w["cache-control"]=`max-age=${x.cacheControl}`,w["content-type"]=x.contentType);const j=yield this.fetch(v.toString(),{method:"PUT",body:y,headers:w}),k=yield j.json();return j.ok?{data:{path:d,fullPath:k.Key},error:null}:{data:null,error:k}}catch(y){if(on(y))return{data:null,error:y};throw y}})}createSignedUploadUrl(n,s){return Yn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const c=Object.assign({},this.headers);s?.upsert&&(c["x-upsert"]="true");const d=yield qs(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:c}),g=new URL(this.url+d.url),v=g.searchParams.get("token");if(!v)throw new Tf("No token returned by API");return{data:{signedUrl:g.toString(),path:n,token:v},error:null}}catch(o){if(on(o))return{data:null,error:o};throw o}})}update(n,s,o){return Yn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return Yn(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(on(c))return{data:null,error:c};throw c}})}copy(n,s,o){return Yn(this,void 0,void 0,function*(){try{return{data:{path:(yield qs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(on(c))return{data:null,error:c};throw c}})}createSignedUrl(n,s,o){return Yn(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),d=yield qs(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const g=o?.download?`&download=${o.download===!0?"":o.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${g}`)},{data:d,error:null}}catch(c){if(on(c))return{data:null,error:c};throw c}})}createSignedUrls(n,s,o){return Yn(this,void 0,void 0,function*(){try{const c=yield qs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:c.map(g=>Object.assign(Object.assign({},g),{signedUrl:g.signedURL?encodeURI(`${this.url}${g.signedURL}${d}`):null})),error:null}}catch(c){if(on(c))return{data:null,error:c};throw c}})}download(n,s){return Yn(this,void 0,void 0,function*(){const c=typeof s?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(s?.transform||{}),g=d?`?${d}`:"";try{const v=this._getFinalPath(n);return{data:yield(yield Mc(this.fetch,`${this.url}/${c}/${v}${g}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(v){if(on(v))return{data:null,error:v};throw v}})}info(n){return Yn(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Mc(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wh(o),error:null}}catch(o){if(on(o))return{data:null,error:o};throw o}})}exists(n){return Yn(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Qb(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(on(o)&&o instanceof Xh){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),c=[],d=s?.download?`download=${s.download===!0?"":s.download}`:"";d!==""&&c.push(d);const v=typeof s?.transform<"u"?"render/image":"object",y=this.transformOptsToQueryString(s?.transform||{});y!==""&&c.push(y);let x=c.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${v}/public/${o}${x}`)}}}remove(n){return Yn(this,void 0,void 0,function*(){try{return{data:yield Tv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(on(s))return{data:null,error:s};throw s}})}list(n,s,o){return Yn(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Jb),s),{prefix:n||""});return{data:yield qs(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},o),error:null}}catch(c){if(on(c))return{data:null,error:c};throw c}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const tw="2.7.1",nw={"X-Client-Info":`storage-js/${tw}`};var Eo=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};class iw{constructor(n,s={},o){this.url=n,this.headers=Object.assign(Object.assign({},nw),s),this.fetch=jv(o)}listBuckets(){return Eo(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}})}getBucket(n){return Eo(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(on(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return Eo(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(on(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return Eo(this,void 0,void 0,function*(){try{return{data:yield Wb(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(on(o))return{data:null,error:o};throw o}})}emptyBucket(n){return Eo(this,void 0,void 0,function*(){try{return{data:yield qs(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(on(s))return{data:null,error:s};throw s}})}deleteBucket(n){return Eo(this,void 0,void 0,function*(){try{return{data:yield Tv(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(on(s))return{data:null,error:s};throw s}})}}class aw extends iw{constructor(n,s={},o){super(n,s,o)}from(n){return new ew(this.url,this.headers,n,this.fetch)}}const sw="2.51.0";let ql="";typeof Deno<"u"?ql="deno":typeof document<"u"?ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ql="react-native":ql="node";const rw={"X-Client-Info":`supabase-js-${ql}/${sw}`},ow={headers:rw},lw={schema:"public"},uw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cw={};var dw=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};const hw=i=>{let n;return i?n=i:typeof fetch>"u"?n=mv:n=fetch,(...s)=>n(...s)},fw=()=>typeof Headers>"u"?gv:Headers,mw=(i,n,s)=>{const o=hw(s),c=fw();return(d,g)=>dw(void 0,void 0,void 0,function*(){var v;const y=(v=yield n())!==null&&v!==void 0?v:i;let x=new c(g?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${y}`),o(d,Object.assign(Object.assign({},g),{headers:x}))})};var gw=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};function pw(i){return i.endsWith("/")?i:i+"/"}function _w(i,n){var s,o;const{db:c,auth:d,realtime:g,global:v}=i,{db:y,auth:x,realtime:w,global:j}=n,k={db:Object.assign(Object.assign({},y),c),auth:Object.assign(Object.assign({},x),d),realtime:Object.assign(Object.assign({},w),g),global:Object.assign(Object.assign(Object.assign({},j),v),{headers:Object.assign(Object.assign({},(s=j?.headers)!==null&&s!==void 0?s:{}),(o=v?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>gw(this,void 0,void 0,function*(){return""})};return i.accessToken?k.accessToken=i.accessToken:delete k.accessToken,k}const Ev="2.71.0",Mo=30*1e3,Qh=3,Dh=Qh*Mo,vw="http://localhost:9999",yw="supabase.auth.token",xw={"X-Client-Info":`gotrue-js/${Ev}`},Jh="X-Supabase-Api-Version",Nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ww=10*60*1e3;class Ef extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function $e(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Sw extends Ef{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function jw(i){return $e(i)&&i.name==="AuthApiError"}class kv extends Ef{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Fs extends Ef{constructor(n,s,o,c){super(n,o,c),this.name=s,this.status=o}}class Hs extends Fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tw(i){return $e(i)&&i.name==="AuthSessionMissingError"}class xc extends Fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bc extends Fs{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class wc extends Fs{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ew(i){return $e(i)&&i.name==="AuthImplicitGrantRedirectError"}class l_ extends Fs{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ef extends Fs{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Bh(i){return $e(i)&&i.name==="AuthRetryableFetchError"}class u_ extends Fs{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class tf extends Fs{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),c_=` 	
\r=`.split(""),Nw=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<c_.length;n+=1)i[c_[n].charCodeAt(0)]=-2;for(let n=0;n<Oc.length;n+=1)i[Oc[n].charCodeAt(0)]=n;return i})();function d_(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Oc[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Oc[o]),n.queuedBits-=6}}function Av(i,n,s){const o=Nw[i];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function h_(i){const n=[],s=g=>{n.push(String.fromCodePoint(g))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=g=>{Cw(g,o,s)};for(let g=0;g<i.length;g+=1)Av(i.charCodeAt(g),c,d);return n.join("")}function kw(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Aw(i,n){for(let s=0;s<i.length;s+=1){let o=i.charCodeAt(s);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(i.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}kw(o,n)}}function Cw(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Mw(i){const n=[],s={queue:0,queuedBits:0},o=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)Av(i.charCodeAt(c),s,o);return new Uint8Array(n)}function Ow(i){const n=[];return Aw(i,s=>n.push(s)),new Uint8Array(n)}function Lw(i){const n=[],s={queue:0,queuedBits:0},o=c=>{n.push(c)};return i.forEach(c=>d_(c,s,o)),d_(null,s,o),n.join("")}function zw(i){return Math.round(Date.now()/1e3)+i}function Rw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Gi=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},Cv=()=>{if(!Gi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function Pw(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return s.searchParams.forEach((o,c)=>{n[c]=o}),n}const Mv=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Zo(async()=>{const{default:o}=await Promise.resolve().then(()=>$o);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Dw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Oo=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},wr=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},$s=async(i,n)=>{await i.removeItem(n)};class Uc{constructor(){this.promise=new Uc.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Uc.promiseConstructor=Promise;function Uh(i){const n=i.split(".");if(n.length!==3)throw new tf("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!bw.test(n[o]))throw new tf("JWT not in base64url format");return{header:JSON.parse(h_(n[0])),payload:JSON.parse(h_(n[1])),signature:Mw(n[2]),raw:{header:n[0],payload:n[1]}}}async function Bw(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Uw(i,n){return new Promise((o,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const g=await i(d);if(!n(d,null,g)){o(g);return}}catch(g){if(!n(d,g)){c(g);return}}})()})}function Zw(i){return("0"+i.toString(16)).substr(-2)}function $w(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let c="";for(let d=0;d<56;d++)c+=s.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(n),Array.from(n,Zw).join("")}async function Hw(i){const s=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(o);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function qw(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Hw(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function No(i,n,s=!1){const o=$w();let c=o;s&&(c+="/PASSWORD_RECOVERY"),await Oo(i,`${n}-code-verifier`,c);const d=await qw(o);return[d,o===d?"plain":"s256"]}const Iw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gw(i){const n=i.headers.get(Jh);if(!n||!n.match(Iw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Fw(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Yw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(i){if(!Vw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zh(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Kw=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};const Sr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Xw=[502,503,504];async function f_(i){var n;if(!Dw(i))throw new ef(Sr(i),0);if(Xw.includes(i.status))throw new ef(Sr(i),i.status);let s;try{s=await i.json()}catch(d){throw new kv(Sr(d),d)}let o;const c=Gw(i);if(c&&c.getTime()>=Nv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new u_(Sr(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new Hs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((d,g)=>d&&typeof g=="string",!0))throw new u_(Sr(s),i.status,s.weak_password.reasons);throw new Sw(Sr(s),i.status||500,o)}const Ww=(i,n,s,o)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),s))};async function Ke(i,n,s,o){var c;const d=Object.assign({},o?.headers);d[Jh]||(d[Jh]=Nv["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const g=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(g.redirect_to=o.redirectTo);const v=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",y=await Qw(i,n,s+v,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(y):{data:Object.assign({},y),error:null}}async function Qw(i,n,s,o,c,d){const g=Ww(n,o,c,d);let v;try{v=await i(s,Object.assign({},g))}catch(y){throw console.error(y),new ef(Sr(y),0)}if(v.ok||await f_(v),o?.noResolveJson)return v;try{return await v.json()}catch(y){await f_(y)}}function Ga(i){var n;let s=null;n1(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=zw(i.expires_in)));const o=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:o},error:null}}function m_(i){const n=Ga(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Is(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Jw(i){return{data:i,error:null}}function e1(i){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:c,verification_type:d}=i,g=Kw(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:n,email_otp:s,hashed_token:o,redirect_to:c,verification_type:d},y=Object.assign({},g);return{data:{properties:v,user:y},error:null}}function t1(i){return i}function n1(i){return i.access_token&&i.refresh_token&&i.expires_in}const $h=["global","local","others"];var i1=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(i);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(i,o[c])&&(s[o[c]]=i[o[c]]);return s};class a1{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=Mv(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=$h[0]){if($h.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$h.join(", ")}`);try{return await Ke(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await Ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Is})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=i1(n,["options"]),c=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await Ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:e1,redirectTo:s?.redirectTo})}catch(s){if($e(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Ke(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Is})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,c,d,g,v,y;try{const x={nextPage:null,lastPage:0,total:0},w=await Ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:t1});if(w.error)throw w.error;const j=await w.json(),k=(g=w.headers.get("x-total-count"))!==null&&g!==void 0?g:0,A=(y=(v=w.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&y!==void 0?y:[];return A.length>0&&(A.forEach(M=>{const z=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(M.split(";")[1].split("=")[1]);x[`${D}Page`]=z}),x.total=parseInt(k)),{data:Object.assign(Object.assign({},j),x),error:null}}catch(x){if($e(x))return{data:{users:[]},error:x};throw x}}async getUserById(n){ko(n);try{return await Ke(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Is})}catch(s){if($e(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){ko(n);try{return await Ke(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Is})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){ko(n);try{return await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Is})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){ko(n.userId);try{const{data:s,error:o}=await Ke(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:o}}catch(s){if($e(s))return{data:null,error:s};throw s}}async _deleteFactor(n){ko(n.userId),ko(n.id);try{return{data:await Ke(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}}}function g_(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}function s1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ao={debug:!!(globalThis&&Cv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ov extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class r1 extends Ov{}async function o1(i,n,s){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await s()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new r1(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ao.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}s1();const l1={url:vw,storageKey:yw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function p_(i,n,s){return await s()}const Co={};class Xl{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xl.nextInstanceID,Xl.nextInstanceID+=1,this.instanceID>0&&Gi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},l1),n);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new a1({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Mv(c.fetch),this.lock=c.lock||p_,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:Gi()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=o1:this.lock=p_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Cv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=g_(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=g_(this.memoryStorage)),Gi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=Co[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Co[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ev}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Pw(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),Gi()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:d}=await this._getSessionFromURL(s,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Ew(d)){const y=(n=d.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:g,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",g,"redirect type",v),await this._saveSession(g),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",g):await this._notifyAllSubscribers("SIGNED_IN",g)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return $e(s)?{error:s}:{error:new kv("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,c;try{const d=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ga}),{data:g,error:v}=d;if(v||!g)return{data:{user:null,session:null},error:v};const y=g.session,x=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:x,session:y},error:null}}catch(d){if($e(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(n){var s,o,c;try{let d;if("email"in n){const{email:w,password:j,options:k}=n;let A=null,M=null;this.flowType==="pkce"&&([A,M]=await No(this.storage,this.storageKey)),d=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k?.emailRedirectTo,body:{email:w,password:j,data:(s=k?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:k?.captchaToken},code_challenge:A,code_challenge_method:M},xform:Ga})}else if("phone"in n){const{phone:w,password:j,options:k}=n;d=await Ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:j,data:(o=k?.data)!==null&&o!==void 0?o:{},channel:(c=k?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Ga})}else throw new bc("You must provide either an email or phone number and a password");const{data:g,error:v}=d;if(v||!g)return{data:{user:null,session:null},error:v};const y=g.session,x=g.user;return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",y)),{data:{user:x,session:y},error:null}}catch(d){if($e(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(n){try{let s;if("email"in n){const{email:d,password:g,options:v}=n;s=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:g,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:m_})}else if("phone"in n){const{phone:d,password:g,options:v}=n;s=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:g,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:m_})}else throw new bc("You must provide either an email or phone number and a password");const{data:o,error:c}=s;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new xc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,c,d,g,v,y,x,w,j,k,A;let M,z;if("message"in n)M=n.message,z=n.signature;else{const{chain:D,wallet:I,statement:H,options:B}=n;let J;if(Gi())if(typeof I=="object")J=I;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))J=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=I}const K=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in J&&J.signIn){const oe=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),H?{statement:H}:null));let xe;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")xe=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)xe=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in xe&&"signature"in xe&&(typeof xe.signedMessage=="string"||xe.signedMessage instanceof Uint8Array)&&xe.signature instanceof Uint8Array)M=typeof xe.signedMessage=="string"?xe.signedMessage:new TextDecoder().decode(xe.signedMessage),z=xe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${K.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(c=(o=B?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((v=B?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((y=B?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((x=B?.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((j=(w=B?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||j===void 0)&&j.length?["Resources",...B.signInWithSolana.resources.map(xe=>`- ${xe}`)]:[]].join(`
`);const oe=await J.signMessage(new TextEncoder().encode(M),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=oe}}try{const{data:D,error:I}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Lw(z)},!((k=n.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:Ga});if(I)throw I;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new xc}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:I})}catch(D){if($e(D))return{data:{user:null,session:null},error:D};throw D}}async _exchangeCodeForSession(n){const s=await wr(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(s??"").split("/");try{const{data:d,error:g}=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ga});if(await $s(this.storage,`${this.storageKey}-code-verifier`),g)throw g;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new xc}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:g})}catch(d){if($e(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(n){try{const{options:s,provider:o,token:c,access_token:d,nonce:g}=n,v=await Ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:d,nonce:g,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ga}),{data:y,error:x}=v;return x?{data:{user:null,session:null},error:x}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new xc}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:y,error:x})}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,c,d,g;try{if("email"in n){const{email:v,options:y}=n;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await No(this.storage,this.storageKey));const{error:j}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(s=y?.data)!==null&&s!==void 0?s:{},create_user:(o=y?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:x,code_challenge_method:w},redirectTo:y?.emailRedirectTo});return{data:{user:null,session:null},error:j}}if("phone"in n){const{phone:v,options:y}=n,{data:x,error:w}=await Ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(d=y?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(g=y?.channel)!==null&&g!==void 0?g:"sms"}});return{data:{user:null,session:null,messageId:x?.message_id},error:w}}throw new bc("You must provide either an email or phone number.")}catch(v){if($e(v))return{data:{user:null,session:null},error:v};throw v}}async verifyOtp(n){var s,o;try{let c,d;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,d=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:g,error:v}=await Ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:Ga});if(v)throw v;if(!g)throw new Error("An error occurred on token verification.");const y=g.session,x=g.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),{data:{user:x,session:y},error:null}}catch(c){if($e(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(n){var s,o,c;try{let d=null,g=null;return this.flowType==="pkce"&&([d,g]=await No(this.storage,this.storageKey)),await Ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:g}),headers:this.headers,xform:Jw})}catch(d){if($e(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new Hs;const{error:c}=await Ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:c}})}catch(n){if($e(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:c,options:d}=n,{error:g}=await Ke(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}else if("phone"in n){const{phone:o,type:c,options:d}=n,{data:g,error:v}=await Ke(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:g?.message_id},error:v}}throw new bc("You must provide either an email or phone number and a type")}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Dh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const g=await wr(this.userStorage,this.storageKey+"-user");g?.user?n.user=g.user:n.user=Zh()}if(this.storage.isServer&&n.user){let g=this.suppressGetSessionWarning;n=new Proxy(n,{get:(y,x,w)=>(!g&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),g=!0,this.suppressGetSessionWarning=!0),Reflect.get(y,x,w))})}return{data:{session:n},error:null}}const{session:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{session:null},error:d}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Is}):await this._useSession(async s=>{var o,c,d;const{data:g,error:v}=s;if(v)throw v;return!(!((o=g.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hs}:await Ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=g.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:Is})})}catch(s){if($e(s))return Tw(s)&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:c,error:d}=o;if(d)throw d;if(!c.session)throw new Hs;const g=c.session;let v=null,y=null;this.flowType==="pkce"&&n.email!=null&&([v,y]=await No(this.storage,this.storageKey));const{data:x,error:w}=await Ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:v,code_challenge_method:y}),jwt:g.access_token,xform:Is});if(w)throw w;return g.user=x.user,await this._saveSession(g),await this._notifyAllSubscribers("USER_UPDATED",g),{data:{user:g.user},error:null}})}catch(o){if($e(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Hs;const s=Date.now()/1e3;let o=s,c=!0,d=null;const{payload:g}=Uh(n.access_token);if(g.exp&&(o=g.exp,c=o<=s),c){const{session:v,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return{data:{user:null,session:null},error:y};if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:y}=await this._getUser(n.access_token);if(y)throw y;d={access_token:n.access_token,refresh_token:n.refresh_token,user:v.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(s){if($e(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:g,error:v}=s;if(v)throw v;n=(o=g.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Hs;const{session:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?{data:{user:null,session:null},error:d}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Gi())throw new wc("No browser detected.");if(n.error||n.error_description||n.error_code)throw new wc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new l_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new l_("No code detected.");const{data:H,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:d,refresh_token:g,expires_in:v,expires_at:y,token_type:x}=n;if(!d||!v||!g||!x)throw new wc("No session defined in URL");const w=Math.round(Date.now()/1e3),j=parseInt(v);let k=w+j;y&&(k=parseInt(y));const A=k-w;A*1e3<=Mo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${j}s`);const M=k-j;w-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,k,w):w-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,k,w);const{data:z,error:D}=await this._getUser(d);if(D)throw D;const I={provider_token:o,provider_refresh_token:c,access_token:d,expires_in:j,expires_at:k,refresh_token:g,token_type:x,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:n.type},error:null}}catch(o){if($e(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await wr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:c,error:d}=s;if(d)return{error:d};const g=(o=c.session)===null||o===void 0?void 0:o.access_token;if(g){const{error:v}=await this.admin.signOut(g,n);if(v&&!(jw(v)&&(v.status===404||v.status===401||v.status===403)))return{error:v}}return n!=="others"&&(await this._removeSession(),await $s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Rw(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,c;try{const{data:{session:d},error:g}=s;if(g)throw g;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,s={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await No(this.storage,this.storageKey,!0));try{return await Ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(d){if($e(d))return{data:null,error:d};throw d}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:c}=await this._useSession(async d=>{var g,v,y,x,w;const{data:j,error:k}=d;if(k)throw k;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(g=n.options)===null||g===void 0?void 0:g.redirectTo,scopes:(v=n.options)===null||v===void 0?void 0:v.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Ke(this.fetch,"GET",A,{headers:this.headers,jwt:(w=(x=j.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:void 0})});if(c)throw c;return Gi()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if($e(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,c;const{data:d,error:g}=s;if(g)throw g;return await Ke(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if($e(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Uw(async c=>(c>0&&await Bw(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await Ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ga})),(c,d)=>{const g=200*Math.pow(2,c);return d&&Bh(d)&&Date.now()+g-o<Mo})}catch(o){if(this._debug(s,"error",o),$e(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),Gi()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await wr(this.storage,this.storageKey);if(c&&this.userStorage){let g=await wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!g&&(g={user:c.user},await Oo(this.userStorage,this.storageKey+"-user",g)),c.user=(n=g?.user)!==null&&n!==void 0?n:Zh()}else if(c&&!c.user&&!c.user){const g=await wr(this.storage,this.storageKey+"-user");g&&g?.user?(c.user=g.user,await $s(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,c)):c.user=Zh()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const d=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Dh;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Dh}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:g}=await this._callRefreshToken(c.refresh_token);g&&(console.error(g),Bh(g)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",g),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:g,error:v}=await this._getUser(c.access_token);!v&&g?.user?(c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(g){console.error("Error getting user data:",g),this._debug(o,"error getting user data, skipping SIGNED_IN notification",g)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new Hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Uc;const{data:d,error:g}=await this._refreshAccessToken(n);if(g)throw g;if(!d.session)throw new Hs;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={session:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(c,"error",d),$e(d)){const g={session:null,error:d};return Bh(d)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(g),g}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,o=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const d=[],g=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(n,s)}catch(y){d.push(y)}});if(await Promise.all(g),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const d=structuredClone(c);await Oo(this.storage,this.storageKey,d)}else{const c=structuredClone(s);await Oo(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await $s(this.storage,this.storageKey),await $s(this.storage,this.storageKey+"-code-verifier"),await $s(this.storage,this.storageKey+"-user"),this.userStorage&&await $s(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Gi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Mo);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-n)/Mo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Mo}ms, refresh threshold is ${Qh} ticks`),c<=Qh&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ov)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const c=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,g]=await No(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(g)}`});c.push(v.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);c.push(d.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;return d?{data:null,error:d}:await Ke(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if($e(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,c;const{data:d,error:g}=s;if(g)return{data:null,error:g};const v=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:y,error:x}=await Ke(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return x?{data:null,error:x}:(n.factorType==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),{data:y,error:null})})}catch(s){if($e(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;if(d)return{data:null,error:d};const{data:g,error:v}=await Ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),{data:g,error:v})})}catch(s){if($e(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:d}=s;return d?{data:null,error:d}:await Ke(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if($e(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],c=o.filter(g=>g.factor_type==="totp"&&g.status==="verified"),d=o.filter(g=>g.factor_type==="phone"&&g.status==="verified");return{data:{all:o,totp:c,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:c},error:d}=n;if(d)return{data:null,error:d};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Uh(c.access_token);let v=null;g.aal&&(v=g.aal);let y=v;((o=(s=c.user.factors)===null||s===void 0?void 0:s.filter(j=>j.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(y="aal2");const w=g.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(v=>v.kid===n);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(v=>v.kid===n),o&&this.jwks_cached_at+ww>c)return o;const{data:d,error:g}=await Ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(g)throw g;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,o=d.keys.find(v=>v.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:A,error:M}=await this.getSession();if(M||!A.session)return{data:null,error:M};o=A.session.access_token}const{header:c,payload:d,signature:g,raw:{header:v,payload:y}}=Uh(o);s?.allowExpired||Fw(d.exp);const x=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!x){const{error:A}=await this.getUser(o);if(A)throw A;return{data:{claims:d,header:c,signature:g},error:null}}const w=Yw(c.alg),j=await crypto.subtle.importKey("jwk",x,w,!0,["verify"]);if(!await crypto.subtle.verify(w,j,g,Ow(`${v}.${y}`)))throw new tf("Invalid JWT signature");return{data:{claims:d,header:c,signature:g},error:null}}catch(o){if($e(o))return{data:null,error:o};throw o}}}Xl.nextInstanceID=0;const u1=Xl;class c1 extends u1{constructor(n){super(n)}}var d1=function(i,n,s,o){function c(d){return d instanceof s?d:new s(function(g){g(d)})}return new(s||(s=Promise))(function(d,g){function v(w){try{x(o.next(w))}catch(j){g(j)}}function y(w){try{x(o.throw(w))}catch(j){g(j)}}function x(w){w.done?d(w.value):c(w.value).then(v,y)}x((o=o.apply(i,n||[])).next())})};class h1{constructor(n,s,o){var c,d,g;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const v=pw(n),y=new URL(v);this.realtimeUrl=new URL("realtime/v1",y),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",y),this.storageUrl=new URL("storage/v1",y),this.functionsUrl=new URL("functions/v1",y);const x=`sb-${y.hostname.split(".")[0]}-auth-token`,w={db:lw,realtime:cw,auth:Object.assign(Object.assign({},uw),{storageKey:x}),global:ow},j=_w(o??{},w);this.storageKey=(c=j.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(d=j.global.headers)!==null&&d!==void 0?d:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(k,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((g=j.auth)!==null&&g!==void 0?g:{},this.headers,j.global.fetch),this.fetch=mw(s,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.rest=new Cb(new URL("rest/v1",y).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),j.accessToken||this._listenForAuthEvents()}get functions(){return new vb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new aw(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return d1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:c,storageKey:d,flowType:g,lock:v,debug:y},x,w){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c1({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),x),storageKey:d,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:c,flowType:g,lock:v,debug:y,fetch:w,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Gb(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f1=(i,n,s)=>new h1(i,n,s),m1="your-supabase-url",g1="your-supabase-anon-key";console.warn("  Please set VITE_SUPABASE_URL in your .env.local file");console.warn("  Please set VITE_SUPABASE_ANON_KEY in your .env.local file");const le=f1(m1,g1),p1=Object.freeze(Object.defineProperty({__proto__:null,supabase:le},Symbol.toStringTag,{value:"Module"})),__=["Liam","Noah","Oliver","Elijah","Mateo","Luca","Hugo","Santiago","Diego","Rafael","Leonardo","Enzo","Matteo","Giovanni","Alexandre","Louis","Antoine","Dimitri","Ivan","Nikolai","Alexei","Sergey","Mohammed","Ahmed","Omar","Youssef","Idris","Musa","Tunde","Kwame","Obi","Chinedu","Thabo","Sipho","Kofi","Hiroshi","Takumi","Haruto","Ren","Daiki","Chen","Wei","Jun","Tao","Arun","Raj","Rohan","Vikram","Amir","Reza","Farid","Arman","Yusuf","Mustafa","Ayan","Zaid","Tariq","Samir","Kevin","John","James","William","Robert","Charles","Jack","Harry","Alfie","George","Theo","Owen","Aiden","Connor","Cian","Ronan","Declan","Eoin","Niall","Pedro","Tiago","Miguel","Bruno","Carlos","Andres","Jorge","Alonso","Esteban","Emil","Sven","Lars","Erik","Hans","Kai","Jari","Timo","Niklas","Abiola","Adebayo","Adekunle","Adeniyi","Adesanya","Adetokunbo","Agbaje","Agyeman","Akande","Akintola","Amadi","Amadou","Anibaba","Anyanwu","Asante","Asemota","Atangana","Ayele","Ayodele","Azikiwe","Babajide","Bagayoko","Balogun","Banda","Bankole","Barrow","Bassey","Bello","Biko","Bongo","Chikere","Chukwuma","Conteh","Dada","Danjuma","Darboe","Dlamini","Diakite","Diallo","Diarra","Dibba","Dikko","Doumbia","Drame","Edeh","Eke","Ekpo","Ekwueme","Enahoro","Essien","Etim","Eze","Fadipe","Fashola","Fofana","Gbadamosi","Gbeho","Gichuru","Gomwalk","Gondo","Gyan","Hadebe","Hlongwane","Ibe","Ibrahim","Igwe","Ikenna","Iroanya","Issaka","Jalloh","Jibola","Kainde","Kamara","Kasule","Kayode","Kenyatta","Kitenge","Koffi","Kone","Koulibaly","Kufuor","Laryea","Lumumba","Madaki","Mafela","Magasa","Mahlangu","Makinde","Maku","Malunga","Mamadou","Maponya","Masuku","Matambo","Matlaba","Mbatha","Mbeki","Mbombo","Mendy"],v_=["Emma","Olivia","Ava","Sophia","Isabella","Luna","Camila","Valentina","Martina","Emilia","Giulia","Chiara","Sofia","Alice","Manon","Camille","Natalia","Yulia","Daria","Irina","Katya","Fatima","Amina","Layla","Zainab","Mariam","Ife","Ngozi","Aisha","Abeba","Zanele","Thuli","Ama","Akua","Sakura","Yui","Hana","Aiko","Misaki","Li","Mei","Xiu","Lin","Ananya","Priya","Saanvi","Kavya","Laila","Zahra","Yasmin","Samira","Salma","Amira","Zoya","Noor","Emily","Grace","Lily","Chloe","Ella","Evie","Poppy","Freya","Daisy","Clara","Beatriz","Ines","Leonor","Francisca","Lucia","Carmen","Paula","Maria","Elina","Anja","Ingrid","Liv","Freja","Maja","Linnea","Sanna","Aino","Eevi","Helmi","Abena","Adanna","Adedayo","Adesua","Afia","Akinyi","Alheri","Amahle","Amaka","Amara","Anaya","Anele","Anika","Anuli","Apio","Asanda","Asmara","Ayaan","Ayanda","Ayoka","Azara","Baraka","Binta","Bolanle","Bukola","Busisiwe","Chiamaka","Chibuzo","Chidimma","Chika","Chinelo","Chinenye","Chioma","Chisom","Deka","Ebele","Ebuka","Efe","Efua","Ekua","Eloho","Enitan","Eshe","Esinam","Ezinne","Faduma","Fikile","Folake","Funke","Hadiza","Halima","Ijeoma","Imani","Iniobong","Ireti","Itumeleng","Ivie","Jendayi","Jumoke","Kafayat","Kamsiyochukwu","Kehinde","Kemi","Lerato","Lindiwe","Makena","Malaika","Mandisa","Mapaseka","Mariama","Moloko","Mpho","Mubarakah","Nandi","Nana","Ndidi","Nkechi","Nkiru","Nneka","Nthabiseng","Ntombezinhle","Nyasha","Nyauma","Nyeleti","Nzinga","Obianuju","Olabisi","Omolara","Onyekachi","Oreoluwa","Osas","Oyinkansola","Phumzile","Rashida","Rudo","Rufaro","Sade","Siphesihle","Thandeka","Tumelo","Yewande","Zawadi"],y_=["Smith","Rossi","Yamamoto","Dubois","Kowalski","Ivanov","Kim","Garcia","Cohen","Haddad","Novak","Petrov","Silva","Andersson","Jensen","Nowak","Popescu","Hussein","Nguyen","Patel","Fernandez","Ahmed","Horvath","Dimitrov","Costa","Lefevre","Sato","Schmitt","OConnor","Caruso","Bianchi","Zhang","Tanaka","Pereira","Ali","Dimitriou","Mammadov","Laurent","Nielsen","Ionescu","Baranov","MacLeod","Tadesse","Choudhury","Gorski","Dlamini","Shrestha","Reddy","Martins","Moya","Sokolov","Wang","Sanchez","Omondi","Sousa","Gruber","Batista","Romero","Bakshi","Abdi","Nascimento","Salazar","Hoxha","Farah","Rahman","Morales","Antunes","Bekele","Jara","Carvalho","Nazarov","Hakim","Georgiou","Bashir","Duarte","Almeida","Aziz","Okeke","Marinov","Farouk","Delacruz","Tan","Escobar","Villanueva","Barros","Qureshi","Bernal","Varga","Tavares","Mbatha","Kalinina","Torres","Okafor","Mensah","Abebe","Balogun","Kabore","Toure","Ngugi","Chilombo","Ndlovu","Abiola","Osei","Chirwa","Nkosi","Zuberi","Mutiso","Kamara","Adegoke","Bekele","Mugisha","Eyob","Okechukwu","Moyo","Bongani","Bah","Obasi","Maiga","Onwudiwe","Sibanda","Adesina","Juma","Nwosu","Ntuli","Mekonnen","Saidu","Eze","Odinga","Kabongo","Chisom","Tembo","Afolayan","Ncube","Obeng","Gebre","Okonkwo","Koffi","Mambwe","Ajayi","Mpofu","Ayodele","Koopman","Visser","Jansen","Bakker","Hoekstra","Kok","Smit","Bos","Bosman","Vermeulen","Hendriks","Prins","Willems","Blom","Groen","Kuipers","Scholten","Vink","Timmermans"];function ae(i,n,s){function o(v,y){var x;Object.defineProperty(v,"_zod",{value:v._zod??{},enumerable:!1}),(x=v._zod).traits??(x.traits=new Set),v._zod.traits.add(i),n(v,y);for(const w in g.prototype)w in v||Object.defineProperty(v,w,{value:g.prototype[w].bind(v)});v._zod.constr=g,v._zod.def=y}const c=s?.Parent??Object;class d extends c{}Object.defineProperty(d,"name",{value:i});function g(v){var y;const x=s?.Parent?new d:this;o(x,v),(y=x._zod).deferred??(y.deferred=[]);for(const w of x._zod.deferred)w();return x}return Object.defineProperty(g,"init",{value:o}),Object.defineProperty(g,Symbol.hasInstance,{value:v=>s?.Parent&&v instanceof s.Parent?!0:v?._zod?.traits?.has(i)}),Object.defineProperty(g,"name",{value:i}),g}class Wl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Lv={};function Tr(i){return Lv}function _1(i){const n=Object.values(i).filter(o=>typeof o=="number");return Object.entries(i).filter(([o,c])=>n.indexOf(+o)===-1).map(([o,c])=>c)}function v1(i,n){return typeof n=="bigint"?n.toString():n}function zv(i){return{get value(){{const n=i();return Object.defineProperty(this,"value",{value:n}),n}}}}function Nf(i){return i==null}function kf(i){const n=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;return i.slice(n,s)}function y1(i,n){const s=(i.toString().split(".")[1]||"").length,o=(n.toString().split(".")[1]||"").length,c=s>o?s:o,d=Number.parseInt(i.toFixed(c).replace(".","")),g=Number.parseInt(n.toFixed(c).replace(".",""));return d%g/10**c}function xt(i,n,s){Object.defineProperty(i,n,{get(){{const o=s();return i[n]=o,o}},set(o){Object.defineProperty(i,n,{value:o})},configurable:!0})}function Af(i,n,s){Object.defineProperty(i,n,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Hl(i){return JSON.stringify(i)}const Rv=Error.captureStackTrace?Error.captureStackTrace:(...i)=>{};function nf(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}const x1=zv(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const i=Function;return new i(""),!0}catch{return!1}});function af(i){if(nf(i)===!1)return!1;const n=i.constructor;if(n===void 0)return!0;const s=n.prototype;return!(nf(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}const b1=new Set(["string","number","symbol"]);function Zc(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kr(i,n,s){const o=new i._zod.constr(n??i._zod.def);return(!n||s?.parent)&&(o._zod.parent=i),o}function Ce(i){const n=i;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function w1(i){return Object.keys(i).filter(n=>i[n]._zod.optin==="optional"&&i[n]._zod.optout==="optional")}const S1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function j1(i,n){const s={},o=i._zod.def;for(const c in n){if(!(c in o.shape))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(s[c]=o.shape[c])}return kr(i,{...i._zod.def,shape:s,checks:[]})}function T1(i,n){const s={...i._zod.def.shape},o=i._zod.def;for(const c in n){if(!(c in o.shape))throw new Error(`Unrecognized key: "${c}"`);n[c]&&delete s[c]}return kr(i,{...i._zod.def,shape:s,checks:[]})}function E1(i,n){if(!af(n))throw new Error("Invalid input to extend: expected a plain object");const s={...i._zod.def,get shape(){const o={...i._zod.def.shape,...n};return Af(this,"shape",o),o},checks:[]};return kr(i,s)}function N1(i,n){return kr(i,{...i._zod.def,get shape(){const s={...i._zod.def.shape,...n._zod.def.shape};return Af(this,"shape",s),s},catchall:n._zod.def.catchall,checks:[]})}function k1(i,n,s){const o=n._zod.def.shape,c={...o};if(s)for(const d in s){if(!(d in o))throw new Error(`Unrecognized key: "${d}"`);s[d]&&(c[d]=i?new i({type:"optional",innerType:o[d]}):o[d])}else for(const d in o)c[d]=i?new i({type:"optional",innerType:o[d]}):o[d];return kr(n,{...n._zod.def,shape:c,checks:[]})}function A1(i,n,s){const o=n._zod.def.shape,c={...o};if(s)for(const d in s){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);s[d]&&(c[d]=new i({type:"nonoptional",innerType:o[d]}))}else for(const d in o)c[d]=new i({type:"nonoptional",innerType:o[d]});return kr(n,{...n._zod.def,shape:c,checks:[]})}function Vl(i,n=0){for(let s=n;s<i.issues.length;s++)if(i.issues[s]?.continue!==!0)return!0;return!1}function Cf(i,n){return n.map(s=>{var o;return(o=s).path??(o.path=[]),s.path.unshift(i),s})}function Sc(i){return typeof i=="string"?i:i?.message}function Er(i,n,s){const o={...i,path:i.path??[]};if(!i.message){const c=Sc(i.inst?._zod.def?.error?.(i))??Sc(n?.error?.(i))??Sc(s.customError?.(i))??Sc(s.localeError?.(i))??"Invalid input";o.message=c}return delete o.inst,delete o.continue,n?.reportInput||delete o.input,o}function Mf(i){return Array.isArray(i)?"array":typeof i=="string"?"string":"unknown"}function Ql(...i){const[n,s,o]=i;return typeof n=="string"?{message:n,code:"custom",input:s,inst:o}:{...n}}const Pv=(i,n)=>{i.name="$ZodError",Object.defineProperty(i,"_zod",{value:i._zod,enumerable:!1}),Object.defineProperty(i,"issues",{value:n,enumerable:!1}),Object.defineProperty(i,"message",{get(){return JSON.stringify(n,v1,2)},enumerable:!0}),Object.defineProperty(i,"toString",{value:()=>i.message,enumerable:!1})},Dv=ae("$ZodError",Pv),Bv=ae("$ZodError",Pv,{Parent:Error});function C1(i,n=s=>s.message){const s={},o=[];for(const c of i.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(n(c))):o.push(n(c));return{formErrors:o,fieldErrors:s}}function M1(i,n){const s=n||function(d){return d.message},o={_errors:[]},c=d=>{for(const g of d.issues)if(g.code==="invalid_union"&&g.errors.length)g.errors.map(v=>c({issues:v}));else if(g.code==="invalid_key")c({issues:g.issues});else if(g.code==="invalid_element")c({issues:g.issues});else if(g.path.length===0)o._errors.push(s(g));else{let v=o,y=0;for(;y<g.path.length;){const x=g.path[y];y===g.path.length-1?(v[x]=v[x]||{_errors:[]},v[x]._errors.push(s(g))):v[x]=v[x]||{_errors:[]},v=v[x],y++}}};return c(i),o}const O1=i=>(n,s,o,c)=>{const d=o?Object.assign(o,{async:!1}):{async:!1},g=n._zod.run({value:s,issues:[]},d);if(g instanceof Promise)throw new Wl;if(g.issues.length){const v=new(c?.Err??i)(g.issues.map(y=>Er(y,d,Tr())));throw Rv(v,c?.callee),v}return g.value},L1=i=>async(n,s,o,c)=>{const d=o?Object.assign(o,{async:!0}):{async:!0};let g=n._zod.run({value:s,issues:[]},d);if(g instanceof Promise&&(g=await g),g.issues.length){const v=new(c?.Err??i)(g.issues.map(y=>Er(y,d,Tr())));throw Rv(v,c?.callee),v}return g.value},Uv=i=>(n,s,o)=>{const c=o?{...o,async:!1}:{async:!1},d=n._zod.run({value:s,issues:[]},c);if(d instanceof Promise)throw new Wl;return d.issues.length?{success:!1,error:new(i??Dv)(d.issues.map(g=>Er(g,c,Tr())))}:{success:!0,data:d.value}},z1=Uv(Bv),Zv=i=>async(n,s,o)=>{const c=o?Object.assign(o,{async:!0}):{async:!0};let d=n._zod.run({value:s,issues:[]},c);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new i(d.issues.map(g=>Er(g,c,Tr())))}:{success:!0,data:d.value}},R1=Zv(Bv),P1=/^[cC][^\s-]{8,}$/,D1=/^[0-9a-z]+$/,B1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,U1=/^[0-9a-vA-V]{20}$/,Z1=/^[A-Za-z0-9]{27}$/,$1=/^[a-zA-Z0-9_-]{21}$/,H1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,q1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,x_=i=>i?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${i}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,I1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,G1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function F1(){return new RegExp(G1,"u")}const Y1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,K1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,X1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,$v=/^[A-Za-z0-9_-]*$/,Q1=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,J1=/^\+(?:[0-9]){6,14}[0-9]$/,Hv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",eS=new RegExp(`^${Hv}$`);function qv(i){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof i.precision=="number"?i.precision===-1?`${n}`:i.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${i.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function tS(i){return new RegExp(`^${qv(i)}$`)}function nS(i){const n=qv({precision:i.precision}),s=["Z"];i.local&&s.push(""),i.offset&&s.push("([+-]\\d{2}:\\d{2})");const o=`${n}(?:${s.join("|")})`;return new RegExp(`^${Hv}T(?:${o})$`)}const iS=i=>{const n=i?`[\\s\\S]{${i?.minimum??0},${i?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},aS=/^\d+$/,sS=/^-?\d+(?:\.\d+)?/i,rS=/true|false/i,oS=/^[^A-Z]*$/,lS=/^[^a-z]*$/,Vn=ae("$ZodCheck",(i,n)=>{var s;i._zod??(i._zod={}),i._zod.def=n,(s=i._zod).onattach??(s.onattach=[])}),Iv={number:"number",bigint:"bigint",object:"date"},Gv=ae("$ZodCheckLessThan",(i,n)=>{Vn.init(i,n);const s=Iv[typeof n.value];i._zod.onattach.push(o=>{const c=o._zod.bag,d=(n.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<d&&(n.inclusive?c.maximum=n.value:c.exclusiveMaximum=n.value)}),i._zod.check=o=>{(n.inclusive?o.value<=n.value:o.value<n.value)||o.issues.push({origin:s,code:"too_big",maximum:n.value,input:o.value,inclusive:n.inclusive,inst:i,continue:!n.abort})}}),Fv=ae("$ZodCheckGreaterThan",(i,n)=>{Vn.init(i,n);const s=Iv[typeof n.value];i._zod.onattach.push(o=>{const c=o._zod.bag,d=(n.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>d&&(n.inclusive?c.minimum=n.value:c.exclusiveMinimum=n.value)}),i._zod.check=o=>{(n.inclusive?o.value>=n.value:o.value>n.value)||o.issues.push({origin:s,code:"too_small",minimum:n.value,input:o.value,inclusive:n.inclusive,inst:i,continue:!n.abort})}}),uS=ae("$ZodCheckMultipleOf",(i,n)=>{Vn.init(i,n),i._zod.onattach.push(s=>{var o;(o=s._zod.bag).multipleOf??(o.multipleOf=n.value)}),i._zod.check=s=>{if(typeof s.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof s.value=="bigint"?s.value%n.value===BigInt(0):y1(s.value,n.value)===0)||s.issues.push({origin:typeof s.value,code:"not_multiple_of",divisor:n.value,input:s.value,inst:i,continue:!n.abort})}}),cS=ae("$ZodCheckNumberFormat",(i,n)=>{Vn.init(i,n),n.format=n.format||"float64";const s=n.format?.includes("int"),o=s?"int":"number",[c,d]=S1[n.format];i._zod.onattach.push(g=>{const v=g._zod.bag;v.format=n.format,v.minimum=c,v.maximum=d,s&&(v.pattern=aS)}),i._zod.check=g=>{const v=g.value;if(s){if(!Number.isInteger(v)){g.issues.push({expected:o,format:n.format,code:"invalid_type",input:v,inst:i});return}if(!Number.isSafeInteger(v)){v>0?g.issues.push({input:v,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:o,continue:!n.abort}):g.issues.push({input:v,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:o,continue:!n.abort});return}}v<c&&g.issues.push({origin:"number",input:v,code:"too_small",minimum:c,inclusive:!0,inst:i,continue:!n.abort}),v>d&&g.issues.push({origin:"number",input:v,code:"too_big",maximum:d,inst:i})}}),dS=ae("$ZodCheckMaxLength",(i,n)=>{var s;Vn.init(i,n),(s=i._zod.def).when??(s.when=o=>{const c=o.value;return!Nf(c)&&c.length!==void 0}),i._zod.onattach.push(o=>{const c=o._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(o._zod.bag.maximum=n.maximum)}),i._zod.check=o=>{const c=o.value;if(c.length<=n.maximum)return;const g=Mf(c);o.issues.push({origin:g,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:i,continue:!n.abort})}}),hS=ae("$ZodCheckMinLength",(i,n)=>{var s;Vn.init(i,n),(s=i._zod.def).when??(s.when=o=>{const c=o.value;return!Nf(c)&&c.length!==void 0}),i._zod.onattach.push(o=>{const c=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(o._zod.bag.minimum=n.minimum)}),i._zod.check=o=>{const c=o.value;if(c.length>=n.minimum)return;const g=Mf(c);o.issues.push({origin:g,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:i,continue:!n.abort})}}),fS=ae("$ZodCheckLengthEquals",(i,n)=>{var s;Vn.init(i,n),(s=i._zod.def).when??(s.when=o=>{const c=o.value;return!Nf(c)&&c.length!==void 0}),i._zod.onattach.push(o=>{const c=o._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),i._zod.check=o=>{const c=o.value,d=c.length;if(d===n.length)return;const g=Mf(c),v=d>n.length;o.issues.push({origin:g,...v?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:o.value,inst:i,continue:!n.abort})}}),$c=ae("$ZodCheckStringFormat",(i,n)=>{var s,o;Vn.init(i,n),i._zod.onattach.push(c=>{const d=c._zod.bag;d.format=n.format,n.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(n.pattern))}),n.pattern?(s=i._zod).check??(s.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:i,continue:!n.abort})}):(o=i._zod).check??(o.check=()=>{})}),mS=ae("$ZodCheckRegex",(i,n)=>{$c.init(i,n),i._zod.check=s=>{n.pattern.lastIndex=0,!n.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:n.pattern.toString(),inst:i,continue:!n.abort})}}),gS=ae("$ZodCheckLowerCase",(i,n)=>{n.pattern??(n.pattern=oS),$c.init(i,n)}),pS=ae("$ZodCheckUpperCase",(i,n)=>{n.pattern??(n.pattern=lS),$c.init(i,n)}),_S=ae("$ZodCheckIncludes",(i,n)=>{Vn.init(i,n);const s=Zc(n.includes),o=new RegExp(typeof n.position=="number"?`^.{${n.position}}${s}`:s);n.pattern=o,i._zod.onattach.push(c=>{const d=c._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(o)}),i._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:i,continue:!n.abort})}}),vS=ae("$ZodCheckStartsWith",(i,n)=>{Vn.init(i,n);const s=new RegExp(`^${Zc(n.prefix)}.*`);n.pattern??(n.pattern=s),i._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),i._zod.check=o=>{o.value.startsWith(n.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:o.value,inst:i,continue:!n.abort})}}),yS=ae("$ZodCheckEndsWith",(i,n)=>{Vn.init(i,n);const s=new RegExp(`.*${Zc(n.suffix)}$`);n.pattern??(n.pattern=s),i._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),i._zod.check=o=>{o.value.endsWith(n.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:o.value,inst:i,continue:!n.abort})}}),xS=ae("$ZodCheckOverwrite",(i,n)=>{Vn.init(i,n),i._zod.check=s=>{s.value=n.tx(s.value)}});class bS{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const o=n.split(`
`).filter(g=>g),c=Math.min(...o.map(g=>g.length-g.trimStart().length)),d=o.map(g=>g.slice(c)).map(g=>" ".repeat(this.indent*2)+g);for(const g of d)this.content.push(g)}compile(){const n=Function,s=this?.args,c=[...(this?.content??[""]).map(d=>`  ${d}`)];return new n(...s,c.join(`
`))}}const wS={major:4,minor:0,patch:5},Lt=ae("$ZodType",(i,n)=>{var s;i??(i={}),i._zod.def=n,i._zod.bag=i._zod.bag||{},i._zod.version=wS;const o=[...i._zod.def.checks??[]];i._zod.traits.has("$ZodCheck")&&o.unshift(i);for(const c of o)for(const d of c._zod.onattach)d(i);if(o.length===0)(s=i._zod).deferred??(s.deferred=[]),i._zod.deferred?.push(()=>{i._zod.run=i._zod.parse});else{const c=(d,g,v)=>{let y=Vl(d),x;for(const w of g){if(w._zod.def.when){if(!w._zod.def.when(d))continue}else if(y)continue;const j=d.issues.length,k=w._zod.check(d);if(k instanceof Promise&&v?.async===!1)throw new Wl;if(x||k instanceof Promise)x=(x??Promise.resolve()).then(async()=>{await k,d.issues.length!==j&&(y||(y=Vl(d,j)))});else{if(d.issues.length===j)continue;y||(y=Vl(d,j))}}return x?x.then(()=>d):d};i._zod.run=(d,g)=>{const v=i._zod.parse(d,g);if(v instanceof Promise){if(g.async===!1)throw new Wl;return v.then(y=>c(y,o,g))}return c(v,o,g)}}i["~standard"]={validate:c=>{try{const d=z1(i,c);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return R1(i,c).then(g=>g.success?{value:g.data}:{issues:g.error?.issues})}},vendor:"zod",version:1}}),Of=ae("$ZodString",(i,n)=>{Lt.init(i,n),i._zod.pattern=[...i?._zod.bag?.patterns??[]].pop()??iS(i._zod.bag),i._zod.parse=(s,o)=>{if(n.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:i}),s}}),Tt=ae("$ZodStringFormat",(i,n)=>{$c.init(i,n),Of.init(i,n)}),SS=ae("$ZodGUID",(i,n)=>{n.pattern??(n.pattern=q1),Tt.init(i,n)}),jS=ae("$ZodUUID",(i,n)=>{if(n.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(o===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=x_(o))}else n.pattern??(n.pattern=x_());Tt.init(i,n)}),TS=ae("$ZodEmail",(i,n)=>{n.pattern??(n.pattern=I1),Tt.init(i,n)}),ES=ae("$ZodURL",(i,n)=>{Tt.init(i,n),i._zod.check=s=>{try{const o=s.value,c=new URL(o),d=c.href;n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Q1.source,input:s.value,inst:i,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:s.value,inst:i,continue:!n.abort})),!o.endsWith("/")&&d.endsWith("/")?s.value=d.slice(0,-1):s.value=d;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:i,continue:!n.abort})}}}),NS=ae("$ZodEmoji",(i,n)=>{n.pattern??(n.pattern=F1()),Tt.init(i,n)}),kS=ae("$ZodNanoID",(i,n)=>{n.pattern??(n.pattern=$1),Tt.init(i,n)}),AS=ae("$ZodCUID",(i,n)=>{n.pattern??(n.pattern=P1),Tt.init(i,n)}),CS=ae("$ZodCUID2",(i,n)=>{n.pattern??(n.pattern=D1),Tt.init(i,n)}),MS=ae("$ZodULID",(i,n)=>{n.pattern??(n.pattern=B1),Tt.init(i,n)}),OS=ae("$ZodXID",(i,n)=>{n.pattern??(n.pattern=U1),Tt.init(i,n)}),LS=ae("$ZodKSUID",(i,n)=>{n.pattern??(n.pattern=Z1),Tt.init(i,n)}),zS=ae("$ZodISODateTime",(i,n)=>{n.pattern??(n.pattern=nS(n)),Tt.init(i,n)}),RS=ae("$ZodISODate",(i,n)=>{n.pattern??(n.pattern=eS),Tt.init(i,n)}),PS=ae("$ZodISOTime",(i,n)=>{n.pattern??(n.pattern=tS(n)),Tt.init(i,n)}),DS=ae("$ZodISODuration",(i,n)=>{n.pattern??(n.pattern=H1),Tt.init(i,n)}),BS=ae("$ZodIPv4",(i,n)=>{n.pattern??(n.pattern=Y1),Tt.init(i,n),i._zod.onattach.push(s=>{const o=s._zod.bag;o.format="ipv4"})}),US=ae("$ZodIPv6",(i,n)=>{n.pattern??(n.pattern=V1),Tt.init(i,n),i._zod.onattach.push(s=>{const o=s._zod.bag;o.format="ipv6"}),i._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:i,continue:!n.abort})}}}),ZS=ae("$ZodCIDRv4",(i,n)=>{n.pattern??(n.pattern=K1),Tt.init(i,n)}),$S=ae("$ZodCIDRv6",(i,n)=>{n.pattern??(n.pattern=X1),Tt.init(i,n),i._zod.check=s=>{const[o,c]=s.value.split("/");try{if(!c)throw new Error;const d=Number(c);if(`${d}`!==c)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${o}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:i,continue:!n.abort})}}});function Yv(i){if(i==="")return!0;if(i.length%4!==0)return!1;try{return atob(i),!0}catch{return!1}}const HS=ae("$ZodBase64",(i,n)=>{n.pattern??(n.pattern=W1),Tt.init(i,n),i._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64"}),i._zod.check=s=>{Yv(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:i,continue:!n.abort})}});function qS(i){if(!$v.test(i))return!1;const n=i.replace(/[-_]/g,o=>o==="-"?"+":"/"),s=n.padEnd(Math.ceil(n.length/4)*4,"=");return Yv(s)}const IS=ae("$ZodBase64URL",(i,n)=>{n.pattern??(n.pattern=$v),Tt.init(i,n),i._zod.onattach.push(s=>{s._zod.bag.contentEncoding="base64url"}),i._zod.check=s=>{qS(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:i,continue:!n.abort})}}),GS=ae("$ZodE164",(i,n)=>{n.pattern??(n.pattern=J1),Tt.init(i,n)});function FS(i,n=null){try{const s=i.split(".");if(s.length!==3)return!1;const[o]=s;if(!o)return!1;const c=JSON.parse(atob(o));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const YS=ae("$ZodJWT",(i,n)=>{Tt.init(i,n),i._zod.check=s=>{FS(s.value,n.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:i,continue:!n.abort})}}),Vv=ae("$ZodNumber",(i,n)=>{Lt.init(i,n),i._zod.pattern=i._zod.bag.pattern??sS,i._zod.parse=(s,o)=>{if(n.coerce)try{s.value=Number(s.value)}catch{}const c=s.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return s;const d=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return s.issues.push({expected:"number",code:"invalid_type",input:c,inst:i,...d?{received:d}:{}}),s}}),VS=ae("$ZodNumber",(i,n)=>{cS.init(i,n),Vv.init(i,n)}),KS=ae("$ZodBoolean",(i,n)=>{Lt.init(i,n),i._zod.pattern=rS,i._zod.parse=(s,o)=>{if(n.coerce)try{s.value=!!s.value}catch{}const c=s.value;return typeof c=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:i}),s}}),XS=ae("$ZodUnknown",(i,n)=>{Lt.init(i,n),i._zod.parse=s=>s}),WS=ae("$ZodNever",(i,n)=>{Lt.init(i,n),i._zod.parse=(s,o)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:i}),s)});function b_(i,n,s){i.issues.length&&n.issues.push(...Cf(s,i.issues)),n.value[s]=i.value}const QS=ae("$ZodArray",(i,n)=>{Lt.init(i,n),i._zod.parse=(s,o)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:i}),s;s.value=Array(c.length);const d=[];for(let g=0;g<c.length;g++){const v=c[g],y=n.element._zod.run({value:v,issues:[]},o);y instanceof Promise?d.push(y.then(x=>b_(x,s,g))):b_(y,s,g)}return d.length?Promise.all(d).then(()=>s):s}});function jc(i,n,s){i.issues.length&&n.issues.push(...Cf(s,i.issues)),n.value[s]=i.value}function w_(i,n,s,o){i.issues.length?o[s]===void 0?s in o?n.value[s]=void 0:n.value[s]=i.value:n.issues.push(...Cf(s,i.issues)):i.value===void 0?s in o&&(n.value[s]=void 0):n.value[s]=i.value}const JS=ae("$ZodObject",(i,n)=>{Lt.init(i,n);const s=zv(()=>{const j=Object.keys(n.shape);for(const A of j)if(!(n.shape[A]instanceof Lt))throw new Error(`Invalid element at key "${A}": expected a Zod schema`);const k=w1(n.shape);return{shape:n.shape,keys:j,keySet:new Set(j),numKeys:j.length,optionalKeys:new Set(k)}});xt(i._zod,"propValues",()=>{const j=n.shape,k={};for(const A in j){const M=j[A]._zod;if(M.values){k[A]??(k[A]=new Set);for(const z of M.values)k[A].add(z)}}return k});const o=j=>{const k=new bS(["shape","payload","ctx"]),A=s.value,M=H=>{const B=Hl(H);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};k.write("const input = payload.value;");const z=Object.create(null);let D=0;for(const H of A.keys)z[H]=`key_${D++}`;k.write("const newResult = {}");for(const H of A.keys)if(A.optionalKeys.has(H)){const B=z[H];k.write(`const ${B} = ${M(H)};`);const J=Hl(H);k.write(`
        if (${B}.issues.length) {
          if (input[${J}] === undefined) {
            if (${J} in input) {
              newResult[${J}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${B}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${J}, ...iss.path] : [${J}],
              }))
            );
          }
        } else if (${B}.value === undefined) {
          if (${J} in input) newResult[${J}] = undefined;
        } else {
          newResult[${J}] = ${B}.value;
        }
        `)}else{const B=z[H];k.write(`const ${B} = ${M(H)};`),k.write(`
          if (${B}.issues.length) payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Hl(H)}, ...iss.path] : [${Hl(H)}]
          })));`),k.write(`newResult[${Hl(H)}] = ${B}.value`)}k.write("payload.value = newResult;"),k.write("return payload;");const I=k.compile();return(H,B)=>I(j,H,B)};let c;const d=nf,g=!Lv.jitless,y=g&&x1.value,x=n.catchall;let w;i._zod.parse=(j,k)=>{w??(w=s.value);const A=j.value;if(!d(A))return j.issues.push({expected:"object",code:"invalid_type",input:A,inst:i}),j;const M=[];if(g&&y&&k?.async===!1&&k.jitless!==!0)c||(c=o(n.shape)),j=c(j,k);else{j.value={};const B=w.shape;for(const J of w.keys){const K=B[J],oe=K._zod.run({value:A[J],issues:[]},k),xe=K._zod.optin==="optional"&&K._zod.optout==="optional";oe instanceof Promise?M.push(oe.then(Re=>xe?w_(Re,j,J,A):jc(Re,j,J))):xe?w_(oe,j,J,A):jc(oe,j,J)}}if(!x)return M.length?Promise.all(M).then(()=>j):j;const z=[],D=w.keySet,I=x._zod,H=I.def.type;for(const B of Object.keys(A)){if(D.has(B))continue;if(H==="never"){z.push(B);continue}const J=I.run({value:A[B],issues:[]},k);J instanceof Promise?M.push(J.then(K=>jc(K,j,B))):jc(J,j,B)}return z.length&&j.issues.push({code:"unrecognized_keys",keys:z,input:A,inst:i}),M.length?Promise.all(M).then(()=>j):j}});function S_(i,n,s,o){for(const c of i)if(c.issues.length===0)return n.value=c.value,n;return n.issues.push({code:"invalid_union",input:n.value,inst:s,errors:i.map(c=>c.issues.map(d=>Er(d,o,Tr())))}),n}const e2=ae("$ZodUnion",(i,n)=>{Lt.init(i,n),xt(i._zod,"optin",()=>n.options.some(s=>s._zod.optin==="optional")?"optional":void 0),xt(i._zod,"optout",()=>n.options.some(s=>s._zod.optout==="optional")?"optional":void 0),xt(i._zod,"values",()=>{if(n.options.every(s=>s._zod.values))return new Set(n.options.flatMap(s=>Array.from(s._zod.values)))}),xt(i._zod,"pattern",()=>{if(n.options.every(s=>s._zod.pattern)){const s=n.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>kf(o.source)).join("|")})$`)}}),i._zod.parse=(s,o)=>{let c=!1;const d=[];for(const g of n.options){const v=g._zod.run({value:s.value,issues:[]},o);if(v instanceof Promise)d.push(v),c=!0;else{if(v.issues.length===0)return v;d.push(v)}}return c?Promise.all(d).then(g=>S_(g,s,i,o)):S_(d,s,i,o)}}),t2=ae("$ZodIntersection",(i,n)=>{Lt.init(i,n),i._zod.parse=(s,o)=>{const c=s.value,d=n.left._zod.run({value:c,issues:[]},o),g=n.right._zod.run({value:c,issues:[]},o);return d instanceof Promise||g instanceof Promise?Promise.all([d,g]).then(([y,x])=>j_(s,y,x)):j_(s,d,g)}});function sf(i,n){if(i===n)return{valid:!0,data:i};if(i instanceof Date&&n instanceof Date&&+i==+n)return{valid:!0,data:i};if(af(i)&&af(n)){const s=Object.keys(n),o=Object.keys(i).filter(d=>s.indexOf(d)!==-1),c={...i,...n};for(const d of o){const g=sf(i[d],n[d]);if(!g.valid)return{valid:!1,mergeErrorPath:[d,...g.mergeErrorPath]};c[d]=g.data}return{valid:!0,data:c}}if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let o=0;o<i.length;o++){const c=i[o],d=n[o],g=sf(c,d);if(!g.valid)return{valid:!1,mergeErrorPath:[o,...g.mergeErrorPath]};s.push(g.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function j_(i,n,s){if(n.issues.length&&i.issues.push(...n.issues),s.issues.length&&i.issues.push(...s.issues),Vl(i))return i;const o=sf(n.value,s.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return i.value=o.data,i}const n2=ae("$ZodEnum",(i,n)=>{Lt.init(i,n);const s=_1(n.entries);i._zod.values=new Set(s),i._zod.pattern=new RegExp(`^(${s.filter(o=>b1.has(typeof o)).map(o=>typeof o=="string"?Zc(o):o.toString()).join("|")})$`),i._zod.parse=(o,c)=>{const d=o.value;return i._zod.values.has(d)||o.issues.push({code:"invalid_value",values:s,input:d,inst:i}),o}}),i2=ae("$ZodTransform",(i,n)=>{Lt.init(i,n),i._zod.parse=(s,o)=>{const c=n.transform(s.value,s);if(o.async)return(c instanceof Promise?c:Promise.resolve(c)).then(g=>(s.value=g,s));if(c instanceof Promise)throw new Wl;return s.value=c,s}}),a2=ae("$ZodOptional",(i,n)=>{Lt.init(i,n),i._zod.optin="optional",i._zod.optout="optional",xt(i._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),xt(i._zod,"pattern",()=>{const s=n.innerType._zod.pattern;return s?new RegExp(`^(${kf(s.source)})?$`):void 0}),i._zod.parse=(s,o)=>n.innerType._zod.optin==="optional"?n.innerType._zod.run(s,o):s.value===void 0?s:n.innerType._zod.run(s,o)}),s2=ae("$ZodNullable",(i,n)=>{Lt.init(i,n),xt(i._zod,"optin",()=>n.innerType._zod.optin),xt(i._zod,"optout",()=>n.innerType._zod.optout),xt(i._zod,"pattern",()=>{const s=n.innerType._zod.pattern;return s?new RegExp(`^(${kf(s.source)}|null)$`):void 0}),xt(i._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),i._zod.parse=(s,o)=>s.value===null?s:n.innerType._zod.run(s,o)}),r2=ae("$ZodDefault",(i,n)=>{Lt.init(i,n),i._zod.optin="optional",xt(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(s,o)=>{if(s.value===void 0)return s.value=n.defaultValue,s;const c=n.innerType._zod.run(s,o);return c instanceof Promise?c.then(d=>T_(d,n)):T_(c,n)}});function T_(i,n){return i.value===void 0&&(i.value=n.defaultValue),i}const o2=ae("$ZodPrefault",(i,n)=>{Lt.init(i,n),i._zod.optin="optional",xt(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(s,o)=>(s.value===void 0&&(s.value=n.defaultValue),n.innerType._zod.run(s,o))}),l2=ae("$ZodNonOptional",(i,n)=>{Lt.init(i,n),xt(i._zod,"values",()=>{const s=n.innerType._zod.values;return s?new Set([...s].filter(o=>o!==void 0)):void 0}),i._zod.parse=(s,o)=>{const c=n.innerType._zod.run(s,o);return c instanceof Promise?c.then(d=>E_(d,i)):E_(c,i)}});function E_(i,n){return!i.issues.length&&i.value===void 0&&i.issues.push({code:"invalid_type",expected:"nonoptional",input:i.value,inst:n}),i}const u2=ae("$ZodCatch",(i,n)=>{Lt.init(i,n),i._zod.optin="optional",xt(i._zod,"optout",()=>n.innerType._zod.optout),xt(i._zod,"values",()=>n.innerType._zod.values),i._zod.parse=(s,o)=>{const c=n.innerType._zod.run(s,o);return c instanceof Promise?c.then(d=>(s.value=d.value,d.issues.length&&(s.value=n.catchValue({...s,error:{issues:d.issues.map(g=>Er(g,o,Tr()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=n.catchValue({...s,error:{issues:c.issues.map(d=>Er(d,o,Tr()))},input:s.value}),s.issues=[]),s)}}),c2=ae("$ZodPipe",(i,n)=>{Lt.init(i,n),xt(i._zod,"values",()=>n.in._zod.values),xt(i._zod,"optin",()=>n.in._zod.optin),xt(i._zod,"optout",()=>n.out._zod.optout),xt(i._zod,"propValues",()=>n.in._zod.propValues),i._zod.parse=(s,o)=>{const c=n.in._zod.run(s,o);return c instanceof Promise?c.then(d=>N_(d,n,o)):N_(c,n,o)}});function N_(i,n,s){return Vl(i)?i:n.out._zod.run({value:i.value,issues:i.issues},s)}const d2=ae("$ZodReadonly",(i,n)=>{Lt.init(i,n),xt(i._zod,"propValues",()=>n.innerType._zod.propValues),xt(i._zod,"values",()=>n.innerType._zod.values),xt(i._zod,"optin",()=>n.innerType._zod.optin),xt(i._zod,"optout",()=>n.innerType._zod.optout),i._zod.parse=(s,o)=>{const c=n.innerType._zod.run(s,o);return c instanceof Promise?c.then(k_):k_(c)}});function k_(i){return i.value=Object.freeze(i.value),i}const h2=ae("$ZodCustom",(i,n)=>{Vn.init(i,n),Lt.init(i,n),i._zod.parse=(s,o)=>s,i._zod.check=s=>{const o=s.value,c=n.fn(o);if(c instanceof Promise)return c.then(d=>A_(d,s,o,i));A_(c,s,o,i)}});function A_(i,n,s,o){if(!i){const c={code:"custom",input:s,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(c.params=o._zod.def.params),n.issues.push(Ql(c))}}class f2{constructor(){this._map=new Map,this._idmap=new Map}add(n,...s){const o=s[0];if(this._map.set(n,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const s=this._map.get(n);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(n),this}get(n){const s=n._zod.parent;if(s){const o={...this.get(s)??{}};return delete o.id,{...o,...this._map.get(n)}}return this._map.get(n)}has(n){return this._map.has(n)}}function m2(){return new f2}const Tc=m2();function g2(i,n){return new i({type:"string",...Ce(n)})}function p2(i,n){return new i({type:"string",format:"email",check:"string_format",abort:!1,...Ce(n)})}function C_(i,n){return new i({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(n)})}function _2(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(n)})}function v2(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(n)})}function y2(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(n)})}function x2(i,n){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(n)})}function b2(i,n){return new i({type:"string",format:"url",check:"string_format",abort:!1,...Ce(n)})}function w2(i,n){return new i({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(n)})}function S2(i,n){return new i({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(n)})}function j2(i,n){return new i({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(n)})}function T2(i,n){return new i({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(n)})}function E2(i,n){return new i({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(n)})}function N2(i,n){return new i({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(n)})}function k2(i,n){return new i({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(n)})}function A2(i,n){return new i({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(n)})}function C2(i,n){return new i({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(n)})}function M2(i,n){return new i({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(n)})}function O2(i,n){return new i({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(n)})}function L2(i,n){return new i({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(n)})}function z2(i,n){return new i({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(n)})}function R2(i,n){return new i({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(n)})}function P2(i,n){return new i({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(n)})}function D2(i,n){return new i({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(n)})}function B2(i,n){return new i({type:"string",format:"date",check:"string_format",...Ce(n)})}function U2(i,n){return new i({type:"string",format:"time",check:"string_format",precision:null,...Ce(n)})}function Z2(i,n){return new i({type:"string",format:"duration",check:"string_format",...Ce(n)})}function $2(i,n){return new i({type:"number",checks:[],...Ce(n)})}function H2(i,n){return new i({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(n)})}function q2(i,n){return new i({type:"boolean",...Ce(n)})}function I2(i){return new i({type:"unknown"})}function G2(i,n){return new i({type:"never",...Ce(n)})}function M_(i,n){return new Gv({check:"less_than",...Ce(n),value:i,inclusive:!1})}function Hh(i,n){return new Gv({check:"less_than",...Ce(n),value:i,inclusive:!0})}function O_(i,n){return new Fv({check:"greater_than",...Ce(n),value:i,inclusive:!1})}function qh(i,n){return new Fv({check:"greater_than",...Ce(n),value:i,inclusive:!0})}function L_(i,n){return new uS({check:"multiple_of",...Ce(n),value:i})}function Kv(i,n){return new dS({check:"max_length",...Ce(n),maximum:i})}function Lc(i,n){return new hS({check:"min_length",...Ce(n),minimum:i})}function Xv(i,n){return new fS({check:"length_equals",...Ce(n),length:i})}function F2(i,n){return new mS({check:"string_format",format:"regex",...Ce(n),pattern:i})}function Y2(i){return new gS({check:"string_format",format:"lowercase",...Ce(i)})}function V2(i){return new pS({check:"string_format",format:"uppercase",...Ce(i)})}function K2(i,n){return new _S({check:"string_format",format:"includes",...Ce(n),includes:i})}function X2(i,n){return new vS({check:"string_format",format:"starts_with",...Ce(n),prefix:i})}function W2(i,n){return new yS({check:"string_format",format:"ends_with",...Ce(n),suffix:i})}function iu(i){return new xS({check:"overwrite",tx:i})}function Q2(i){return iu(n=>n.normalize(i))}function J2(){return iu(i=>i.trim())}function ej(){return iu(i=>i.toLowerCase())}function tj(){return iu(i=>i.toUpperCase())}function nj(i,n,s){return new i({type:"array",element:n,...Ce(s)})}function ij(i,n,s){return new i({type:"custom",check:"custom",fn:n,...Ce(s)})}const aj=ae("ZodISODateTime",(i,n)=>{zS.init(i,n),kt.init(i,n)});function sj(i){return D2(aj,i)}const rj=ae("ZodISODate",(i,n)=>{RS.init(i,n),kt.init(i,n)});function oj(i){return B2(rj,i)}const lj=ae("ZodISOTime",(i,n)=>{PS.init(i,n),kt.init(i,n)});function uj(i){return U2(lj,i)}const cj=ae("ZodISODuration",(i,n)=>{DS.init(i,n),kt.init(i,n)});function dj(i){return Z2(cj,i)}const hj=(i,n)=>{Dv.init(i,n),i.name="ZodError",Object.defineProperties(i,{format:{value:s=>M1(i,s)},flatten:{value:s=>C1(i,s)},addIssue:{value:s=>i.issues.push(s)},addIssues:{value:s=>i.issues.push(...s)},isEmpty:{get(){return i.issues.length===0}}})},Hc=ae("ZodError",hj,{Parent:Error}),fj=O1(Hc),mj=L1(Hc),gj=Uv(Hc),pj=Zv(Hc),qt=ae("ZodType",(i,n)=>(Lt.init(i,n),i.def=n,Object.defineProperty(i,"_def",{value:n}),i.check=(...s)=>i.clone({...n,checks:[...n.checks??[],...s.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),i.clone=(s,o)=>kr(i,s,o),i.brand=()=>i,i.register=(s,o)=>(s.add(i,o),i),i.parse=(s,o)=>fj(i,s,o,{callee:i.parse}),i.safeParse=(s,o)=>gj(i,s,o),i.parseAsync=async(s,o)=>mj(i,s,o,{callee:i.parseAsync}),i.safeParseAsync=async(s,o)=>pj(i,s,o),i.spa=i.safeParseAsync,i.refine=(s,o)=>i.check(oT(s,o)),i.superRefine=s=>i.check(lT(s)),i.overwrite=s=>i.check(iu(s)),i.optional=()=>D_(i),i.nullable=()=>B_(i),i.nullish=()=>D_(B_(i)),i.nonoptional=s=>Jj(i,s),i.array=()=>rf(i),i.or=s=>qj([i,s]),i.and=s=>Gj(i,s),i.transform=s=>U_(i,Yj(s)),i.default=s=>Xj(i,s),i.prefault=s=>Qj(i,s),i.catch=s=>tT(i,s),i.pipe=s=>U_(i,s),i.readonly=()=>aT(i),i.describe=s=>{const o=i.clone();return Tc.add(o,{description:s}),o},Object.defineProperty(i,"description",{get(){return Tc.get(i)?.description},configurable:!0}),i.meta=(...s)=>{if(s.length===0)return Tc.get(i);const o=i.clone();return Tc.add(o,s[0]),o},i.isOptional=()=>i.safeParse(void 0).success,i.isNullable=()=>i.safeParse(null).success,i)),Wv=ae("_ZodString",(i,n)=>{Of.init(i,n),qt.init(i,n);const s=i._zod.bag;i.format=s.format??null,i.minLength=s.minimum??null,i.maxLength=s.maximum??null,i.regex=(...o)=>i.check(F2(...o)),i.includes=(...o)=>i.check(K2(...o)),i.startsWith=(...o)=>i.check(X2(...o)),i.endsWith=(...o)=>i.check(W2(...o)),i.min=(...o)=>i.check(Lc(...o)),i.max=(...o)=>i.check(Kv(...o)),i.length=(...o)=>i.check(Xv(...o)),i.nonempty=(...o)=>i.check(Lc(1,...o)),i.lowercase=o=>i.check(Y2(o)),i.uppercase=o=>i.check(V2(o)),i.trim=()=>i.check(J2()),i.normalize=(...o)=>i.check(Q2(...o)),i.toLowerCase=()=>i.check(ej()),i.toUpperCase=()=>i.check(tj())}),_j=ae("ZodString",(i,n)=>{Of.init(i,n),Wv.init(i,n),i.email=s=>i.check(p2(vj,s)),i.url=s=>i.check(b2(yj,s)),i.jwt=s=>i.check(P2(zj,s)),i.emoji=s=>i.check(w2(xj,s)),i.guid=s=>i.check(C_(z_,s)),i.uuid=s=>i.check(_2(Ec,s)),i.uuidv4=s=>i.check(v2(Ec,s)),i.uuidv6=s=>i.check(y2(Ec,s)),i.uuidv7=s=>i.check(x2(Ec,s)),i.nanoid=s=>i.check(S2(bj,s)),i.guid=s=>i.check(C_(z_,s)),i.cuid=s=>i.check(j2(wj,s)),i.cuid2=s=>i.check(T2(Sj,s)),i.ulid=s=>i.check(E2(jj,s)),i.base64=s=>i.check(L2(Mj,s)),i.base64url=s=>i.check(z2(Oj,s)),i.xid=s=>i.check(N2(Tj,s)),i.ksuid=s=>i.check(k2(Ej,s)),i.ipv4=s=>i.check(A2(Nj,s)),i.ipv6=s=>i.check(C2(kj,s)),i.cidrv4=s=>i.check(M2(Aj,s)),i.cidrv6=s=>i.check(O2(Cj,s)),i.e164=s=>i.check(R2(Lj,s)),i.datetime=s=>i.check(sj(s)),i.date=s=>i.check(oj(s)),i.time=s=>i.check(uj(s)),i.duration=s=>i.check(dj(s))});function Ie(i){return g2(_j,i)}const kt=ae("ZodStringFormat",(i,n)=>{Tt.init(i,n),Wv.init(i,n)}),vj=ae("ZodEmail",(i,n)=>{TS.init(i,n),kt.init(i,n)}),z_=ae("ZodGUID",(i,n)=>{SS.init(i,n),kt.init(i,n)}),Ec=ae("ZodUUID",(i,n)=>{jS.init(i,n),kt.init(i,n)}),yj=ae("ZodURL",(i,n)=>{ES.init(i,n),kt.init(i,n)}),xj=ae("ZodEmoji",(i,n)=>{NS.init(i,n),kt.init(i,n)}),bj=ae("ZodNanoID",(i,n)=>{kS.init(i,n),kt.init(i,n)}),wj=ae("ZodCUID",(i,n)=>{AS.init(i,n),kt.init(i,n)}),Sj=ae("ZodCUID2",(i,n)=>{CS.init(i,n),kt.init(i,n)}),jj=ae("ZodULID",(i,n)=>{MS.init(i,n),kt.init(i,n)}),Tj=ae("ZodXID",(i,n)=>{OS.init(i,n),kt.init(i,n)}),Ej=ae("ZodKSUID",(i,n)=>{LS.init(i,n),kt.init(i,n)}),Nj=ae("ZodIPv4",(i,n)=>{BS.init(i,n),kt.init(i,n)}),kj=ae("ZodIPv6",(i,n)=>{US.init(i,n),kt.init(i,n)}),Aj=ae("ZodCIDRv4",(i,n)=>{ZS.init(i,n),kt.init(i,n)}),Cj=ae("ZodCIDRv6",(i,n)=>{$S.init(i,n),kt.init(i,n)}),Mj=ae("ZodBase64",(i,n)=>{HS.init(i,n),kt.init(i,n)}),Oj=ae("ZodBase64URL",(i,n)=>{IS.init(i,n),kt.init(i,n)}),Lj=ae("ZodE164",(i,n)=>{GS.init(i,n),kt.init(i,n)}),zj=ae("ZodJWT",(i,n)=>{YS.init(i,n),kt.init(i,n)}),Qv=ae("ZodNumber",(i,n)=>{Vv.init(i,n),qt.init(i,n),i.gt=(o,c)=>i.check(O_(o,c)),i.gte=(o,c)=>i.check(qh(o,c)),i.min=(o,c)=>i.check(qh(o,c)),i.lt=(o,c)=>i.check(M_(o,c)),i.lte=(o,c)=>i.check(Hh(o,c)),i.max=(o,c)=>i.check(Hh(o,c)),i.int=o=>i.check(R_(o)),i.safe=o=>i.check(R_(o)),i.positive=o=>i.check(O_(0,o)),i.nonnegative=o=>i.check(qh(0,o)),i.negative=o=>i.check(M_(0,o)),i.nonpositive=o=>i.check(Hh(0,o)),i.multipleOf=(o,c)=>i.check(L_(o,c)),i.step=(o,c)=>i.check(L_(o,c)),i.finite=()=>i;const s=i._zod.bag;i.minValue=Math.max(s.minimum??Number.NEGATIVE_INFINITY,s.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,i.maxValue=Math.min(s.maximum??Number.POSITIVE_INFINITY,s.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,i.isInt=(s.format??"").includes("int")||Number.isSafeInteger(s.multipleOf??.5),i.isFinite=!0,i.format=s.format??null});function ge(i){return $2(Qv,i)}const Rj=ae("ZodNumberFormat",(i,n)=>{VS.init(i,n),Qv.init(i,n)});function R_(i){return H2(Rj,i)}const Pj=ae("ZodBoolean",(i,n)=>{KS.init(i,n),qt.init(i,n)});function Lf(i){return q2(Pj,i)}const Dj=ae("ZodUnknown",(i,n)=>{XS.init(i,n),qt.init(i,n)});function P_(){return I2(Dj)}const Bj=ae("ZodNever",(i,n)=>{WS.init(i,n),qt.init(i,n)});function Uj(i){return G2(Bj,i)}const Zj=ae("ZodArray",(i,n)=>{QS.init(i,n),qt.init(i,n),i.element=n.element,i.min=(s,o)=>i.check(Lc(s,o)),i.nonempty=s=>i.check(Lc(1,s)),i.max=(s,o)=>i.check(Kv(s,o)),i.length=(s,o)=>i.check(Xv(s,o)),i.unwrap=()=>i.element});function rf(i,n){return nj(Zj,i,n)}const $j=ae("ZodObject",(i,n)=>{JS.init(i,n),qt.init(i,n),xt(i,"shape",()=>n.shape),i.keyof=()=>Jl(Object.keys(i._zod.def.shape)),i.catchall=s=>i.clone({...i._zod.def,catchall:s}),i.passthrough=()=>i.clone({...i._zod.def,catchall:P_()}),i.loose=()=>i.clone({...i._zod.def,catchall:P_()}),i.strict=()=>i.clone({...i._zod.def,catchall:Uj()}),i.strip=()=>i.clone({...i._zod.def,catchall:void 0}),i.extend=s=>E1(i,s),i.merge=s=>N1(i,s),i.pick=s=>j1(i,s),i.omit=s=>T1(i,s),i.partial=(...s)=>k1(Jv,i,s[0]),i.required=(...s)=>A1(ey,i,s[0])});function Xa(i,n){const s={type:"object",get shape(){return Af(this,"shape",{...i}),this.shape},...Ce(n)};return new $j(s)}const Hj=ae("ZodUnion",(i,n)=>{e2.init(i,n),qt.init(i,n),i.options=n.options});function qj(i,n){return new Hj({type:"union",options:i,...Ce(n)})}const Ij=ae("ZodIntersection",(i,n)=>{t2.init(i,n),qt.init(i,n)});function Gj(i,n){return new Ij({type:"intersection",left:i,right:n})}const of=ae("ZodEnum",(i,n)=>{n2.init(i,n),qt.init(i,n),i.enum=n.entries,i.options=Object.values(n.entries);const s=new Set(Object.keys(n.entries));i.extract=(o,c)=>{const d={};for(const g of o)if(s.has(g))d[g]=n.entries[g];else throw new Error(`Key ${g} not found in enum`);return new of({...n,checks:[],...Ce(c),entries:d})},i.exclude=(o,c)=>{const d={...n.entries};for(const g of o)if(s.has(g))delete d[g];else throw new Error(`Key ${g} not found in enum`);return new of({...n,checks:[],...Ce(c),entries:d})}});function Jl(i,n){const s=Array.isArray(i)?Object.fromEntries(i.map(o=>[o,o])):i;return new of({type:"enum",entries:s,...Ce(n)})}const Fj=ae("ZodTransform",(i,n)=>{i2.init(i,n),qt.init(i,n),i._zod.parse=(s,o)=>{s.addIssue=d=>{if(typeof d=="string")s.issues.push(Ql(d,s.value,n));else{const g=d;g.fatal&&(g.continue=!1),g.code??(g.code="custom"),g.input??(g.input=s.value),g.inst??(g.inst=i),g.continue??(g.continue=!0),s.issues.push(Ql(g))}};const c=n.transform(s.value,s);return c instanceof Promise?c.then(d=>(s.value=d,s)):(s.value=c,s)}});function Yj(i){return new Fj({type:"transform",transform:i})}const Jv=ae("ZodOptional",(i,n)=>{a2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType});function D_(i){return new Jv({type:"optional",innerType:i})}const Vj=ae("ZodNullable",(i,n)=>{s2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType});function B_(i){return new Vj({type:"nullable",innerType:i})}const Kj=ae("ZodDefault",(i,n)=>{r2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType,i.removeDefault=i.unwrap});function Xj(i,n){return new Kj({type:"default",innerType:i,get defaultValue(){return typeof n=="function"?n():n}})}const Wj=ae("ZodPrefault",(i,n)=>{o2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType});function Qj(i,n){return new Wj({type:"prefault",innerType:i,get defaultValue(){return typeof n=="function"?n():n}})}const ey=ae("ZodNonOptional",(i,n)=>{l2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType});function Jj(i,n){return new ey({type:"nonoptional",innerType:i,...Ce(n)})}const eT=ae("ZodCatch",(i,n)=>{u2.init(i,n),qt.init(i,n),i.unwrap=()=>i._zod.def.innerType,i.removeCatch=i.unwrap});function tT(i,n){return new eT({type:"catch",innerType:i,catchValue:typeof n=="function"?n:()=>n})}const nT=ae("ZodPipe",(i,n)=>{c2.init(i,n),qt.init(i,n),i.in=n.in,i.out=n.out});function U_(i,n){return new nT({type:"pipe",in:i,out:n})}const iT=ae("ZodReadonly",(i,n)=>{d2.init(i,n),qt.init(i,n)});function aT(i){return new iT({type:"readonly",innerType:i})}const sT=ae("ZodCustom",(i,n)=>{h2.init(i,n),qt.init(i,n)});function rT(i){const n=new Vn({check:"custom"});return n._zod.check=i,n}function oT(i,n={}){return ij(sT,i,n)}function lT(i){const n=rT(s=>(s.addIssue=o=>{if(typeof o=="string")s.issues.push(Ql(o,s.value,n._zod.def));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),s.issues.push(Ql(c))}},i(s.value,s)));return n}const lf=Xa({id:Ie(),owner_id:Ie(),name:Ie(),alias:Ie().nullable().optional(),gender:Jl(["male","female"]),age_years:ge(),age_months:ge(),age_days:ge(),status:Jl(["active","injured","retired","deceased"]),speed:ge(),endurance:ge(),sky_iq:ge(),aerodynamics:ge(),vision:ge(),wing_power:ge(),flapacity:ge(),vanity:ge(),strength:ge(),aggression:ge(),landing:ge(),loyalty:ge(),health:ge(),happiness:ge(),fertility:ge(),disease_resistance:ge(),peak_speed:ge(),peak_endurance:ge(),peak_sky_iq:ge(),peak_aerodynamics:ge(),peak_vision:ge(),peak_wing_power:ge(),peak_flapacity:ge(),peak_vanity:ge(),peak_strength:ge(),peak_aggression:ge(),peak_landing:ge(),peak_loyalty:ge(),peak_health:ge(),peak_happiness:ge(),peak_fertility:ge(),peak_disease_resistance:ge(),eggs:ge(),offspring:ge(),breeding_quality:ge(),adaptability:ge(),recovery_rate:ge(),laser_focus:ge(),morale:ge(),food:ge(),peak_eggs:ge(),peak_offspring:ge(),peak_breeding_quality:ge(),peak_adaptability:ge(),peak_recovery_rate:ge(),peak_laser_focus:ge(),peak_morale:ge(),peak_food:ge(),races_won:ge(),races_lost:ge(),total_races:ge(),best_time:ge().nullable(),total_distance:ge(),offspring_produced:ge(),successful_breedings:ge(),picture_number:ge(),current_food_mix_id:Ie().nullable().optional(),food_shortage_streak:ge().optional(),created_at:Ie(),updated_at:Ie()});function Nc(i){return lf.parse(i)}const Lo={async getUserPigeons(i){const{data:n,error:s}=await le.from("pigeons").select("*").eq("owner_id",i).order("created_at",{ascending:!1});if(s)throw s;return n?rf(lf).parse(n):[]},async getPigeon(i){const{data:n,error:s}=await le.from("pigeons").select("*").eq("id",i).single();if(s)throw s;return n?Nc(n):null},async createPigeon(i){const{data:n,error:s}=await le.from("pigeons").insert([i]).select().single();if(s)throw s;return Nc(n)},async updatePigeon(i,n){const{data:s,error:o}=await le.from("pigeons").update(n).eq("id",i).select().single();if(o)throw o;return Nc(s)},async deletePigeon(i){const{error:n}=await le.from("pigeons").delete().eq("id",i);if(n)throw n},async updatePigeonAlias(i,n){const{data:s,error:o}=await le.from("pigeons").update({alias:n,updated_at:new Date().toISOString()}).eq("id",i).select().single();if(o)throw new Error(`Failed to update pigeon alias: ${o.message}`);return Nc(s)},async createStartingPigeons(i){console.log(" Creating starting pigeons for user:",i);const n=[];for(let c=0;c<3;c++){const d=this.generateRandomPigeon(i,"male",1,0,0);n.push(d)}for(let c=0;c<2;c++){const d=this.generateRandomPigeon(i,"female",1,0,0);n.push(d)}const{data:s,error:o}=await le.from("pigeons").insert(n).select();if(o)throw console.error(" Error creating starting pigeons:",o),o;return s?(console.log(` Successfully created ${s.length} starting pigeons`),rf(lf).parse(s)):[]},generateRandomPigeon(i,n,s,o,c=0){const d=n==="male",g=d?__[Math.floor(Math.random()*__.length)]:v_[Math.floor(Math.random()*v_.length)],v=y_[Math.floor(Math.random()*y_.length)],y=`${g} ${v}`,x=()=>Math.round((Math.random()*60+40)*100)/100,w=D=>Math.min(100,Math.round((D+Math.random()*10)*100)/100),j={speed:x(),endurance:x(),sky_iq:x(),aerodynamics:x(),vision:x(),wing_power:x(),flapacity:x(),vanity:x(),strength:x(),aggression:x(),landing:x(),loyalty:x(),health:x(),happiness:x(),fertility:x(),disease_resistance:x()},k={peak_speed:w(j.speed),peak_endurance:w(j.endurance),peak_sky_iq:w(j.sky_iq),peak_aerodynamics:w(j.aerodynamics),peak_vision:w(j.vision),peak_wing_power:w(j.wing_power),peak_flapacity:w(j.flapacity),peak_vanity:w(j.vanity),peak_strength:w(j.strength),peak_aggression:w(j.aggression),peak_landing:w(j.landing),peak_loyalty:w(j.loyalty),peak_health:w(j.health),peak_happiness:w(j.happiness),peak_fertility:w(j.fertility),peak_disease_resistance:w(j.disease_resistance)},A={eggs:x(),offspring:x(),breeding_quality:x(),adaptability:x(),recovery_rate:x(),laser_focus:x(),morale:x(),food:x()},M={peak_eggs:w(A.eggs),peak_offspring:w(A.offspring),peak_breeding_quality:w(A.breeding_quality),peak_adaptability:w(A.adaptability),peak_recovery_rate:w(A.recovery_rate),peak_laser_focus:w(A.laser_focus),peak_morale:w(A.morale),peak_food:w(A.food)},z=d?Math.floor(Math.random()*50)+1:Math.floor(Math.random()*50)+51;return{owner_id:i,name:y,gender:n,age_years:s,age_months:o,age_days:c,status:"active",...j,...k,...A,...M,races_won:0,races_lost:0,total_races:0,best_time:null,total_distance:0,offspring_produced:0,successful_breedings:0,picture_number:z}}},uT=Xa({id:Ie(),email:Ie(),username:Ie(),player_type:Jl(["human","ai"]),balance:ge(),total_pigeons:ge(),pigeon_cap:ge(),level:ge(),experience:ge(),created_at:Ie(),updated_at:Ie()});function cT(i){return uT.parse(i)}const Hi={async signUp(i,n,s){const{data:o,error:c}=await le.auth.signUp({email:i,password:n,options:{data:{username:s}}});if(c)throw c;return o.user&&await this.createUserProfile(o.user.id,i,s),o},async signIn(i,n){const{data:s,error:o}=await le.auth.signInWithPassword({email:i,password:n});if(o)throw o;return s},async signOut(){const{error:i}=await le.auth.signOut();if(i)throw i},async getCurrentUser(){const{data:{user:i},error:n}=await le.auth.getUser();if(n)throw n;return i},async createUserProfile(i,n,s){console.log(" Creating user profile for:",s,"with ID:",i);const{error:o}=await le.from("users").insert([{id:i,email:n,username:s,player_type:"human",balance:1e3,total_pigeons:0,pigeon_cap:50,level:1,experience:0}]);if(o)throw console.error(" Error creating user profile:",o),o;console.log(" User profile created successfully");try{console.log(" Starting pigeon creation process...");const c=await Lo.createStartingPigeons(i),{error:d}=await le.from("users").update({total_pigeons:c.length}).eq("id",i);d?console.error(" Error updating user pigeon count:",d):console.log(` Updated user pigeon count to ${c.length}`),console.log(` Successfully created ${c.length} starting pigeons for user ${s}`)}catch(c){console.error(" Error creating starting pigeons:",c)}},async getUserProfile(i){const{data:n,error:s}=await le.from("users").select("*").eq("id",i).single();if(s)throw s;return n?cT(n):null}},ty=N.createContext(void 0),dT=({children:i})=>{const[n,s]=N.useState(null),[o,c]=N.useState(null),[d,g]=N.useState(!0),v=Uo();N.useEffect(()=>{(async()=>{try{const z=await Hi.getCurrentUser();if(z&&"email"in z&&"created_at"in z?s(z):s(null),z)try{console.log("Getting initial user profile for:",z.id);const D=await Hi.getUserProfile(z.id);console.log("Initial user profile:",D),c(D)}catch(D){console.error("Error getting initial user profile:",D);try{console.log("Creating initial user profile manually..."),await Hi.createUserProfile(z.id,"email"in z&&typeof z.email=="string"?z.email:"","User");const I=await Hi.getUserProfile(z.id);c(I)}catch(I){console.error("Error creating initial user profile:",I)}}}catch(z){console.error("Error getting initial session:",z)}finally{console.log("Setting loading to false in getInitialSession"),g(!1)}})();const{data:{subscription:M}}=le.auth.onAuthStateChange(async(z,D)=>{if(D?.user&&"email"in D.user&&"created_at"in D.user?s(D.user):s(null),D?.user)try{console.log("Getting user profile for:",D.user.id);const I=await Hi.getUserProfile(D.user.id);console.log("User profile:",I),c(I)}catch(I){console.error("Error getting user profile:",I);try{console.log("Creating user profile manually..."),await Hi.createUserProfile(D.user.id,"email"in D.user&&typeof D.user.email=="string"?D.user.email:"","User");const H=await Hi.getUserProfile(D.user.id);c(H)}catch(H){console.error("Error creating user profile:",H)}}else c(null);console.log("Setting loading to false in auth state change"),g(!1)});return()=>M.unsubscribe()},[]);const k={user:n,gameUser:o,loading:d,signUp:async(A,M,z)=>{g(!0);try{await Hi.signUp(A,M,z)}finally{g(!1)}},signIn:async(A,M)=>{console.log("SignIn called - setting loading to true"),g(!0);try{await Hi.signIn(A,M),console.log("SignIn completed successfully"),v("/")}catch(z){console.error("Sign in error:",z),g(!1)}},signOut:async()=>{g(!0);try{await Hi.signOut(),s(null),c(null)}finally{g(!1)}},refreshUser:async()=>{if(n)try{const A=await Hi.getUserProfile(n.id);c(A)}catch(A){console.error("Error refreshing user:",A)}}};return console.log("AuthContext state:",{user:!!n,gameUser:!!o,loading:d}),h.jsx(ty.Provider,{value:k,children:i})};function Kn(){const i=N.useContext(ty);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,o)=>o?o.toUpperCase():s.toLowerCase()),Z_=i=>{const n=fT(i);return n.charAt(0).toUpperCase()+n.slice(1)},ny=(...i)=>i.filter((n,s,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===s).join(" ").trim(),mT=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=N.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:g,...v},y)=>N.createElement("svg",{ref:y,...gT,width:n,height:n,stroke:i,strokeWidth:o?Number(s)*24/Number(n):s,className:ny("lucide",c),...!d&&!mT(v)&&{"aria-hidden":"true"},...v},[...g.map(([x,w])=>N.createElement(x,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(i,n)=>{const s=N.forwardRef(({className:o,...c},d)=>N.createElement(pT,{ref:d,iconNode:n,className:ny(`lucide-${hT(Z_(i))}`,`lucide-${i}`,o),...c}));return s.displayName=Z_(i),s};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vT=et("activity",_T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],iy=et("award",yT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zc=et("calendar",xT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qc=et("clock",bT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ST=et("database",wT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TT=et("dollar-sign",jT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],NT=et("eye-off",ET);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ay=et("eye",kT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],CT=et("funnel",AT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],OT=et("grid-3x3",MT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Vi=et("heart",LT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],RT=et("house",zT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],DT=et("list",PT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],UT=et("lock",BT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$T=et("log-out",ZT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qT=et("mail",HT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],GT=et("palette",IT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],YT=et("pause",FT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],$_=et("play",VT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XT=et("save",KT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QT=et("search",WT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eE=et("settings",JT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sy=et("shield",tE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ry=et("shopping-cart",nE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],aE=et("square-pen",iE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],rE=et("target",sE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],oy=et("trash-2",oE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uE=et("trending-up",lE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rc=et("triangle-alert",cE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],uf=et("trophy",dE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ly=et("user",hE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ro=et("users",fE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],uy=et("wrench",mE);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cy=et("x",gE),pE=()=>{const{signIn:i,signUp:n}=Kn(),[s,o]=N.useState(!1),[c,d]=N.useState(""),[g,v]=N.useState(""),[y,x]=N.useState(""),[w,j]=N.useState(!1),[k,A]=N.useState(!1),[M,z]=N.useState("");function D(H){return typeof H=="object"&&H!==null&&"message"in H&&typeof H.message=="string"}const I=async H=>{H.preventDefault(),A(!0),z("");try{s?await n(c,g,y):await i(c,g)}catch(B){D(B)?z(B.message):z("An error occurred")}finally{A(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{children:[h.jsx("div",{className:"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-100",children:h.jsx("span",{className:"text-2xl",children:""})}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:s?"Create your account":"Sign in to your account"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:s?"Join Pigeon Prestige and start your racing career!":"Welcome back to Pigeon Prestige"})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[M&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md text-sm",children:M}),h.jsxs("div",{className:"space-y-4",children:[s&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ly,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"username",name:"username",type:"text",required:s,value:y,onChange:H=>x(H.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter your username"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(qT,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:H=>d(H.target.value),className:"appearance-none block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter your email"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),h.jsxs("div",{className:"mt-1 relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(UT,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{id:"password",name:"password",type:w?"text":"password",autoComplete:s?"new-password":"current-password",required:!0,value:g,onChange:H=>v(H.target.value),className:"appearance-none block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Enter your password"}),h.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>j(!w),children:w?h.jsx(NT,{className:"h-5 w-5 text-gray-400"}):h.jsx(ay,{className:"h-5 w-5 text-gray-400"})})]})]})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:k,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:k?h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s?"Create Account":"Sign In"})}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>{o(!s),z("")},className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:s?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})},zf={async createHomeBase(i){const{error:n}=await le.from("home_bases").insert([i]);if(n)throw new Error(n.message)},async getHomeBaseByUserId(i){const{data:n,error:s}=await le.from("home_bases").select("*").eq("user_id",i).single();if(s&&s.code!=="PGRST116")throw new Error(s.message);return n},async getAllHomeBases(){const{data:i,error:n}=await le.from("home_bases").select("*");if(n)throw new Error(n.message);return i}};function dy(i,n){const s=N.useRef(n);N.useEffect(function(){n!==s.current&&i.attributionControl!=null&&(s.current!=null&&i.attributionControl.removeAttribution(s.current),n!=null&&i.attributionControl.addAttribution(n)),s.current=n},[i,n])}const _E=1;function vE(i){return Object.freeze({__version:_E,map:i})}function yE(i,n){return Object.freeze({...i,...n})}const Rf=N.createContext(null);function hy(){const i=N.use(Rf);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function xE(i){function n(s,o){const{instance:c,context:d}=i(s).current;N.useImperativeHandle(o,()=>c);const{children:g}=s;return g==null?null:yt.createElement(Rf,{value:d},g)}return N.forwardRef(n)}function bE(i){function n(s,o){const[c,d]=N.useState(!1),{instance:g}=i(s,d).current;N.useImperativeHandle(o,()=>g),N.useEffect(function(){c&&g.update()},[g,c,s.children]);const v=g._contentNode;return v?hb.createPortal(s.children,v):null}return N.forwardRef(n)}function wE(i){function n(s,o){const{instance:c}=i(s).current;return N.useImperativeHandle(o,()=>c),null}return N.forwardRef(n)}function fy(i,n){const s=N.useRef(void 0);N.useEffect(function(){return n!=null&&i.instance.on(n),s.current=n,function(){s.current!=null&&i.instance.off(s.current),s.current=null}},[i,n])}function Pf(i,n){const s=i.pane??n.pane;return s?{...i,pane:s}:i}function SE(i,n){return function(o,c){const d=hy(),g=i(Pf(o,d),d);return dy(d.map,o.attribution),fy(g.current,o.eventHandlers),n(g.current,d,o,c),g}}var Il={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var jE=Il.exports,H_;function TE(){return H_||(H_=1,function(i,n){(function(s,o){o(n)})(jE,function(s){var o="1.9.4";function c(a){var l,f,_,b;for(f=1,_=arguments.length;f<_;f++){b=arguments[f];for(l in b)a[l]=b[l]}return a}var d=Object.create||function(){function a(){}return function(l){return a.prototype=l,new a}}();function g(a,l){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var _=f.call(arguments,2);return function(){return a.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var v=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function x(a,l,f){var _,b,T,R;return R=function(){_=!1,b&&(T.apply(f,b),b=!1)},T=function(){_?b=arguments:(a.apply(f,arguments),setTimeout(R,l),_=!0)},T}function w(a,l,f){var _=l[1],b=l[0],T=_-b;return a===_&&f?a:((a-b)%T+T)%T+b}function j(){return!1}function k(a,l){if(l===!1)return a;var f=Math.pow(10,l===void 0?6:l);return Math.round(a*f)/f}function A(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function M(a){return A(a).split(/\s+/)}function z(a,l){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?d(a.options):{});for(var f in l)a.options[f]=l[f];return a.options}function D(a,l,f){var _=[];for(var b in a)_.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function H(a,l){return a.replace(I,function(f,_){var b=l[_];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(l)),b})}var B=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function J(a,l){for(var f=0;f<a.length;f++)if(a[f]===l)return f;return-1}var K="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var xe=0;function Re(a){var l=+new Date,f=Math.max(0,16-(l-xe));return xe=l+f,window.setTimeout(a,f)}var be=window.requestAnimationFrame||oe("RequestAnimationFrame")||Re,fe=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Ee(a,l,f){if(f&&be===Re)a.call(l);else return be.call(window,g(a,l))}function Ae(a){a&&fe.call(window,a)}var zt={__proto__:null,extend:c,create:d,bind:g,get lastId(){return v},stamp:y,throttle:x,wrapNum:w,falseFn:j,formatNum:k,trim:A,splitWords:M,setOptions:z,getParamString:D,template:H,isArray:B,indexOf:J,emptyImageUrl:K,requestFn:be,cancelFn:fe,requestAnimFrame:Ee,cancelAnimFrame:Ae};function rt(){}rt.extend=function(a){var l=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=d(f);_.constructor=l,l.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return a.statics&&c(l,a.statics),a.includes&&(pe(a.includes),c.apply(null,[_].concat(a.includes))),c(_,a),delete _.statics,delete _.includes,_.options&&(_.options=f.options?d(f.options):{},c(_.options,a.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,R=_._initHooks.length;T<R;T++)_._initHooks[T].call(this)}},l},rt.include=function(a){var l=this.prototype.options;return c(this.prototype,a),a.options&&(this.prototype.options=l,this.mergeOptions(a.options)),this},rt.mergeOptions=function(a){return c(this.prototype.options,a),this},rt.addInitHook=function(a){var l=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function pe(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=B(a)?a:[a];for(var l=0;l<a.length;l++)a[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(a,l,f){if(typeof a=="object")for(var _ in a)this._on(_,a[_],l);else{a=M(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],l,f)}return this},off:function(a,l,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var _ in a)this._off(_,a[_],l);else{a=M(a);for(var b=arguments.length===1,T=0,R=a.length;T<R;T++)b?this._off(a[T]):this._off(a[T],l,f)}return this},_on:function(a,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(a,l,f)===!1){f===this&&(f=void 0);var b={fn:l,ctx:f};_&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,l,f){var _,b,T;if(this._events&&(_=this._events[a],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,T=_.length;b<T;b++)_[b].fn=j;delete this._events[a];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var R=this._listens(a,l,f);if(R!==!1){var q=_[R];this._firingCount&&(q.fn=j,this._events[a]=_=_.slice()),_.splice(R,1)}}},fire:function(a,l,f){if(!this.listens(a,f))return this;var _=c({},l,{type:a,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var T=0,R=b.length;T<R;T++){var q=b[T],W=q.fn;q.once&&this.off(a,W,q.ctx),W.call(q.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(a,l,f,_){typeof a!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(_=!!l,b=void 0,f=void 0);var T=this._events&&this._events[a];if(T&&T.length&&this._listens(a,b,f)!==!1)return!0;if(_){for(var R in this._eventParents)if(this._eventParents[R].listens(a,l,f,_))return!0}return!1},_listens:function(a,l,f){if(!this._events)return!1;var _=this._events[a]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var b=0,T=_.length;b<T;b++)if(_[b].fn===l&&_[b].ctx===f)return b;return!1},once:function(a,l,f){if(typeof a=="object")for(var _ in a)this._on(_,a[_],l,!0);else{a=M(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],l,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var l in this._eventParents)this._eventParents[l].fire(a.type,c({layer:a.target,propagatedFrom:a.target},a),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var ue=rt.extend(Y);function re(a,l,f){this.x=f?Math.round(a):a,this.y=f?Math.round(l):l}var Le=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(a){return this.clone()._add(O(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(O(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new re(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new re(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(a){a=O(a);var l=a.x-this.x,f=a.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(a){return a=O(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=O(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+k(this.x)+", "+k(this.y)+")"}};function O(a,l,f){return a instanceof re?a:B(a)?new re(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new re(a.x,a.y):new re(a,l,f)}function Q(a,l){if(a)for(var f=l?[a,l]:a,_=0,b=f.length;_<b;_++)this.extend(f[_])}Q.prototype={extend:function(a){var l,f;if(!a)return this;if(a instanceof re||typeof a[0]=="number"||"x"in a)l=f=O(a);else if(a=ce(a),l=a.min,f=a.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var l,f;return typeof a[0]=="number"||a instanceof re?a=O(a):a=ce(a),a instanceof Q?(l=a.min,f=a.max):l=f=a,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=ce(a);var l=this.min,f=this.max,_=a.min,b=a.max,T=b.x>=l.x&&_.x<=f.x,R=b.y>=l.y&&_.y<=f.y;return T&&R},overlaps:function(a){a=ce(a);var l=this.min,f=this.max,_=a.min,b=a.max,T=b.x>l.x&&_.x<f.x,R=b.y>l.y&&_.y<f.y;return T&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*a,b=Math.abs(l.y-f.y)*a;return ce(O(l.x-_,l.y-b),O(f.x+_,f.y+b))},equals:function(a){return a?(a=ce(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function ce(a,l){return!a||a instanceof Q?a:new Q(a,l)}function de(a,l){if(a)for(var f=l?[a,l]:a,_=0,b=f.length;_<b;_++)this.extend(f[_])}de.prototype={extend:function(a){var l=this._southWest,f=this._northEast,_,b;if(a instanceof he)_=a,b=a;else if(a instanceof de){if(_=a._southWest,b=a._northEast,!_||!b)return this}else return a?this.extend(me(a)||_e(a)):this;return!l&&!f?(this._southWest=new he(_.lat,_.lng),this._northEast=new he(b.lat,b.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(a){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*a,b=Math.abs(l.lng-f.lng)*a;return new de(new he(l.lat-_,l.lng-b),new he(f.lat+_,f.lng+b))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof he||"lat"in a?a=me(a):a=_e(a);var l=this._southWest,f=this._northEast,_,b;return a instanceof de?(_=a.getSouthWest(),b=a.getNorthEast()):_=b=a,_.lat>=l.lat&&b.lat<=f.lat&&_.lng>=l.lng&&b.lng<=f.lng},intersects:function(a){a=_e(a);var l=this._southWest,f=this._northEast,_=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>=l.lat&&_.lat<=f.lat,R=b.lng>=l.lng&&_.lng<=f.lng;return T&&R},overlaps:function(a){a=_e(a);var l=this._southWest,f=this._northEast,_=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>l.lat&&_.lat<f.lat,R=b.lng>l.lng&&_.lng<f.lng;return T&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,l){return a?(a=_e(a),this._southWest.equals(a.getSouthWest(),l)&&this._northEast.equals(a.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(a,l){return a instanceof de?a:new de(a,l)}function he(a,l,f){if(isNaN(a)||isNaN(l))throw new Error("Invalid LatLng object: ("+a+", "+l+")");this.lat=+a,this.lng=+l,f!==void 0&&(this.alt=+f)}he.prototype={equals:function(a,l){if(!a)return!1;a=me(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(l===void 0?1e-9:l)},toString:function(a){return"LatLng("+k(this.lat,a)+", "+k(this.lng,a)+")"},distanceTo:function(a){return Ze.distance(this,me(a))},wrap:function(){return Ze.wrapLatLng(this)},toBounds:function(a){var l=180*a/40075017,f=l/Math.cos(Math.PI/180*this.lat);return _e([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function me(a,l,f){return a instanceof he?a:B(a)&&typeof a[0]!="object"?a.length===3?new he(a[0],a[1],a[2]):a.length===2?new he(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new he(a.lat,"lng"in a?a.lng:a.lon,a.alt):l===void 0?null:new he(a,l,f)}var pt={latLngToPoint:function(a,l){var f=this.projection.project(a),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(a,l){var f=this.scale(l),_=this.transformation.untransform(a,f);return this.projection.unproject(_)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(a),_=this.transformation.transform(l.min,f),b=this.transformation.transform(l.max,f);return new Q(_,b)},infinite:!1,wrapLatLng:function(a){var l=this.wrapLng?w(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?w(a.lat,this.wrapLat,!0):a.lat,_=a.alt;return new he(f,l,_)},wrapLatLngBounds:function(a){var l=a.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,b=l.lng-f.lng;if(_===0&&b===0)return a;var T=a.getSouthWest(),R=a.getNorthEast(),q=new he(T.lat-_,T.lng-b),W=new he(R.lat-_,R.lng-b);return new de(q,W)}},Ze=c({},pt,{wrapLng:[-180,180],R:6371e3,distance:function(a,l){var f=Math.PI/180,_=a.lat*f,b=l.lat*f,T=Math.sin((l.lat-a.lat)*f/2),R=Math.sin((l.lng-a.lng)*f/2),q=T*T+Math.cos(_)*Math.cos(b)*R*R,W=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*W}}),Pn=6378137,Xi={R:Pn,MAX_LATITUDE:85.0511287798,project:function(a){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,a.lat),-f),b=Math.sin(_*l);return new re(this.R*a.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var l=180/Math.PI;return new he((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*l,a.x*l/this.R)},bounds:function(){var a=Pn*Math.PI;return new Q([-a,-a],[a,a])}()};function ji(a,l,f,_){if(B(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=l,this._c=f,this._d=_}ji.prototype={transform:function(a,l){return this._transform(a.clone(),l)},_transform:function(a,l){return l=l||1,a.x=l*(this._a*a.x+this._b),a.y=l*(this._c*a.y+this._d),a},untransform:function(a,l){return l=l||1,new re((a.x/l-this._b)/this._a,(a.y/l-this._d)/this._c)}};function Xn(a,l,f,_){return new ji(a,l,f,_)}var Wi=c({},Ze,{code:"EPSG:3857",projection:Xi,transformation:function(){var a=.5/(Math.PI*Xi.R);return Xn(a,.5,-a,.5)}()}),Wa=c({},Wi,{code:"EPSG:900913"});function Cr(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Mr(a,l){var f="",_,b,T,R,q,W;for(_=0,T=a.length;_<T;_++){for(q=a[_],b=0,R=q.length;b<R;b++)W=q[b],f+=(b?"L":"M")+W.x+" "+W.y;f+=l?je.svg?"z":"x":""}return f||"M0 0"}var _n=document.documentElement.style,Qa="ActiveXObject"in window,Or=Qa&&!document.addEventListener,Ys="msLaunchUri"in navigator&&!("documentMode"in document),Qi=ln("webkit"),Lr=ln("android"),Vs=ln("android 2")||ln("android 3"),Ho=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qo=Lr&&ln("Google")&&Ho<537&&!("AudioNode"in window),Ti=!!window.opera,Rt=!Ys&&ln("chrome"),jn=ln("gecko")&&!Qi&&!Ti&&!Qa,Vt=!Rt&&ln("safari"),Tn=ln("phantom"),Ks="OTransition"in _n,zr=navigator.platform.indexOf("Win")===0,xa=Qa&&"transition"in _n,Ei="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vs,En="MozPerspective"in _n,ba=!window.L_DISABLE_3D&&(xa||Ei||En)&&!Ks&&!Tn,Dn=typeof orientation<"u"||ln("mobile"),Io=Dn&&Qi,hi=Dn&&Ei,Ja=!window.PointerEvent&&window.MSPointerEvent,es=!!(window.PointerEvent||Ja),Ji="ontouchstart"in window||!!window.TouchEvent,Xs=!window.L_NO_TOUCH&&(Ji||es),ea=Dn&&Ti,ts=Dn&&jn,wa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sa=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",j,l),window.removeEventListener("testPassiveEventSupport",j,l)}catch{}return a}(),ta=function(){return!!document.createElement("canvas").getContext}(),Ws=!!(document.createElementNS&&Cr("svg").createSVGRect),fi=!!Ws&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Bt=!Ws&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var l=a.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Kt=navigator.platform.indexOf("Mac")===0,na=navigator.platform.indexOf("Linux")===0;function ln(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var je={ie:Qa,ielt9:Or,edge:Ys,webkit:Qi,android:Lr,android23:Vs,androidStock:qo,opera:Ti,chrome:Rt,gecko:jn,safari:Vt,phantom:Tn,opera12:Ks,win:zr,ie3d:xa,webkit3d:Ei,gecko3d:En,any3d:ba,mobile:Dn,mobileWebkit:Io,mobileWebkit3d:hi,msPointer:Ja,pointer:es,touch:Xs,touchNative:Ji,mobileOpera:ea,mobileGecko:ts,retina:wa,passiveEvents:Sa,canvas:ta,svg:Ws,vml:Bt,inlineSvg:fi,mac:Kt,linux:na},mi=je.msPointer?"MSPointerDown":"pointerdown",Qs=je.msPointer?"MSPointerMove":"pointermove",ia=je.msPointer?"MSPointerUp":"pointerup",ns=je.msPointer?"MSPointerCancel":"pointercancel",gi={touchstart:mi,touchmove:Qs,touchend:ia,touchcancel:ns},Ni={touchstart:Dr,touchmove:ja,touchend:ja,touchcancel:ja},At={},ki=!1;function Ct(a,l,f){return l==="touchstart"&&Go(),Ni[l]?(f=Ni[l].bind(this,f),a.addEventListener(gi[l],f,!1),f):(console.warn("wrong event specified:",l),j)}function Rr(a,l,f){if(!gi[l]){console.warn("wrong event specified:",l);return}a.removeEventListener(gi[l],f,!1)}function Pr(a){At[a.pointerId]=a}function Ai(a){At[a.pointerId]&&(At[a.pointerId]=a)}function un(a){delete At[a.pointerId]}function Go(){ki||(document.addEventListener(mi,Pr,!0),document.addEventListener(Qs,Ai,!0),document.addEventListener(ia,un,!0),document.addEventListener(ns,un,!0),ki=!0)}function ja(a,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in At)l.touches.push(At[f]);l.changedTouches=[l],a(l)}}function Dr(a,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&bt(l),ja(a,l)}function Fo(a){var l={},f,_;for(_ in a)f=a[_],l[_]=f&&f.bind?f.bind(a):f;return a=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var is=200;function Ci(a,l){a.addEventListener("dblclick",l);var f=0,_;function b(T){if(T.detail!==1){_=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var R=C(T);if(!(R.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!R.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var q=Date.now();q-f<=is?(_++,_===2&&l(Fo(T))):_=1,f=q}}}return a.addEventListener("click",b),{dblclick:l,simDblclick:b}}function Wn(a,l){a.removeEventListener("dblclick",l.dblclick),a.removeEventListener("click",l.simDblclick)}var Ta=Li(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cn=Li(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mi=cn==="webkitTransition"||cn==="OTransition"?cn+"End":"transitionend";function as(a){return typeof a=="string"?document.getElementById(a):a}function Oi(a,l){var f=a.style[l]||a.currentStyle&&a.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(a,null);f=_?_[l]:null}return f==="auto"?null:f}function Xe(a,l,f){var _=document.createElement(a);return _.className=l||"",f&&f.appendChild(_),_}function ot(a){var l=a.parentNode;l&&l.removeChild(a)}function It(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Bn(a){var l=a.parentNode;l&&l.lastChild!==a&&l.appendChild(a)}function aa(a){var l=a.parentNode;l&&l.firstChild!==a&&l.insertBefore(a,l.firstChild)}function Un(a,l){if(a.classList!==void 0)return a.classList.contains(l);var f=Gt(a);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Be(a,l){if(a.classList!==void 0)for(var f=M(l),_=0,b=f.length;_<b;_++)a.classList.add(f[_]);else if(!Un(a,l)){var T=Gt(a);Js(a,(T?T+" ":"")+l)}}function nt(a,l){a.classList!==void 0?a.classList.remove(l):Js(a,A((" "+Gt(a)+" ").replace(" "+l+" "," ")))}function Js(a,l){a.className.baseVal===void 0?a.className=l:a.className.baseVal=l}function Gt(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Xt(a,l){"opacity"in a.style?a.style.opacity=l:"filter"in a.style&&Br(a,l)}function Br(a,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):a.style.filter+=" progid:"+_+"(opacity="+l+")"}function Li(a){for(var l=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in l)return a[f];return!1}function vn(a,l,f){var _=l||new re(0,0);a.style[Ta]=(je.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function _t(a,l){a._leaflet_pos=l,je.any3d?vn(a,l):(a.style.left=l.x+"px",a.style.top=l.y+"px")}function Qn(a){return a._leaflet_pos||new re(0,0)}var dn,Zn,ss;if("onselectstart"in document)dn=function(){Me(window,"selectstart",bt)},Zn=function(){We(window,"selectstart",bt)};else{var sa=Li(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(sa){var a=document.documentElement.style;ss=a[sa],a[sa]="none"}},Zn=function(){sa&&(document.documentElement.style[sa]=ss,ss=void 0)}}function yn(){Me(window,"dragstart",bt)}function er(){We(window,"dragstart",bt)}var rs,ra;function Ea(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(oa(),rs=a,ra=a.style.outlineStyle,a.style.outlineStyle="none",Me(window,"keydown",oa))}function oa(){rs&&(rs.style.outlineStyle=ra,rs=void 0,ra=void 0,We(window,"keydown",oa))}function hn(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Jn(a){var l=a.getBoundingClientRect();return{x:l.width/a.offsetWidth||1,y:l.height/a.offsetHeight||1,boundingClientRect:l}}var Ur={__proto__:null,TRANSFORM:Ta,TRANSITION:cn,TRANSITION_END:Mi,get:as,getStyle:Oi,create:Xe,remove:ot,empty:It,toFront:Bn,toBack:aa,hasClass:Un,addClass:Be,removeClass:nt,setClass:Js,getClass:Gt,setOpacity:Xt,testProp:Li,setTransform:vn,setPosition:_t,getPosition:Qn,get disableTextSelection(){return dn},get enableTextSelection(){return Zn},disableImageDrag:yn,enableImageDrag:er,preventOutline:Ea,restoreOutline:oa,getSizedParentNode:hn,getScale:Jn};function Me(a,l,f,_){if(l&&typeof l=="object")for(var b in l)pi(a,b,l[b],f);else{l=M(l);for(var T=0,R=l.length;T<R;T++)pi(a,l[T],f,_)}return this}var Nn="_leaflet_events";function We(a,l,f,_){if(arguments.length===1)$n(a),delete a[Nn];else if(l&&typeof l=="object")for(var b in l)kn(a,b,l[b],f);else if(l=M(l),arguments.length===2)$n(a,function(q){return J(l,q)!==-1});else for(var T=0,R=l.length;T<R;T++)kn(a,l[T],f,_);return this}function $n(a,l){for(var f in a[Nn]){var _=f.split(/\d/)[0];(!l||l(_))&&kn(a,_,null,null,f)}}var la={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pi(a,l,f,_){var b=l+y(f)+(_?"_"+y(_):"");if(a[Nn]&&a[Nn][b])return this;var T=function(q){return f.call(_||a,q||window.event)},R=T;!je.touchNative&&je.pointer&&l.indexOf("touch")===0?T=Ct(a,l,T):je.touch&&l==="dblclick"?T=Ci(a,T):"addEventListener"in a?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?a.addEventListener(la[l]||l,T,je.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(q){q=q||window.event,Qe(a,q)&&R(q)},a.addEventListener(la[l],T,!1)):a.addEventListener(l,R,!1):a.attachEvent("on"+l,T),a[Nn]=a[Nn]||{},a[Nn][b]=T}function kn(a,l,f,_,b){b=b||l+y(f)+(_?"_"+y(_):"");var T=a[Nn]&&a[Nn][b];if(!T)return this;!je.touchNative&&je.pointer&&l.indexOf("touch")===0?Rr(a,l,T):je.touch&&l==="dblclick"?Wn(a,T):"removeEventListener"in a?a.removeEventListener(la[l]||l,T,!1):a.detachEvent("on"+l,T),a[Nn][b]=null}function fn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function zi(a){return pi(a,"wheel",fn),this}function ua(a){return Me(a,"mousedown touchstart dblclick contextmenu",fn),a._leaflet_disable_click=!0,this}function bt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Hn(a){return bt(a),fn(a),this}function C(a){if(a.composedPath)return a.composedPath();for(var l=[],f=a.target;f;)l.push(f),f=f.parentNode;return l}function Z(a,l){if(!l)return new re(a.clientX,a.clientY);var f=Jn(l),_=f.boundingClientRect;return new re((a.clientX-_.left)/f.x-l.clientLeft,(a.clientY-_.top)/f.y-l.clientTop)}var ne=je.linux&&je.chrome?window.devicePixelRatio:je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ve(a){return je.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ne:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Qe(a,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var Ue={__proto__:null,on:Me,off:We,stopPropagation:fn,disableScrollPropagation:zi,disableClickPropagation:ua,preventDefault:bt,stop:Hn,getPropagationPath:C,getMousePosition:Z,getWheelDelta:ve,isExternalTarget:Qe,addListener:Me,removeListener:We},it=ue.extend({run:function(a,l,f,_){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Qn(a),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ee(this._animate,this),this._step()},_step:function(a){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,l){var f=this._startPos.add(this._offset.multiplyBy(a));l&&f._round(),_t(this._el,f),this.fire("step")},_complete:function(){Ae(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Ne=ue.extend({options:{crs:Wi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,l){l=z(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=g(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(me(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cn&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Mi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),a=this._limitCenter(me(a),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,l,f.zoom):this._tryAnimatedPan(a,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(a,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,l){return this._loaded?this.setView(this.getCenter(),a,{zoom:l}):(this._zoom=a,this)},zoomIn:function(a,l){return a=a||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,l)},zoomOut:function(a,l){return a=a||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,l)},setZoomAround:function(a,l,f){var _=this.getZoomScale(l),b=this.getSize().divideBy(2),T=a instanceof re?a:this.latLngToContainerPoint(a),R=T.subtract(b).multiplyBy(1-1/_),q=this.containerPointToLatLng(b.add(R));return this.setView(q,l,{zoom:f})},_getBoundsCenterZoom:function(a,l){l=l||{},a=a.getBounds?a.getBounds():_e(a);var f=O(l.paddingTopLeft||l.padding||[0,0]),_=O(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(a,!1,f.add(_));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var T=_.subtract(f).divideBy(2),R=this.project(a.getSouthWest(),b),q=this.project(a.getNorthEast(),b),W=this.unproject(R.add(q).divideBy(2).add(T),b);return{center:W,zoom:b}},fitBounds:function(a,l){if(a=_e(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,l){return this.setView(a,this._zoom,{pan:l})},panBy:function(a,l){if(a=O(a).round(),l=l||{},!a.x&&!a.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new it,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Be(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,l,f){if(f=f||{},f.animate===!1||!je.any3d)return this.setView(a,l,f);this._stop();var _=this.project(this.getCenter()),b=this.project(a),T=this.getSize(),R=this._zoom;a=me(a),l=l===void 0?R:l;var q=Math.max(T.x,T.y),W=q*this.getZoomScale(R,l),se=b.distanceTo(_)||1,ye=1.42,we=ye*ye;function Te(wt){var yi=wt?-1:1,Bi=wt?W:q,ma=W*W-q*q+yi*we*we*se*se,Ui=2*Bi*we*se,hr=ma/Ui,Qr=Math.sqrt(hr*hr+1)-hr,fr=Qr<1e-9?-18:Math.log(Qr);return fr}function De(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function ht(wt){return(Math.exp(wt)+Math.exp(-wt))/2}function Et(wt){return De(wt)/ht(wt)}var tn=Te(0);function qn(wt){return q*(ht(tn)/ht(tn+ye*wt))}function bu(wt){return q*(ht(tn)*Et(tn+ye*wt)-De(tn))/we}function wu(wt){return 1-Math.pow(1-wt,1.5)}var dr=Date.now(),ys=(Te(1)-tn)/ye,Su=f.duration?1e3*f.duration:1e3*ys*.8;function xs(){var wt=(Date.now()-dr)/Su,yi=wu(wt)*ys;wt<=1?(this._flyToFrame=Ee(xs,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(bu(yi)/se)),R),this.getScaleZoom(q/qn(yi),R),{flyTo:!0})):this._move(a,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),xs.call(this),this},flyToBounds:function(a,l){var f=this._getBoundsCenterZoom(a,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(a){return a=_e(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var l=this.options.minZoom;return this.options.minZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var l=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,_e(a));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(a,l){l=l||{};var f=O(l.paddingTopLeft||l.padding||[0,0]),_=O(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),T=this.project(a),R=this.getPixelBounds(),q=ce([R.min.add(f),R.max.subtract(_)]),W=q.getSize();if(!q.contains(T)){this._enforcingBounds=!0;var se=T.subtract(q.getCenter()),ye=q.extend(T).getSize().subtract(W);b.x+=se.x<0?-ye.x:ye.x,b.y+=se.y<0?-ye.y:ye.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=c({animate:!1,pan:!0},a===!0?{animate:!0}:a);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),b=f.divideBy(2).round(),T=_.subtract(b);return!T.x&&!T.y?this:(a.animate&&a.pan?this.panBy(T):(a.pan&&this._rawPanBy(T),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(g(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=c({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=g(this._handleGeolocationResponse,this),f=g(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,a):navigator.geolocation.getCurrentPosition(l,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var l=a.code,f=a.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var l=a.coords.latitude,f=a.coords.longitude,_=new he(l,f),b=_.toBounds(a.coords.accuracy*2),T=this._locateOptions;if(T.setView){var R=this.getBoundsZoom(b);this.setView(_,T.maxZoom?Math.min(R,T.maxZoom):R)}var q={latlng:_,bounds:b,timestamp:a.timestamp};for(var W in a.coords)typeof a.coords[W]=="number"&&(q[W]=a.coords[W]);this.fire("locationfound",q)}},addHandler:function(a,l){if(!l)return this;var f=this[a]=new l(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ae(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ot(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,l){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),_=Xe("div",f,l||this._mapPane);return a&&(this._panes[a]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),l=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new de(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,l,f){a=_e(a),f=O(f||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),T=this.getMaxZoom(),R=a.getNorthWest(),q=a.getSouthEast(),W=this.getSize().subtract(f),se=ce(this.project(q,_),this.project(R,_)).getSize(),ye=je.any3d?this.options.zoomSnap:1,we=W.x/se.x,Te=W.y/se.y,De=l?Math.max(we,Te):Math.min(we,Te);return _=this.getScaleZoom(De,_),ye&&(_=Math.round(_/(ye/100))*(ye/100),_=l?Math.ceil(_/ye)*ye:Math.floor(_/ye)*ye),Math.max(b,Math.min(T,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,l){var f=this._getTopLeftPoint(a,l);return new Q(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(a)/f.scale(l)},getScaleZoom:function(a,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(a*f.scale(l));return isNaN(_)?1/0:_},project:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(me(a),l)},unproject:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(O(a),l)},layerPointToLatLng:function(a){var l=O(a).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(a){var l=this.project(me(a))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(me(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(_e(a))},distance:function(a,l){return this.options.crs.distance(me(a),me(l))},containerPointToLayerPoint:function(a){return O(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return O(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var l=this.containerPointToLayerPoint(O(a));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(a)))},mouseEventToContainerPoint:function(a){return Z(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var l=this._container=as(a);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(l,"scroll",this._onScroll,this),this._containerId=y(l)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,Be(a,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Oi(a,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_t(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Be(a.markerPane,"leaflet-zoom-hide"),Be(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,l,f){_t(this._mapPane,new re(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,f)._move(a,l)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(a,l){return a&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(a,l,f,_){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),_?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ae(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){_t(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var l=a?We:Me;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ae(this._resizeRequest),this._resizeRequest=Ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,l){for(var f=[],_,b=l==="mouseout"||l==="mouseover",T=a.target||a.srcElement,R=!1;T;){if(_=this._targets[y(T)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){R=!0;break}if(_&&_.listens(l,!0)&&(b&&!Qe(T,a)||(f.push(_),b))||T===this._container)break;T=T.parentNode}return!f.length&&!R&&!b&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var l=a.target||a.srcElement;if(!(!this._loaded||l._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(l))){var f=a.type;f==="mousedown"&&Ea(l),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,l,f){if(a.type==="click"){var _=c({},a);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var b=this._findEventTargets(a,l);if(f){for(var T=[],R=0;R<f.length;R++)f[R].listens(l,!0)&&T.push(f[R]);b=T.concat(b)}if(b.length){l==="contextmenu"&&bt(a);var q=b[0],W={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var se=q.getLatLng&&(!q._radius||q._radius<=10);W.containerPoint=se?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(a),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=se?q.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(l,W,!0),W.originalEvent._stopped||b[R].options.bubblingMouseEvents===!1&&J(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,l=this._handlers.length;a<l;a++)this._handlers[a].disable()},whenReady:function(a,l){return this._loaded?a.call(l||this,{target:this}):this.on("load",a,l),this},_getMapPanePos:function(){return Qn(this._mapPane)||new re(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,l){var f=a&&l!==void 0?this._getNewPixelOrigin(a,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,l){var f=this.getSize()._divideBy(2);return this.project(a,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(a,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(a,l,f){var _=this._getNewPixelOrigin(f,l);return ce([this.project(a.getSouthWest(),l)._subtract(_),this.project(a.getNorthWest(),l)._subtract(_),this.project(a.getSouthEast(),l)._subtract(_),this.project(a.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,l,f){if(!f)return a;var _=this.project(a,l),b=this.getSize().divideBy(2),T=new Q(_.subtract(b),_.add(b)),R=this._getBoundsOffset(T,f,l);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?a:this.unproject(_.add(R),l)},_limitOffset:function(a,l){if(!l)return a;var f=this.getPixelBounds(),_=new Q(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(a,l,f){var _=ce(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),b=_.min.subtract(a.min),T=_.max.subtract(a.max),R=this._rebound(b.x,-T.x),q=this._rebound(b.y,-T.y);return new re(R,q)},_rebound:function(a,l){return a+l>0?Math.round(a-l)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(l))},_limitZoom:function(a){var l=this.getMinZoom(),f=this.getMaxZoom(),_=je.any3d?this.options.zoomSnap:1;return _&&(a=Math.round(a/_)*_),Math.max(l,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,l){var f=this._getCenterOffset(a)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var a=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(l){var f=Ta,_=this._proxy.style[f];vn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),l=this.getZoom();vn(this._proxy,this.project(a,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),b=this._getCenterOffset(a)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(b)?!1:(Ee(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,l,!0)},this),!0)},_animateZoom:function(a,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=l,Be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(g(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vt(a,l){return new Ne(a,l)}var qe=rt.extend({options:{position:"topright"},initialize:function(a){z(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var l=this._map;return l&&l.removeControl(this),this.options.position=a,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var l=this._container=this.onAdd(a),f=this.getPosition(),_=a._controlCorners[f];return Be(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Mt=function(a){return new qe(a)};Ne.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},l="leaflet-",f=this._controlContainer=Xe("div",l+"control-container",this._container);function _(b,T){var R=l+b+" "+l+T;a[b+T]=Xe("div",R,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ot(this._controlCorners[a]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xn=qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(a,l,f){z(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in a)this._addLayer(a[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return qe.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,l){return this._addLayer(a,l),this._map?this._update():this},addOverlay:function(a,l){return this._addLayer(a,l,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var l=this._getLayer(y(a));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",l=this._container=Xe("div",a),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ua(l),zi(l);var _=this._section=Xe("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Me(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Xe("a",a+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),Me(b,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){bt(T),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Xe("div",a+"-base",_),this._separator=Xe("div",a+"-separator",_),this._overlaysList=Xe("div",a+"-overlays",_),l.appendChild(_)},_getLayer:function(a){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&y(this._layers[l].layer)===a)return this._layers[l]},_addLayer:function(a,l,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(g(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;It(this._baseLayersList),It(this._overlaysList),this._layerControlInputs=[];var a,l,f,_,b=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,a=a||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=l&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var l=this._getLayer(y(a.target)),f=l.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(a,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(a){var l=document.createElement("label"),f=this._map.hasLayer(a.layer),_;a.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+y(this),f),this._layerControlInputs.push(_),_.layerId=y(a.layer),Me(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(_),T.appendChild(b);var R=a.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,l,f,_=[],b=[];this._handlingClick=!0;for(var T=a.length-1;T>=0;T--)l=a[T],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||b.push(f);for(T=0;T<b.length;T++)this._map.hasLayer(b[T])&&this._map.removeLayer(b[T]);for(T=0;T<_.length;T++)this._map.hasLayer(_[T])||this._map.addLayer(_[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,l,f,_=this._map.getZoom(),b=a.length-1;b>=0;b--)l=a[b],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Me(a,"click",bt),this.expand();var l=this;setTimeout(function(){We(a,"click",bt),l._preventClick=!1})}}),Ut=function(a,l,f){return new xn(a,l,f)},Wt=qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var l="leaflet-control-zoom",f=Xe("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,l,f,_,b){var T=Xe("a",f,_);return T.innerHTML=a,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ua(T),Me(T,"click",Hn),Me(T,"click",b,this),Me(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var a=this._map,l="leaflet-disabled";nt(this._zoomInButton,l),nt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Be(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Be(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ne.mergeOptions({zoomControl:!0}),Ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wt,this.addControl(this.zoomControl))});var Qt=function(a){return new Wt(a)},ei=qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var l="leaflet-control-scale",f=Xe("div",l),_=this.options;return this._addScales(_,l+"-line",f),a.on(_.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,l,f){a.metric&&(this._mScale=Xe("div",l,f)),a.imperial&&(this._iScale=Xe("div",l,f))},_update:function(){var a=this._map,l=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,l]),a.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var l=this._getRoundNum(a),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/a)},_updateImperial:function(a){var l=a*3.2808399,f,_,b;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(a,l,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=l},_getRoundNum:function(a){var l=Math.pow(10,(Math.floor(a)+"").length-1),f=a/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),ti=function(a){return new ei(a)},Ri='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',os=qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?Ri+" ":"")+"Leaflet</a>"},initialize:function(a){z(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),ua(this._container);for(var l in a._layers)a._layers[l].getAttribution&&this.addAttribution(a._layers[l].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var l in this._attributions)this._attributions[l]&&a.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ne.mergeOptions({attributionControl:!0}),Ne.addInitHook(function(){this.options.attributionControl&&new os().addTo(this)});var ls=function(a){return new os(a)};qe.Layers=xn,qe.Zoom=Wt,qe.Scale=ei,qe.Attribution=os,Mt.layers=Ut,Mt.zoom=Qt,Mt.scale=ti,Mt.attribution=ls;var Jt=rt.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(a,l){return a.addHandler(l,this),this};var Ic={Events:Y},su=je.touch?"touchstart mousedown":"mousedown",ca=ue.extend({options:{clickTolerance:3},initialize:function(a,l,f,_){z(this,_),this._element=a,this._dragStartTarget=l||a,this._preventOutline=f},enable:function(){this._enabled||(Me(this._dragStartTarget,su,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ca._dragging===this&&this.finishDrag(!0),We(this._dragStartTarget,su,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Un(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ca._dragging===this&&this.finishDrag();return}if(!(ca._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ca._dragging=this,this._preventOutline&&Ea(this._element),yn(),dn(),!this._moving)){this.fire("down");var l=a.touches?a.touches[0]:a,f=hn(this._element);this._startPoint=new re(l.clientX,l.clientY),this._startPos=Qn(this._element),this._parentScale=Jn(f);var _=a.type==="mousedown";Me(document,_?"mousemove":"touchmove",this._onMove,this),Me(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var l=a.touches&&a.touches.length===1?a.touches[0]:a,f=new re(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,bt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Be(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),_t(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),We(document,"mousemove touchmove",this._onMove,this),We(document,"mouseup touchend touchcancel",this._onUp,this),er(),Zn();var l=this._moved&&this._moving;this._moving=!1,ca._dragging=!1,l&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function ru(a,l,f){var _,b=[1,4,2,8],T,R,q,W,se,ye,we,Te;for(T=0,ye=a.length;T<ye;T++)a[T]._code=Na(a[T],l);for(q=0;q<4;q++){for(we=b[q],_=[],T=0,ye=a.length,R=ye-1;T<ye;R=T++)W=a[T],se=a[R],W._code&we?se._code&we||(Te=$r(se,W,we,l,f),Te._code=Na(Te,l),_.push(Te)):(se._code&we&&(Te=$r(se,W,we,l,f),Te._code=Na(Te,l),_.push(Te)),_.push(W));a=_}return a}function Zr(a,l){var f,_,b,T,R,q,W,se,ye;if(!a||a.length===0)throw new Error("latlngs not passed");en(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var we=me([0,0]),Te=_e(a),De=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());De<1700&&(we=Yo(a));var ht=a.length,Et=[];for(f=0;f<ht;f++){var tn=me(a[f]);Et.push(l.project(me([tn.lat-we.lat,tn.lng-we.lng])))}for(q=W=se=0,f=0,_=ht-1;f<ht;_=f++)b=Et[f],T=Et[_],R=b.y*T.x-T.y*b.x,W+=(b.x+T.x)*R,se+=(b.y+T.y)*R,q+=R*3;q===0?ye=Et[0]:ye=[W/q,se/q];var qn=l.unproject(O(ye));return me([qn.lat+we.lat,qn.lng+we.lng])}function Yo(a){for(var l=0,f=0,_=0,b=0;b<a.length;b++){var T=me(a[b]);l+=T.lat,f+=T.lng,_++}return me([l/_,f/_])}var Gc={__proto__:null,clipPolygon:ru,polygonCenter:Zr,centroid:Yo};function ou(a,l){if(!l||!a.length)return a.slice();var f=l*l;return a=Vc(a,f),a=Yc(a,f),a}function Vo(a,l,f){return Math.sqrt(ka(a,l,f,!0))}function Fc(a,l,f){return ka(a,l,f)}function Yc(a,l){var f=a.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(f);b[0]=b[f-1]=1,Ko(a,b,l,0,f-1);var T,R=[];for(T=0;T<f;T++)b[T]&&R.push(a[T]);return R}function Ko(a,l,f,_,b){var T=0,R,q,W;for(q=_+1;q<=b-1;q++)W=ka(a[q],a[_],a[b],!0),W>T&&(R=q,T=W);T>f&&(l[R]=1,Ko(a,l,f,_,R),Ko(a,l,f,R,b))}function Vc(a,l){for(var f=[a[0]],_=1,b=0,T=a.length;_<T;_++)Kc(a[_],a[b])>l&&(f.push(a[_]),b=_);return b<T-1&&f.push(a[T-1]),f}var lu;function uu(a,l,f,_,b){var T=_?lu:Na(a,f),R=Na(l,f),q,W,se;for(lu=R;;){if(!(T|R))return[a,l];if(T&R)return!1;q=T||R,W=$r(a,l,q,f,b),se=Na(W,f),q===T?(a=W,T=se):(l=W,R=se)}}function $r(a,l,f,_,b){var T=l.x-a.x,R=l.y-a.y,q=_.min,W=_.max,se,ye;return f&8?(se=a.x+T*(W.y-a.y)/R,ye=W.y):f&4?(se=a.x+T*(q.y-a.y)/R,ye=q.y):f&2?(se=W.x,ye=a.y+R*(W.x-a.x)/T):f&1&&(se=q.x,ye=a.y+R*(q.x-a.x)/T),new re(se,ye,b)}function Na(a,l){var f=0;return a.x<l.min.x?f|=1:a.x>l.max.x&&(f|=2),a.y<l.min.y?f|=4:a.y>l.max.y&&(f|=8),f}function Kc(a,l){var f=l.x-a.x,_=l.y-a.y;return f*f+_*_}function ka(a,l,f,_){var b=l.x,T=l.y,R=f.x-b,q=f.y-T,W=R*R+q*q,se;return W>0&&(se=((a.x-b)*R+(a.y-T)*q)/W,se>1?(b=f.x,T=f.y):se>0&&(b+=R*se,T+=q*se)),R=a.x-b,q=a.y-T,_?R*R+q*q:new re(b,T)}function en(a){return!B(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function cu(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(a)}function Xo(a,l){var f,_,b,T,R,q,W,se;if(!a||a.length===0)throw new Error("latlngs not passed");en(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ye=me([0,0]),we=_e(a),Te=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());Te<1700&&(ye=Yo(a));var De=a.length,ht=[];for(f=0;f<De;f++){var Et=me(a[f]);ht.push(l.project(me([Et.lat-ye.lat,Et.lng-ye.lng])))}for(f=0,_=0;f<De-1;f++)_+=ht[f].distanceTo(ht[f+1])/2;if(_===0)se=ht[0];else for(f=0,T=0;f<De-1;f++)if(R=ht[f],q=ht[f+1],b=R.distanceTo(q),T+=b,T>_){W=(T-_)/b,se=[q.x-W*(q.x-R.x),q.y-W*(q.y-R.y)];break}var tn=l.unproject(O(se));return me([tn.lat+ye.lat,tn.lng+ye.lng])}var du={__proto__:null,simplify:ou,pointToSegmentDistance:Vo,closestPointOnSegment:Fc,clipSegment:uu,_getEdgeIntersection:$r,_getBitCode:Na,_sqClosestPointOnSegment:ka,isFlat:en,_flat:cu,polylineCenter:Xo},Hr={project:function(a){return new re(a.lng,a.lat)},unproject:function(a){return new he(a.y,a.x)},bounds:new Q([-180,-90],[180,90])},qr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var l=Math.PI/180,f=this.R,_=a.lat*l,b=this.R_MINOR/f,T=Math.sqrt(1-b*b),R=T*Math.sin(_),q=Math.tan(Math.PI/4-_/2)/Math.pow((1-R)/(1+R),T/2);return _=-f*Math.log(Math.max(q,1e-10)),new re(a.lng*l*f,_)},unproject:function(a){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,b=Math.sqrt(1-_*_),T=Math.exp(-a.y/f),R=Math.PI/2-2*Math.atan(T),q=0,W=.1,se;q<15&&Math.abs(W)>1e-7;q++)se=b*Math.sin(R),se=Math.pow((1-se)/(1+se),b/2),W=Math.PI/2-2*Math.atan(T*se)-R,R+=W;return new he(R*l,a.x*l/f)}},hu={__proto__:null,LonLat:Hr,Mercator:qr,SphericalMercator:Xi},us=c({},Ze,{code:"EPSG:3395",projection:qr,transformation:function(){var a=.5/(Math.PI*qr.R);return Xn(a,.5,-a,.5)}()}),fu=c({},Ze,{code:"EPSG:4326",projection:Hr,transformation:Xn(1/180,1,-1/180,.5)}),Xc=c({},pt,{projection:Hr,transformation:Xn(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,l){var f=l.lng-a.lng,_=l.lat-a.lat;return Math.sqrt(f*f+_*_)},infinite:!0});pt.Earth=Ze,pt.EPSG3395=us,pt.EPSG3857=Wi,pt.EPSG900913=Wa,pt.EPSG4326=fu,pt.Simple=Xc;var ni=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var l=a.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ne.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var l=y(a);return this._layers[l]?this:(this._layers[l]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var l=y(a);return this._layers[l]?(this._loaded&&a.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,l){for(var f in this._layers)a.call(l,this._layers[f]);return this},_addLayers:function(a){a=a?B(a)?a:[a]:[];for(var l=0,f=a.length;l<f;l++)this.addLayer(a[l])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var l=y(a);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Aa=ni.extend({initialize:function(a,l){z(this,l),this._layers={};var f,_;if(a)for(f=0,_=a.length;f<_;f++)this.addLayer(a[f])},addLayer:function(a){var l=this.getLayerId(a);return this._layers[l]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var l=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(a){var l=typeof a=="number"?a:this.getLayerId(a);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[a]&&_[a].apply(_,l);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,l){for(var f in this._layers)a.call(l,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),mu=function(a,l){return new Aa(a,l)},An=Aa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Aa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Aa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new de;for(var l in this._layers){var f=this._layers[l];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),tr=function(a,l){return new An(a,l)},cs=rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){z(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,l){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(a,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var b=O(_),T=O(l==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+l+" "+(f.className||""),T&&(a.style.marginLeft=-T.x+"px",a.style.marginTop=-T.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,l){return l=l||document.createElement("img"),l.src=a,l},_getIconUrl:function(a){return je.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Ir(a){return new cs(a)}var ds=cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ds.imagePath!="string"&&(ds.imagePath=this._detectIconPath()),(this.options.imagePath||ds.imagePath)+cs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var l=function(f,_,b){var T=_.exec(f);return T&&T[b]};return a=l(a,/^url\((['"])?(.+)\1\)$/,2),a&&l(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Xe("div","leaflet-default-icon-path",document.body),l=Oi(a,"background-image")||Oi(a,"backgroundImage");if(document.body.removeChild(a),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Wo=Jt.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ca(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Be(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,T=Qn(l._icon),R=f.getPixelBounds(),q=f.getPixelOrigin(),W=ce(R.min._subtract(q).add(b),R.max._subtract(q).subtract(b));if(!W.contains(T)){var se=O((Math.max(W.max.x,T.x)-W.max.x)/(R.max.x-W.max.x)-(Math.min(W.min.x,T.x)-W.min.x)/(R.min.x-W.min.x),(Math.max(W.max.y,T.y)-W.max.y)/(R.max.y-W.max.y)-(Math.min(W.min.y,T.y)-W.min.y)/(R.min.y-W.min.y)).multiplyBy(_);f.panBy(se,{animate:!1}),this._draggable._newPos._add(se),this._draggable._startPos._add(se),_t(l._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Ee(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Ae(this._panRequest),this._panRequest=Ee(this._adjustPan.bind(this,a)))},_onDrag:function(a){var l=this._marker,f=l._shadow,_=Qn(l._icon),b=l._map.layerPointToLatLng(_);f&&_t(f,_),l._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,l.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Ae(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),hs=ni.extend({options:{icon:new ds,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,l){z(this,l),this._latlng=me(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var l=this._latlng;return this._latlng=me(a),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),Be(f,l),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(f,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),T=!1;b!==this._shadow&&(this._removeShadow(),T=!0),b&&(Be(b,l),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&T&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&We(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&_t(this._icon,a),this._shadow&&_t(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wo)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wo(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Xt(this._icon,a),this._shadow&&Xt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var l=this.options.icon.options,f=l.iconSize?O(l.iconSize):O(0,0),_=l.iconAnchor?O(l.iconAnchor):O(0,0);a.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qo(a,l){return new hs(a,l)}var Pi=ni.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return z(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),nr=Pi.extend({options:{fill:!0,radius:10},initialize:function(a,l){z(this,l),this._latlng=me(a),this._radius=this.options.radius},setLatLng:function(a){var l=this._latlng;return this._latlng=me(a),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var l=a&&a.radius||this._radius;return Pi.prototype.setStyle.call(this,a),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,l=this._radiusY||a,f=this._clickTolerance(),_=[a+f,l+f];this._pxBounds=new Q(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gu(a,l){return new nr(a,l)}var Jo=nr.extend({initialize:function(a,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),z(this,l),this._latlng=me(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Pi.prototype.setStyle,_project:function(){var a=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===Ze.distance){var b=Math.PI/180,T=this._mRadius/Ze.R/b,R=f.project([l+T,a]),q=f.project([l-T,a]),W=R.add(q).divideBy(2),se=f.unproject(W).lat,ye=Math.acos((Math.cos(T*b)-Math.sin(l*b)*Math.sin(se*b))/(Math.cos(l*b)*Math.cos(se*b)))/b;(isNaN(ye)||ye===0)&&(ye=T/Math.cos(Math.PI/180*l)),this._point=W.subtract(f.getPixelOrigin()),this._radius=isNaN(ye)?0:W.x-f.project([se,a-ye]).x,this._radiusY=W.y-R.y}else{var we=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(we).x}this._updateBounds()}});function Wc(a,l,f){return new Jo(a,l,f)}var Di=Pi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,l){z(this,l),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var l=1/0,f=null,_=ka,b,T,R=0,q=this._parts.length;R<q;R++)for(var W=this._parts[R],se=1,ye=W.length;se<ye;se++){b=W[se-1],T=W[se];var we=_(a,b,T,!0);we<l&&(l=we,f=_(a,b,T))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,l){return l=l||this._defaultShape(),a=me(a),l.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new de,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var l=[],f=en(a),_=0,b=a.length;_<b;_++)f?(l[_]=me(a[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(a[_]);return l},_project:function(){var a=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),l=new re(a,a);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(a,l,f){var _=a[0]instanceof he,b=a.length,T,R;if(_){for(R=[],T=0;T<b;T++)R[T]=this._map.latLngToLayerPoint(a[T]),f.extend(R[T]);l.push(R)}else for(T=0;T<b;T++)this._projectLatlngs(a[T],l,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,b,T,R,q,W;for(f=0,b=0,T=this._rings.length;f<T;f++)for(W=this._rings[f],_=0,R=W.length;_<R-1;_++)q=uu(W[_],W[_+1],a,_,!0),q&&(l[b]=l[b]||[],l[b].push(q[0]),(q[1]!==W[_+1]||_===R-2)&&(l[b].push(q[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,l=this.options.smoothFactor,f=0,_=a.length;f<_;f++)a[f]=ou(a[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,l){var f,_,b,T,R,q,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,T=this._parts.length;f<T;f++)for(q=this._parts[f],_=0,R=q.length,b=R-1;_<R;b=_++)if(!(!l&&_===0)&&Vo(a,q[b],q[_])<=W)return!0;return!1}});function Qc(a,l){return new Di(a,l)}Di._flat=cu;var fs=Di.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var l=Di.prototype._convertLatLngs.call(this,a),f=l.length;return f>=2&&l[0]instanceof he&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(a){Di.prototype._setLatLngs.call(this,a),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,l=this.options.weight,f=new re(l,l);if(a=new Q(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,T;_<b;_++)T=ru(this._rings[_],a,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var l=!1,f,_,b,T,R,q,W,se;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(T=0,W=this._parts.length;T<W;T++)for(f=this._parts[T],R=0,se=f.length,q=se-1;R<se;q=R++)_=f[R],b=f[q],_.y>a.y!=b.y>a.y&&a.x<(b.x-_.x)*(a.y-_.y)/(b.y-_.y)+_.x&&(l=!l);return l||Di.prototype._containsPoint.call(this,a,!0)}});function Cn(a,l){return new fs(a,l)}var Mn=An.extend({initialize:function(a,l){z(this,l),this._layers={},a&&this.addData(a)},addData:function(a){var l=B(a)?a:a.features,f,_,b;if(l){for(f=0,_=l.length;f<_;f++)b=l[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var T=this.options;if(T.filter&&!T.filter(a))return this;var R=ir(a,T);return R?(R.feature=ms(a),R.defaultOptions=R.options,this.resetStyle(R),T.onEachFeature&&T.onEachFeature(a,R),this.addLayer(R)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=c({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(l){this._setLayerStyle(l,a)},this)},_setLayerStyle:function(a,l){a.setStyle&&(typeof l=="function"&&(l=l(a.feature)),a.setStyle(l))}});function ir(a,l){var f=a.type==="Feature"?a.geometry:a,_=f?f.coordinates:null,b=[],T=l&&l.pointToLayer,R=l&&l.coordsToLatLng||Gr,q,W,se,ye;if(!_&&!f)return null;switch(f.type){case"Point":return q=R(_),el(T,a,q,l);case"MultiPoint":for(se=0,ye=_.length;se<ye;se++)q=R(_[se]),b.push(el(T,a,q,l));return new An(b);case"LineString":case"MultiLineString":return W=ar(_,f.type==="LineString"?0:1,R),new Di(W,l);case"Polygon":case"MultiPolygon":return W=ar(_,f.type==="Polygon"?1:2,R),new fs(W,l);case"GeometryCollection":for(se=0,ye=f.geometries.length;se<ye;se++){var we=ir({geometry:f.geometries[se],type:"Feature",properties:a.properties},l);we&&b.push(we)}return new An(b);case"FeatureCollection":for(se=0,ye=f.features.length;se<ye;se++){var Te=ir(f.features[se],l);Te&&b.push(Te)}return new An(b);default:throw new Error("Invalid GeoJSON object.")}}function el(a,l,f,_){return a?a(l,f):new hs(f,_&&_.markersInheritOptions&&_)}function Gr(a){return new he(a[1],a[0],a[2])}function ar(a,l,f){for(var _=[],b=0,T=a.length,R;b<T;b++)R=l?ar(a[b],l-1,f):(f||Gr)(a[b]),_.push(R);return _}function sr(a,l){return a=me(a),a.alt!==void 0?[k(a.lng,l),k(a.lat,l),k(a.alt,l)]:[k(a.lng,l),k(a.lat,l)]}function Fr(a,l,f,_){for(var b=[],T=0,R=a.length;T<R;T++)b.push(l?Fr(a[T],en(a[T])?0:l-1,f,_):sr(a[T],_));return!l&&f&&b.length>0&&b.push(b[0].slice()),b}function ii(a,l){return a.feature?c({},a.feature,{geometry:l}):ms(l)}function ms(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ca={toGeoJSON:function(a){return ii(this,{type:"Point",coordinates:sr(this.getLatLng(),a)})}};hs.include(Ca),Jo.include(Ca),nr.include(Ca),Di.include({toGeoJSON:function(a){var l=!en(this._latlngs),f=Fr(this._latlngs,l?1:0,!1,a);return ii(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),fs.include({toGeoJSON:function(a){var l=!en(this._latlngs),f=l&&!en(this._latlngs[0]),_=Fr(this._latlngs,f?2:l?1:0,!0,a);return l||(_=[_]),ii(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Aa.include({toMultiPoint:function(a){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(a).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(a){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(a);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var T=b.toGeoJSON(a);if(f)_.push(T.geometry);else{var R=ms(T);R.type==="FeatureCollection"?_.push.apply(_,R.features):_.push(R)}}}),f?ii(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Yr(a,l){return new Mn(a,l)}var pu=Yr,_i=ni.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,l,f){this._url=a,this._bounds=_e(l),z(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&aa(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=_e(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",l=this._image=a?this._url:Xe("img");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=j,l.onmousemove=j,l.onload=g(this.fire,this,"load"),l.onerror=g(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(a){var l=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;vn(this._image,f,l)},_reset:function(){var a=this._image,l=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();_t(a,l.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),gs=function(a,l,f){return new _i(a,l,f)},Vr=_i.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",l=this._image=a?this._url:Xe("video");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=j,l.onmousemove=j,l.onloadeddata=g(this.fire,this,"load"),a){for(var f=l.getElementsByTagName("source"),_=[],b=0;b<f.length;b++)_.push(f[b].src);this._url=f.length>0?_:[l.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var R=Xe("source");R.src=this._url[T],l.appendChild(R)}}});function _u(a,l,f){return new Vr(a,l,f)}var da=_i.extend({_initImage:function(){var a=this._image=this._url;Be(a,"leaflet-image-layer"),this._zoomAnimated&&Be(a,"leaflet-zoom-animated"),this.options.className&&Be(a,this.options.className),a.onselectstart=j,a.onmousemove=j}});function vu(a,l,f){return new da(a,l,f)}var ai=ni.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,l){a&&(a instanceof he||B(a))?(this._latlng=me(a),z(this,l)):(z(this,a),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(g(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=me(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&aa(this._container),this},_prepareOpen:function(a){var l=this._source;if(!l._map)return!1;if(l instanceof An){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!a)if(l.getCenter)a=l.getCenter();else if(l.getLatLng)a=l.getLatLng();else if(l.getBounds)a=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")a.innerHTML=l;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),l=O(this.options.offset),f=this._getAnchor();this._zoomAnimated?_t(this._container,a.add(f)):l=l.add(a).add(f);var _=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ne.include({_initOverlay:function(a,l,f,_){var b=l;return b instanceof a||(b=new a(_).setContent(l)),f&&b.setLatLng(f),b}}),ni.include({_initOverlay:function(a,l,f,_){var b=f;return b instanceof a?(z(b,_),b._source=this):(b=l&&!_?l:new a(_,this),b.setContent(f)),b}});var rr=ai.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ai.prototype.openOn.call(this,a)},onAdd:function(a){ai.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pi||this._source.on("preclick",fn))},onRemove:function(a){ai.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pi||this._source.off("preclick",fn))},getEvents:function(){var a=ai.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",l=this._container=Xe("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Xe("div",a+"-content-wrapper",l);if(this._contentNode=Xe("div",a+"-content",f),ua(l),zi(this._contentNode),Me(l,"contextmenu",fn),this._tipContainer=Xe("div",a+"-tip-container",l),this._tip=Xe("div",a+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Xe("a",a+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Me(_,"click",function(b){bt(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,l=a.style;l.width="",l.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=a.offsetHeight,b=this.options.maxHeight,T="leaflet-popup-scrolled";b&&_>b?(l.height=b+"px",Be(a,T)):nt(a,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();_t(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,l=parseInt(Oi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,b=new re(this._containerLeft,-f-this._containerBottom);b._add(Qn(this._container));var T=a.layerPointToContainerPoint(b),R=O(this.options.autoPanPadding),q=O(this.options.autoPanPaddingTopLeft||R),W=O(this.options.autoPanPaddingBottomRight||R),se=a.getSize(),ye=0,we=0;T.x+_+W.x>se.x&&(ye=T.x+_-se.x+W.x),T.x-ye-q.x<0&&(ye=T.x-q.x),T.y+f+W.y>se.y&&(we=T.y+f-se.y+W.y),T.y-we-q.y<0&&(we=T.y-q.y),(ye||we)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ye,we]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jc=function(a,l){return new rr(a,l)};Ne.mergeOptions({closePopupOnClick:!0}),Ne.include({openPopup:function(a,l,f){return this._initOverlay(rr,a,l,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ni.include({bindPopup:function(a,l){return this._popup=this._initOverlay(rr,this._popup,a,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Hn(a);var l=a.layer||a.target;if(this._popup._source===l&&!(l instanceof Pi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=l,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Kr=ai.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ai.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ai.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ai.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",l=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var l,f,_=this._map,b=this._container,T=_.latLngToContainerPoint(_.getCenter()),R=_.layerPointToContainerPoint(a),q=this.options.direction,W=b.offsetWidth,se=b.offsetHeight,ye=O(this.options.offset),we=this._getAnchor();q==="top"?(l=W/2,f=se):q==="bottom"?(l=W/2,f=0):q==="center"?(l=W/2,f=se/2):q==="right"?(l=0,f=se/2):q==="left"?(l=W,f=se/2):R.x<T.x?(q="right",l=0,f=se/2):(q="left",l=W+(ye.x+we.x)*2,f=se/2),a=a.subtract(O(l,f,!0)).add(ye).add(we),nt(b,"leaflet-tooltip-right"),nt(b,"leaflet-tooltip-left"),nt(b,"leaflet-tooltip-top"),nt(b,"leaflet-tooltip-bottom"),Be(b,"leaflet-tooltip-"+q),_t(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Xt(this._container,a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(l)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ed=function(a,l){return new Kr(a,l)};Ne.include({openTooltip:function(a,l,f){return this._initOverlay(Kr,a,l,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ni.include({bindTooltip:function(a,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Kr,this._tooltip,a,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var l=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&(Me(l,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Me(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var l=a.latlng,f,_;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var tl=cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var l=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(It(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=O(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function yu(a){return new tl(a)}cs.Default=ds;var Ma=ni.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){z(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ot(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(aa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof re?a:new re(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var l=this.getPane().children,f=-a(-1/0,1/0),_=0,b=l.length,T;_<b;_++)T=l[_].style.zIndex,l[_]!==this._container&&T&&(f=a(f,+T));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){Xt(this._container,this.options.opacity);var a=+new Date,l=!1,f=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var T=Math.min(1,(a-b.loaded)/200);Xt(b.el,T),T<1?l=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(Ae(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this))}},_onOpaqueTile:j,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,l=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=l-Math.abs(a-f),this._onUpdateLevel(f)):(ot(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[a],b=this._map;return _||(_=this._levels[a]={},_.el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),_.zoom=a,this._setZoomTransform(_,b.getCenter(),b.getZoom()),j(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:j,_onRemoveLevel:j,_onCreateLevel:j,_pruneTiles:function(){if(this._map){var a,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)l=this._tiles[a],l.retain=l.current;for(a in this._tiles)if(l=this._tiles[a],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var l in this._tiles)this._tiles[l].coords.z===a&&this._removeTile(l)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ot(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,l,f,_){var b=Math.floor(a/2),T=Math.floor(l/2),R=f-1,q=new re(+b,+T);q.z=+R;var W=this._tileCoordsToKey(q),se=this._tiles[W];return se&&se.active?(se.retain=!0,!0):(se&&se.loaded&&(se.retain=!0),R>_?this._retainParent(b,T,R,_):!1)},_retainChildren:function(a,l,f,_){for(var b=2*a;b<2*a+2;b++)for(var T=2*l;T<2*l+2;T++){var R=new re(b,T);R.z=f+1;var q=this._tileCoordsToKey(R),W=this._tiles[q];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);f+1<_&&this._retainChildren(b,T,f+1,_)}},_resetView:function(a){var l=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var l=this.options;return l.minNativeZoom!==void 0&&a<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<a?l.maxNativeZoom:a},_setView:function(a,l,f,_){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var T=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||T)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,l)},_setZoomTransforms:function(a,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,l)},_setZoomTransform:function(a,l,f){var _=this._map.getZoomScale(f,a.zoom),b=a.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();je.any3d?vn(a.el,b,_):_t(a.el,b)},_resetGrid:function(){var a=this._map,l=a.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(a.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(a.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),b=l.project(a,this._tileZoom).floor(),T=l.getSize().divideBy(_*2);return new Q(b.subtract(T),b.add(T))},_update:function(a){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(a===void 0&&(a=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(_),T=b.getCenter(),R=[],q=this.options.keepBuffer,W=new Q(b.getBottomLeft().subtract([q,-q]),b.getTopRight().add([q,-q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var se in this._tiles){var ye=this._tiles[se].coords;(ye.z!==this._tileZoom||!W.contains(new re(ye.x,ye.y)))&&(this._tiles[se].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var we=b.min.y;we<=b.max.y;we++)for(var Te=b.min.x;Te<=b.max.x;Te++){var De=new re(Te,we);if(De.z=this._tileZoom,!!this._isValidTile(De)){var ht=this._tiles[this._tileCoordsToKey(De)];ht?ht.current=!0:R.push(De)}}if(R.sort(function(tn,qn){return tn.distanceTo(T)-qn.distanceTo(T)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Et=document.createDocumentFragment();for(Te=0;Te<R.length;Te++)this._addTile(R[Te],Et);this._level.el.appendChild(Et)}}}},_isValidTile:function(a){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!l.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(a);return _e(this.options.bounds).overlaps(_)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var l=this._map,f=this.getTileSize(),_=a.scaleBy(f),b=_.add(f),T=l.unproject(_,a.z),R=l.unproject(b,a.z);return[T,R]},_tileCoordsToBounds:function(a){var l=this._tileCoordsToNwSe(a),f=new de(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var l=a.split(":"),f=new re(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(a){var l=this._tiles[a];l&&(ot(l.el),delete this._tiles[a],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Be(a,"leaflet-tile");var l=this.getTileSize();a.style.width=l.x+"px",a.style.height=l.y+"px",a.onselectstart=j,a.onmousemove=j,je.ielt9&&this.options.opacity<1&&Xt(a,this.options.opacity)},_addTile:function(a,l){var f=this._getTilePos(a),_=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),g(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&Ee(g(this._tileReady,this,a,null,b)),_t(b,f),this._tiles[_]={el:b,coords:a,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:a});var _=this._tileCoordsToKey(a);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Xt(f.el,0),Ae(this._fadeFrame),this._fadeFrame=Ee(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Be(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?Ee(this._pruneTiles,this):setTimeout(g(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var l=new re(this._wrapX?w(a.x,this._wrapX):a.x,this._wrapY?w(a.y,this._wrapY):a.y);return l.z=a.z,l},_pxBoundsToTileRange:function(a){var l=this.getTileSize();return new Q(a.min.unscaleBy(l).floor(),a.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function si(a){return new Ma(a)}var Oa=Ma.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,l){this._url=a,l=z(this,l),l.detectRetina&&je.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,l){return this._url===a&&l===void 0&&(l=!0),this._url=a,l||this.redraw(),this},createTile:function(a,l){var f=document.createElement("img");return Me(f,"load",g(this._tileOnLoad,this,l,f)),Me(f,"error",g(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var l={r:je.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(l.y=f),l["-y"]=f}return H(this._url,c(l,this.options))},_tileOnLoad:function(a,l){je.ielt9?setTimeout(g(a,this,null,l),0):a(null,l)},_tileOnError:function(a,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),a(f,l)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(a=l-a),a+_},_getSubdomain:function(a){var l=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var a,l;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(l=this._tiles[a].el,l.onload=j,l.onerror=j,!l.complete)){l.src=K;var f=this._tiles[a].coords;ot(l),delete this._tiles[a],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(a){var l=this._tiles[a];if(l)return l.el.setAttribute("src",K),Ma.prototype._removeTile.call(this,a)},_tileReady:function(a,l,f){if(!(!this._map||f&&f.getAttribute("src")===K))return Ma.prototype._tileReady.call(this,a,l,f)}});function On(a,l){return new Oa(a,l)}var Ln=Oa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,l){this._url=a;var f=c({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=z(this,l);var b=l.detectRetina&&je.retina?2:1,T=this.getTileSize();f.width=T.x*b,f.height=T.y*b,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Oa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var l=this._tileCoordsToNwSe(a),f=this._crs,_=ce(f.project(l[0]),f.project(l[1])),b=_.min,T=_.max,R=(this._wmsVersion>=1.3&&this._crs===fu?[b.y,b.x,T.y,T.x]:[b.x,b.y,T.x,T.y]).join(","),q=Oa.prototype.getTileUrl.call(this,a);return q+D(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(a,l){return c(this.wmsParams,a),l||this.redraw(),this}});function ps(a,l){return new Ln(a,l)}Oa.WMS=Ln,On.wms=ps;var ri=ni.extend({options:{padding:.1},initialize:function(a){z(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),T=_.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(a,l));je.any3d?vn(this._container,T,f):_t(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-a)).round();this._bounds=new Q(f,f.add(l.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),or=ri.extend({options:{tolerance:0},getEvents:function(){var a=ri.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Me(a,"mousemove",this._onMouseMove,this),Me(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Ae(this._redrawRequest),delete this._ctx,ot(this._container),We(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var l in this._layers)a=this._layers[l],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var a=this._bounds,l=this._container,f=a.getSize(),_=je.retina?2:1;_t(l,a.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var l=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var l=a._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var l=a.options.dashArray.split(/[, ]+/),f=[],_,b;for(b=0;b<l.length;b++){if(_=Number(l[b]),isNaN(_))return;f.push(_)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Ee(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var l=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(a._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(a._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var l=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)a=_.layer,(!l||a._pxBounds&&a._pxBounds.intersects(l))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,l){if(this._drawing){var f,_,b,T,R=a._parts,q=R.length,W=this._ctx;if(q){for(W.beginPath(),f=0;f<q;f++){for(_=0,b=R[f].length;_<b;_++)T=R[f][_],W[_?"lineTo":"moveTo"](T.x,T.y);l&&W.closePath()}this._fillStroke(W,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var l=a._point,f=this._ctx,_=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||_)/_;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(l.x,l.y/b,_,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,l){var f=l.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(l.options&&l.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var l=this._map.mouseEventToLayerPoint(a),f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,l)}},_handleMouseOut:function(a){var l=this._hoveredLayer;l&&(nt(this._container,"leaflet-interactive"),this._fireEvent([l],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,l){if(!this._mouseHoverThrottled){for(var f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(a),_&&(Be(this._container,"leaflet-interactive"),this._fireEvent([_],a,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(g(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,l,f){this._map._fireDOMEvent(l,f||l.type,a)},_bringToFront:function(a){var l=a._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(a)}},_bringToBack:function(a){var l=a._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(a)}}});function lr(a){return je.canvas?new or(a):null}var La=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_s={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var l=a._container=La("shape");Be(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",a._path=La("path"),l.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var l=a._container;this._container.appendChild(l),a.options.interactive&&a.addInteractiveTarget(l)},_removePath:function(a){var l=a._container;ot(l),a.removeInteractiveTarget(l),delete this._layers[y(a)]},_updateStyle:function(a){var l=a._stroke,f=a._fill,_=a.options,b=a._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(l||(l=a._stroke=La("stroke")),b.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=B(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(b.removeChild(l),a._stroke=null),_.fill?(f||(f=a._fill=La("fill")),b.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(b.removeChild(f),a._fill=null)},_updateCircle:function(a){var l=a._point.round(),f=Math.round(a._radius),_=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(a,l){a._path.v=l},_bringToFront:function(a){Bn(a._container)},_bringToBack:function(a){aa(a._container)}},ur=je.vml?La:Cr,ha=ri.extend({_initContainer:function(){this._container=ur("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ur("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),We(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var a=this._bounds,l=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),_t(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(a){var l=a._path=ur("path");a.options.className&&Be(l,a.options.className),a.options.interactive&&Be(l,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ot(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var l=a._path,f=a.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(a,l){this._setPath(a,Mr(a._parts,l))},_updateCircle:function(a){var l=a._point,f=Math.max(Math.round(a._radius),1),_=Math.max(Math.round(a._radiusY),1)||f,b="a"+f+","+_+" 0 1,0 ",T=a._empty()?"M0 0":"M"+(l.x-f)+","+l.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(a,T)},_setPath:function(a,l){a._path.setAttribute("d",l)},_bringToFront:function(a){Bn(a._path)},_bringToBack:function(a){aa(a._path)}});je.vml&&ha.include(_s);function za(a){return je.svg||je.vml?new ha(a):null}Ne.include({getRenderer:function(a){var l=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var l=this._paneRenderers[a];return l===void 0&&(l=this._createRenderer({pane:a}),this._paneRenderers[a]=l),l},_createRenderer:function(a){return this.options.preferCanvas&&lr(a)||za(a)}});var xu=fs.extend({initialize:function(a,l){fs.prototype.initialize.call(this,this._boundsToLatLngs(a),l)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=_e(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function zn(a,l){return new xu(a,l)}ha.create=ur,ha.pointsToPath=Mr,Mn.geometryToLayer=ir,Mn.coordsToLatLng=Gr,Mn.coordsToLatLngs=ar,Mn.latLngToCoords=sr,Mn.latLngsToCoords=Fr,Mn.getFeature=ii,Mn.asFeature=ms,Ne.mergeOptions({boxZoom:!0});var Xr=Jt.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){We(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),yn(),this._startPoint=this._map.mouseEventToContainerPoint(a),Me(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),Be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var l=new Q(this._point,this._startPoint),f=l.getSize();_t(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ot(this._box),nt(this._container,"leaflet-crosshair")),Zn(),er(),We(document,{contextmenu:Hn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(g(this._resetState,this),0);var l=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ne.addInitHook("addHandler","boxZoom",Xr),Ne.mergeOptions({doubleClickZoom:!0});var vi=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,b=a.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(a.containerPoint,b)}});Ne.addInitHook("addHandler","doubleClickZoom",vi),Ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nl=Jt.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ca(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=_e(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,l){return a-(a-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;a.x<l.min.x&&(a.x=this._viscousLimit(a.x,l.min.x)),a.y<l.min.y&&(a.y=this._viscousLimit(a.y,l.min.y)),a.x>l.max.x&&(a.x=this._viscousLimit(a.x,l.max.x)),a.y>l.max.y&&(a.y=this._viscousLimit(a.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,l=Math.round(a/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-l+f)%a+l-f,T=(_+l+f)%a-l-f,R=Math.abs(b+f)<Math.abs(T+f)?b:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(a){var l=this._map,f=l.options,_=!f.inertia||a.noInertia||this._times.length<2;if(l.fire("dragend",a),_)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,R=f.easeLinearity,q=b.multiplyBy(R/T),W=q.distanceTo([0,0]),se=Math.min(f.inertiaMaxSpeed,W),ye=q.multiplyBy(se/W),we=se/(f.inertiaDeceleration*R),Te=ye.multiplyBy(-we/2).round();!Te.x&&!Te.y?l.fire("moveend"):(Te=l._limitOffset(Te,l.options.maxBounds),Ee(function(){l.panBy(Te,{duration:we,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Ne.addInitHook("addHandler","dragging",nl),Ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cr=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Me(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),We(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,l=document.documentElement,f=a.scrollTop||l.scrollTop,_=a.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var l=this._panKeys={},f=this.keyCodes,_,b;for(_=0,b=f.left.length;_<b;_++)l[f.left[_]]=[-1*a,0];for(_=0,b=f.right.length;_<b;_++)l[f.right[_]]=[a,0];for(_=0,b=f.down.length;_<b;_++)l[f.down[_]]=[0,a];for(_=0,b=f.up.length;_<b;_++)l[f.up[_]]=[0,-1*a]},_setZoomDelta:function(a){var l=this._zoomKeys={},f=this.keyCodes,_,b;for(_=0,b=f.zoomIn.length;_<b;_++)l[f.zoomIn[_]]=a;for(_=0,b=f.zoomOut.length;_<b;_++)l[f.zoomOut[_]]=-a},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){We(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var l=a.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],a.shiftKey&&(_=O(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(O(_),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(b)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Hn(a)}}});Ne.addInitHook("addHandler","keyboard",cr),Ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fa=Jt.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){We(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var l=ve(a),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(g(this._performZoom,this),_),Hn(a)},_performZoom:function(){var a=this._map,l=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,T=f?Math.ceil(b/f)*f:b,R=a._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,R&&(a.options.scrollWheelZoom==="center"?a.setZoom(l+R):a.setZoomAround(this._lastMousePos,l+R))}});Ne.addInitHook("addHandler","scrollWheelZoom",fa);var il=600;Ne.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var Wr=Jt.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){We(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var l=a.touches[0];this._startPos=this._newPos=new re(l.clientX,l.clientY),this._holdTimeout=setTimeout(g(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",bt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),il),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){We(document,"touchend",bt),We(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),We(document,"touchend touchcancel contextmenu",this._cancel,this),We(document,"touchmove",this._onMove,this)},_onMove:function(a){var l=a.touches[0];this._newPos=new re(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,l){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Ne.addInitHook("addHandler","tapHold",Wr),Ne.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var Ra=Jt.extend({addHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),We(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var l=this._map;if(!(!a.touches||a.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(a.touches[0]),_=l.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),bt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(a.touches[0]),_=l.mouseEventToContainerPoint(a.touches[1]),b=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var T=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Ae(this._animRequest);var R=g(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ee(R,this,!0),bt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ae(this._animRequest),We(document,"touchmove",this._onTouchMove,this),We(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ne.addInitHook("addHandler","touchZoom",Ra),Ne.BoxZoom=Xr,Ne.DoubleClickZoom=vi,Ne.Drag=nl,Ne.Keyboard=cr,Ne.ScrollWheelZoom=fa,Ne.TapHold=Wr,Ne.TouchZoom=Ra,s.Bounds=Q,s.Browser=je,s.CRS=pt,s.Canvas=or,s.Circle=Jo,s.CircleMarker=nr,s.Class=rt,s.Control=qe,s.DivIcon=tl,s.DivOverlay=ai,s.DomEvent=Ue,s.DomUtil=Ur,s.Draggable=ca,s.Evented=ue,s.FeatureGroup=An,s.GeoJSON=Mn,s.GridLayer=Ma,s.Handler=Jt,s.Icon=cs,s.ImageOverlay=_i,s.LatLng=he,s.LatLngBounds=de,s.Layer=ni,s.LayerGroup=Aa,s.LineUtil=du,s.Map=Ne,s.Marker=hs,s.Mixin=Ic,s.Path=Pi,s.Point=re,s.PolyUtil=Gc,s.Polygon=fs,s.Polyline=Di,s.Popup=rr,s.PosAnimation=it,s.Projection=hu,s.Rectangle=xu,s.Renderer=ri,s.SVG=ha,s.SVGOverlay=da,s.TileLayer=Oa,s.Tooltip=Kr,s.Transformation=ji,s.Util=zt,s.VideoOverlay=Vr,s.bind=g,s.bounds=ce,s.canvas=lr,s.circle=Wc,s.circleMarker=gu,s.control=Mt,s.divIcon=yu,s.extend=c,s.featureGroup=tr,s.geoJSON=Yr,s.geoJson=pu,s.gridLayer=si,s.icon=Ir,s.imageOverlay=gs,s.latLng=me,s.latLngBounds=_e,s.layerGroup=mu,s.map=vt,s.marker=Qo,s.point=O,s.polygon=Cn,s.polyline=Qc,s.popup=Jc,s.rectangle=zn,s.setOptions=z,s.stamp=y,s.svg=za,s.svgOverlay=vu,s.tileLayer=On,s.tooltip=ed,s.transformation=Xn,s.version=o,s.videoOverlay=_u;var vs=window.L;s.noConflict=function(){return window.L=vs,this},window.L=s})}(Il,Il.exports)),Il.exports}var au=TE();const cf=Pc(au);function Df(i,n,s){return Object.freeze({instance:i,context:n,container:s})}function Bf(i,n){return n==null?function(o,c){const d=N.useRef(void 0);return d.current||(d.current=i(o,c)),d}:function(o,c){const d=N.useRef(void 0);d.current||(d.current=i(o,c));const g=N.useRef(o),{instance:v}=d.current;return N.useEffect(function(){g.current!==o&&(n(v,o,g.current),g.current=o)},[v,o,n]),d}}function EE(i,n){N.useEffect(function(){return(n.layerContainer??n.map).addLayer(i.instance),function(){n.layerContainer?.removeLayer(i.instance),n.map.removeLayer(i.instance)}},[n,i])}function my(i){return function(s){const o=hy(),c=i(Pf(s,o),o);return dy(o.map,s.attribution),fy(c.current,s.eventHandlers),EE(c.current,o),c}}function NE(i,n){const s=Bf(i,n),o=my(s);return xE(o)}function kE(i,n){const s=Bf(i),o=SE(s,n);return bE(o)}function AE(i,n){const s=Bf(i,n),o=my(s);return wE(o)}function CE(i,n,s){const{opacity:o,zIndex:c}=n;o!=null&&o!==s.opacity&&i.setOpacity(o),c!=null&&c!==s.zIndex&&i.setZIndex(c)}function ME({bounds:i,boundsOptions:n,center:s,children:o,className:c,id:d,placeholder:g,style:v,whenReady:y,zoom:x,...w},j){const[k]=N.useState({className:c,id:d,style:v}),[A,M]=N.useState(null),z=N.useRef(void 0);N.useImperativeHandle(j,()=>A?.map??null,[A]);const D=N.useCallback(H=>{if(H!==null&&!z.current){const B=new au.Map(H,w);z.current=B,s!=null&&x!=null?B.setView(s,x):i!=null&&B.fitBounds(i,n),y!=null&&B.whenReady(y),M(vE(B))}},[]);N.useEffect(()=>()=>{A?.map.remove()},[A]);const I=A?yt.createElement(Rf,{value:A},o):g??null;return yt.createElement("div",{...k,ref:D},I)}const gy=N.forwardRef(ME),df=NE(function({position:n,...s},o){const c=new au.Marker(n,s);return Df(c,yE(o,{overlayContainer:c}))},function(n,s,o){s.position!==o.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),hf=kE(function(n,s){const o=new au.Popup(n,s.overlayContainer);return Df(o,s)},function(n,s,{position:o},c){N.useEffect(function(){const{instance:g}=n;function v(x){x.popup===g&&(g.update(),c(!0))}function y(x){x.popup===g&&c(!1)}return s.map.on({popupopen:v,popupclose:y}),s.overlayContainer==null?(o!=null&&g.setLatLng(o),g.openOn(s.map)):s.overlayContainer.bindPopup(g),function(){s.map.off({popupopen:v,popupclose:y}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(g)}},[n,s,c,o])}),py=AE(function({url:n,...s},o){const c=new au.TileLayer(n,Pf(s,o));return Df(c,o)},function(n,s,o){CE(n,s,o);const{url:c}=s;c!=null&&c!==o.url&&n.setUrl(c)}),OE={lat:47,lng:4},LE=5.5,zE=({raceLocations:i,homeBase:n})=>h.jsxs(gy,{center:n?{lat:n.lat,lng:n.lng}:OE,zoom:LE,style:{height:500,width:"100%",borderRadius:16},scrollWheelZoom:!0,children:[h.jsx(py,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),i.map(s=>h.jsx(df,{position:{lat:s.lat,lng:s.lng},icon:cf.icon({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],className:"race-marker"}),children:h.jsxs(hf,{children:[h.jsx("strong",{children:s.name}),h.jsx("br",{}),s.country,h.jsx("br",{}),"(",s.lat.toFixed(4),", ",s.lng.toFixed(4),")"]})},s.name)),n&&h.jsx(df,{position:{lat:n.lat,lng:n.lng},icon:cf.icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/684/684908.png",iconSize:[32,32],iconAnchor:[16,32],className:"homebase-marker"}),children:h.jsx(hf,{children:h.jsxs("div",{style:{minWidth:180},children:[h.jsx("div",{style:{fontWeight:600,color:"#2563eb",fontSize:"1.1rem"},children:" Your Home Base"}),h.jsxs("div",{style:{margin:"4px 0"},children:[n.street," ",n.number,h.jsx("br",{}),n.city]}),h.jsxs("div",{style:{fontSize:"0.9rem",color:"#555"},children:[h.jsx("span",{"aria-label":"Coordinates",children:""})," ",n.lat.toFixed(5),", ",n.lng.toFixed(5)]})]})})})]});async function RE(i,n){if(!i||!n)throw new Error("pigeonId and mixId are required");const{error:s}=await le.from("pigeons").update({current_food_mix_id:n}).eq("id",i);if(s)throw s;const{error:o}=await le.from("pigeon_feed_history").insert({pigeon_id:i,food_mix_id:n,applied_at:new Date().toISOString()});if(o)throw o;return!0}async function PE(i,n){if(!i||!n)throw new Error("groupId and mixId are required");const{error:s}=await le.from("pigeon_groups").update({current_food_mix_id:n}).eq("id",i);if(s)throw s;const{error:o}=await le.from("group_feedings").insert({group_id:i,food_mix_id:n,applied_at:new Date().toISOString()});if(o)throw o;return!0}const gt={async listFoods(){const{data:i,error:n}=await le.from("foods").select("*");if(n)throw n;return(i||[]).sort((s,o)=>s.name.localeCompare(o.name))},async getUserInventory(i){const{data:n,error:s}=await le.from("user_food_inventory").select("*").eq("user_id",i);if(s)throw s;return n||[]},async updateUserInventory(i,n,s){if(s<0)throw new Error("Quantity cannot be negative");if(s===0){const{error:g}=await le.from("user_food_inventory").delete().eq("user_id",i).eq("food_id",n);if(g)throw g;return}const{data:o,error:c}=await le.from("user_food_inventory").update({quantity:s}).eq("user_id",i).eq("food_id",n).select();if(c)throw c;if(o&&o.length>0)return;const{error:d}=await le.from("user_food_inventory").insert({user_id:i,food_id:n,quantity:s});if(d)throw d},async listFoodMixes(i){const{data:n,error:s}=await le.from("food_mix").select("*").eq("user_id",i).order("created_at",{ascending:!1});if(s)throw s;return n||[]},async createFoodMix(i,n,s){const{data:o,error:c}=await le.from("food_mix").insert({user_id:i,name:n,mix_json:s}).select().single();if(c)throw c;return o},async deleteFoodMix(i){const{error:n}=await le.from("food_mix").delete().eq("id",i);if(n)throw n},async applyFoodMixToGroup(i,n){const{data:s,error:o}=await le.from("group_feedings").insert({group_id:i,food_mix_id:n}).select().single();if(o)throw o;return s},async getPigeonFeedHistory(i){const{data:n,error:s}=await le.from("pigeon_feed_history").select("*").eq("pigeon_id",i).order("applied_at",{ascending:!1});if(s)throw s;return n||[]},async recordPigeonFeeding(i,n,s){const{error:o}=await le.from("pigeon_feed_history").insert({pigeon_id:i,food_mix_id:n,group_id:s||null});if(o)throw o},async purchaseFood(i,n,s){if(s<1)throw new Error("Quantity must be at least 1");const{data:o,error:c}=await le.from("users").select("balance").eq("id",i).single();if(c)throw c;if(!o)throw new Error("User not found");const d=n.price*s;if(o.balance<d)throw new Error("Not enough balance");const{data:g}=await le.from("user_food_inventory").select("quantity").eq("user_id",i).eq("food_id",n.id).single(),v=(g?.quantity||0)+s,{error:y}=await le.from("users").update({balance:o.balance-d}).eq("id",i);if(y)throw y;await this.updateUserInventory(i,n.id,v);const{error:x}=await le.from("transactions").insert({user_id:i,type:"food_purchase",amount:-d,description:`Purchased ${s}x ${n.name}`,related_id:n.id});if(x)throw x},assignMixToPigeon:RE,assignMixToGroup:PE,async getPigeonsWithFoodShortages(i){const{data:n,error:s}=await le.from("pigeons").select(`
        id,
        name,
        food_shortage_streak,
        health,
        current_food_mix_id
      `).eq("owner_id",i).eq("status","active").gt("food_shortage_streak",0);if(s)throw s;return(n||[]).map(o=>({pigeon_id:o.id,pigeon_name:o.name,food_shortage_streak:o.food_shortage_streak||0,current_health:o.health,assigned_food_mix:o.current_food_mix_id||void 0}))},async getRecentFoodShortageEvents(i){const{data:n,error:s}=await le.from("pigeon_feed_history").select(`
        *,
        pigeons!inner(owner_id)
      `).eq("pigeons.owner_id",i).eq("food_shortage",!0).order("applied_at",{ascending:!1}).limit(50);if(s)throw s;return n||[]}},DE=i=>{const[n,s]=N.useState(!0),[o,c]=N.useState(null),[d,g]=N.useState(null),[v,y]=N.useState([]),x=N.useCallback(async()=>{if(i){s(!0),c(null);try{const A=await gt.getPigeonsWithFoodShortages(i),M=await gt.getRecentFoodShortageEvents(i),z={total_pigeons_with_shortages:A.length,pigeons_experiencing_shortages:A,total_health_penalties_today:M.filter(D=>D.food_shortage).length,average_shortage_streak:A.length>0?A.reduce((D,I)=>D+I.food_shortage_streak,0)/A.length:0};g(z),y(M)}catch(A){c(A instanceof Error?A.message:"Failed to fetch food shortage data")}finally{s(!1)}}},[i]),w=A=>A===0?"none":A===1?"low":A<=3?"medium":A<=7?"high":"critical",j=A=>{switch(A){case"none":return"text-success-600";case"low":return"text-warning-600";case"medium":return"text-orange-600";case"high":return"text-red-600";case"critical":return"text-red-800";default:return"text-gray-600"}},k=A=>{switch(A){case"none":return"bg-success-50 border-success-200";case"low":return"bg-warning-50 border-warning-200";case"medium":return"bg-orange-50 border-orange-200";case"high":return"bg-red-50 border-red-200";case"critical":return"bg-red-100 border-red-300";default:return"bg-gray-50 border-gray-200"}};return N.useEffect(()=>{x()},[x]),{loading:n,error:o,shortageSummary:d,recentShortages:v,getShortageSeverity:w,getShortageColor:j,getShortageBgColor:k,refreshData:x}},BE=({userId:i,className:n=""})=>{const{loading:s,error:o,shortageSummary:c,getShortageSeverity:d}=DE(i);if(s)return h.jsx("div",{className:`card ${n}`,children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})});if(o)return h.jsx("div",{className:`card ${n}`,children:h.jsxs("div",{className:"text-red-600 text-sm",children:["Error loading food shortage data: ",o]})});if(!c||c.total_pigeons_with_shortages===0)return null;const g=c.pigeons_experiencing_shortages.filter(y=>d(y.food_shortage_streak)==="critical"),v=c.pigeons_experiencing_shortages.filter(y=>d(y.food_shortage_streak)==="high");return h.jsxs("div",{className:`card ${n}`,children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsx(Rc,{className:"h-5 w-5 text-red-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Food Shortage Alert"}),h.jsx("span",{className:"badge-danger",children:c.total_pigeons_with_shortages})]}),g.length>0&&h.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(Rc,{className:"h-4 w-4 text-red-600"}),h.jsx("span",{className:"font-medium text-red-800",children:"Critical Food Shortages"})]}),h.jsx("div",{className:"space-y-2",children:g.map(y=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-red-700",children:y.pigeon_name}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("span",{className:"text-red-600 font-medium",children:[y.food_shortage_streak," days"]}),h.jsx(Vi,{className:"h-3 w-3 text-red-600"}),h.jsx("span",{className:"text-red-600",children:y.current_health})]})]},y.pigeon_id))})]}),v.length>0&&h.jsxs("div",{className:"mb-4 p-3 bg-orange-100 border border-orange-300 rounded-lg",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(qc,{className:"h-4 w-4 text-orange-600"}),h.jsx("span",{className:"font-medium text-orange-800",children:"High Food Shortages"})]}),h.jsx("div",{className:"space-y-2",children:v.map(y=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-orange-700",children:y.pigeon_name}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("span",{className:"text-orange-600 font-medium",children:[y.food_shortage_streak," days"]}),h.jsx(Vi,{className:"h-3 w-3 text-orange-600"}),h.jsx("span",{className:"text-orange-600",children:y.current_health})]})]},y.pigeon_id))})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[h.jsx("div",{className:"font-medium text-gray-900",children:c.total_health_penalties_today}),h.jsx("div",{className:"text-gray-600",children:"Penalties Today"})]}),h.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[h.jsx("div",{className:"font-medium text-gray-900",children:Math.round(c.average_shortage_streak*10)/10}),h.jsx("div",{className:"text-gray-600",children:"Avg. Streak"})]})]}),h.jsx("div",{className:"mt-4",children:h.jsx("button",{className:"w-full btn-primary",onClick:()=>window.location.href="/maintenance",children:"Manage Food Supply"})})]})},q_={sunny:{emoji:"",description:"Sunny",impact:"Optimal racing conditions",baseProbability:.3},rainy:{emoji:"",description:"Rainy",impact:"Reduces speed and visibility",baseProbability:.2},windy:{emoji:"",description:"Windy",impact:"Affects flight stability and speed",baseProbability:.2},foggy:{emoji:"",description:"Foggy",impact:"Severely impacts navigation and visibility",baseProbability:.1},stormy:{emoji:"",description:"Stormy",impact:"Most challenging conditions",baseProbability:.1},cloudy:{emoji:"",description:"Cloudy",impact:"Mild impact on performance",baseProbability:.1}},UE={winter:{min:-2,max:7},spring:{min:8,max:25},summer:{min:25,max:35},autumn:{min:8,max:20}},ZE={maxDailyChange:5},$E={sunny:{sunny:.6,cloudy:.25,rainy:.05,windy:.05,foggy:.02,stormy:.03},cloudy:{sunny:.3,cloudy:.4,rainy:.15,windy:.1,foggy:.03,stormy:.02},rainy:{sunny:.1,cloudy:.3,rainy:.4,windy:.15,foggy:.03,stormy:.02},windy:{sunny:.15,cloudy:.25,rainy:.2,windy:.3,foggy:.05,stormy:.05},foggy:{sunny:.05,cloudy:.4,rainy:.2,windy:.2,foggy:.1,stormy:.05},stormy:{sunny:.02,cloudy:.2,rainy:.4,windy:.25,foggy:.08,stormy:.05}},Si={async getCurrentGameDate(){const{data:i,error:n}=await le.rpc("get_current_game_date");return n?(console.error("Error getting current game date:",n),"1900-01-01"):i||"1900-01-01"},async getGameTimeState(){const{data:i,error:n}=await le.from("game_time_state").select("*").order("created_at",{ascending:!1}).limit(1).single();return n?(console.error("Error getting game time state:",n),null):i},async getGameTimeSettings(){const{data:i,error:n}=await le.from("game_time_settings").select("setting_key, setting_value");if(n)return console.error("Error getting game time settings:",n),{game_start_date:"1900-01-01",update_times:"00:00,06:00,12:00,18:00",time_zone:"Europe/Brussels",auto_updates_enabled:!0,update_interval_hours:6};const s={game_start_date:"1900-01-01",update_times:"00:00,06:00,12:00,18:00",time_zone:"UTC",auto_updates_enabled:!0,update_interval_hours:6};return i?.forEach(o=>{switch(o.setting_key){case"game_start_date":s.game_start_date=o.setting_value;break;case"update_times":s.update_times=o.setting_value;break;case"time_zone":s.time_zone=o.setting_value;break;case"auto_updates_enabled":s.auto_updates_enabled=o.setting_value==="true";break;case"update_interval_hours":s.update_interval_hours=parseInt(o.setting_value,10);break}}),s},async advanceGameTime(){const{error:i}=await le.rpc("manual_advance_game_time");if(i)throw console.error("Error advancing game time:",i),i},async getGameTimeLog(i=10){const{data:n,error:s}=await le.from("game_time_log").select("*").order("created_at",{ascending:!1}).limit(i);return s?(console.error("Error getting game time log:",s),[]):n||[]},formatGameDate(i){return new Date(i).toLocaleDateString("nl-BE",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"Europe/Brussels"})},async getTimeUntilNextUpdate(){const i=await this.getGameTimeState();if(!i)return"Unknown";const n=new Date(i.next_update_time),s=new Date,o=new Date(s.toLocaleString("en-US",{timeZone:"Europe/Brussels"})),d=new Date(n.toLocaleString("en-US",{timeZone:"Europe/Brussels"})).getTime()-o.getTime();if(d<=0)return"Nu";const g=Math.floor(d/(1e3*60*60)),v=Math.floor(d%(1e3*60*60)/(1e3*60));return g>0?`${g}u ${v}m`:`${v}m`},async isGameTimePaused(){return(await this.getGameTimeState())?.is_paused||!1},async setGameTimePaused(i){const{error:n}=await le.from("game_time_state").update({is_paused:i}).order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Error setting game time paused state:",n),n}};class HE{getDayNightCycle(){const n=new Date,s=n.getHours(),o=n.getMinutes(),c=s>=20||s<7,d=`${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`;return{isNight:c,currentTime:d,sunriseTime:"07:00",sunsetTime:"20:00"}}generateWeatherType(n){if(!n){const d=Math.random();let g=0;for(const[v,y]of Object.entries(q_))if(g+=y.baseProbability,d<=g)return v;return"sunny"}const s=$E[n],o=Math.random();let c=0;for(const[d,g]of Object.entries(s))if(c+=g,o<=c)return d;return n}generateSeverity(n){const s=Math.random(),o=Math.floor(Math.pow(s,2)*100)+1;return Math.max(1,Math.min(100,o))}getSeason(n){const s=n.getMonth()+1;return s>=12||s<=2?"winter":s>=3&&s<=5?"spring":s>=6&&s<=8?"summer":"autumn"}generateTemperature(n,s){const o=this.getSeason(n),c=UE[o];let d;if(s!==void 0){const g=ZE.maxDailyChange,v=(Math.random()-.5)*2*g;if(d=s+v,Math.abs(d-s)>g){const x=d>s?1:-1;d=s+x*g}}else d=c.min+Math.random()*(c.max-c.min);return d=Math.max(c.min,Math.min(c.max,d)),d=Math.max(-5,Math.min(40,d)),Math.round(d*10)/10}generateForecastForDate(n,s,o){const c=this.generateWeatherType(s),d=this.generateSeverity(c),g=new Date(n),v=this.generateTemperature(g,o);return{date:n,weather_type:c,severity:d,temperature:v,is_night:!1,generated_at:new Date().toISOString(),updated_at:new Date().toISOString()}}async generateWeeklyForecast(){const n=[],s=await Si.getCurrentGameDate(),o=new Date(s);let c,d;for(let g=0;g<7;g++){const v=new Date(o);v.setDate(o.getDate()+g);const y=v.toISOString().split("T")[0],x=this.generateForecastForDate(y,c,d);n.push(x),c=x.weather_type,d=x.temperature}return n}async saveForecasts(n){const{error:s}=await le.from("weather_forecast").upsert(n,{onConflict:"date"});if(s)throw console.error("Error saving weather forecasts:",s),new Error(`Failed to save weather forecasts: ${s.message}`)}async getForecastForDate(n){const{data:s,error:o}=await le.from("weather_forecast").select("*").eq("date",n).single();if(o&&o.code!=="PGRST116")throw console.error("Error fetching weather forecast:",o),new Error(`Failed to fetch weather forecast: ${o.message}`);return s}async getWeeklyForecast(){const n=await Si.getCurrentGameDate(),s=new Date(n),o=new Date(s);o.setDate(s.getDate()+6);const c=s.toISOString().split("T")[0],d=o.toISOString().split("T")[0],{data:g,error:v}=await le.from("weather_forecast").select("*").gte("date",c).lte("date",d).order("date");if(v)throw console.error("Error fetching weekly weather forecast:",v),new Error(`Failed to fetch weekly weather forecast: ${v.message}`);return g||[]}async getCurrentWeather(){const n=await Si.getCurrentGameDate();return this.getForecastForDate(n)}formatWeatherForDisplay(n){const s=q_[n.weather_type],o=this.getDayNightCycle();return{type:n.weather_type,severity:n.severity,temperature:n.temperature,isNight:o.isNight,emoji:s.emoji,description:s.description,impact:s.impact}}shouldUpdateForecast(){const n=new Date,s=n.getHours(),o=n.getMinutes();return s===20&&o===0}async initializeWeatherSystem(){try{if((await this.getWeeklyForecast()).length===0){console.log("No weather forecasts found, generating initial forecast...");const s=await this.generateWeeklyForecast();await this.saveForecasts(s),console.log("Initial weather forecast generated successfully")}}catch(n){throw console.error("Error initializing weather system:",n),n}}async forceRegenerateForecasts(){try{console.log("Force regenerating weather forecasts with new distribution...");const{error:n}=await le.from("weather_forecast").delete().gte("date","2024-01-01");if(n)throw console.error("Error clearing existing forecasts:",n),new Error(`Failed to clear existing forecasts: ${n.message}`);console.log("Cleared existing forecasts, generating new ones...");const s=await this.generateWeeklyForecast();console.log("Generated forecasts:"),s.forEach((o,c)=>{console.log(`Day ${c+1}: ${o.weather_type} - Severity: ${o.severity}% - Temp: ${o.temperature}C`)}),await this.saveForecasts(s),console.log("Weather forecasts regenerated successfully")}catch(n){throw console.error("Error regenerating weather forecasts:",n),n}}async updateDailyForecast(){try{console.log("Updating daily weather forecast...");const n=new Date,s=new Date(n);s.setDate(n.getDate()-1);const o=s.toISOString().split("T")[0],c=await this.getForecastForDate(o),d=c?.weather_type,g=c?.temperature,v=n.toISOString().split("T")[0],y=this.generateForecastForDate(v,d,g);await this.saveForecasts([y]),console.log("Daily weather forecast updated successfully")}catch(n){throw console.error("Error updating daily weather forecast:",n),n}}getWeatherImpactMultiplier(n){switch(n.type){case"sunny":return 1+n.severity/100*.3;case"cloudy":return 1-n.severity/100*.15;case"rainy":return 1-n.severity/100*.4;case"windy":return 1-n.severity/100*.35;case"foggy":return 1-n.severity/100*.6;case"stormy":return 1-n.severity/100*.7;default:return 1}}}const Ia=new HE,qE=()=>{const[i,n]=N.useState(null),[s,o]=N.useState([]),[c,d]=N.useState(null),[g,v]=N.useState(!0),[y,x]=N.useState(null),w=N.useCallback(async()=>{try{v(!0),x(null);const B=await Ia.getCurrentWeather();if(B){const J=Ia.formatWeatherForDisplay(B);n(J)}}catch(B){console.error("Error loading current weather:",B),x(B instanceof Error?B.message:"Failed to load weather data")}finally{v(!1)}},[]),j=N.useCallback(async()=>{try{x(null);const J=(await Ia.getWeeklyForecast()).map(K=>Ia.formatWeatherForDisplay(K));o(J)}catch(B){console.error("Error loading weekly forecast:",B),x(B instanceof Error?B.message:"Failed to load forecast data")}},[]),k=N.useCallback(()=>{const B=Ia.getDayNightCycle();d(B)},[]),A=N.useCallback(async()=>{try{v(!0),x(null),await Ia.initializeWeatherSystem(),await w(),await j(),k()}catch(B){console.error("Error initializing weather system:",B),x(B instanceof Error?B.message:"Failed to initialize weather system")}finally{v(!1)}},[w,j,k]),M=N.useCallback(async()=>{await w(),await j(),k()},[w,j,k]),z=N.useCallback(async()=>{try{v(!0),x(null),await Ia.forceRegenerateForecasts(),await w(),await j(),k()}catch(B){console.error("Error regenerating weather forecasts:",B),x(B instanceof Error?B.message:"Failed to regenerate weather forecasts")}finally{v(!1)}},[w,j,k]),D=N.useCallback(()=>i?Ia.getWeatherImpactMultiplier(i):1,[i]),I=N.useCallback(()=>c?.isNight??!1,[c]),H=N.useCallback(B=>{const J=new Date(B),K=new Date,oe=new Date(K);return oe.setDate(K.getDate()+1),J.toDateString()===K.toDateString()?"Today":J.toDateString()===oe.toDateString()?"Tomorrow":J.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},[]);return N.useEffect(()=>{A()},[A]),N.useEffect(()=>{const B=setInterval(()=>{k()},6e4);return()=>clearInterval(B)},[k]),N.useEffect(()=>{const J=setInterval(()=>{Ia.shouldUpdateForecast()&&M()},6e4);return()=>clearInterval(J)},[M]),{currentWeather:i,weeklyForecast:s,dayNightCycle:c,loading:g,error:y,refreshWeather:M,forceRegenerateForecasts:z,getWeatherImpactMultiplier:D,isNightTime:I,getFormattedDate:H,hasWeatherData:i!==null,hasForecastData:s.length>0}},IE=({weather:i,dayNightCycle:n,loading:s=!1})=>{if(s)return h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 animate-pulse",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"h-4 bg-gray-300 rounded w-24 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-300 rounded w-32"})]})]})});if(!i||!n)return h.jsx("div",{className:"bg-white rounded-lg shadow-md p-4",children:h.jsxs("div",{className:"text-center text-gray-500",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsx("p",{children:"Weather data unavailable"})]})});const o=d=>d>=80?"bg-red-500":d>=60?"bg-orange-500":d>=40?"bg-yellow-500":"bg-green-500",c=d=>d>=80?"Severe":d>=60?"Moderate":d>=40?"Light":"Mild";return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"text-4xl",children:i.emoji}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:i.description}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-sm text-gray-600",children:i.impact}),h.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[i.temperature,"C"]})]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-2xl mb-1",children:n.isNight?"":""}),h.jsx("div",{className:"text-xs text-gray-500",children:n.currentTime})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Severity: ",c(i.severity)]}),h.jsxs("span",{className:"text-sm text-gray-500",children:[i.severity,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o(i.severity)}`,style:{width:`${i.severity}%`}})})]}),h.jsx("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:h.jsxs("div",{className:"text-xs text-blue-800",children:[h.jsx("span",{className:"font-medium",children:"Racing Impact:"})," ",i.type==="sunny"?"Optimal conditions":i.type==="cloudy"?"Slight reduction":i.type==="rainy"?"Speed reduced":i.type==="windy"?"Stability affected":i.type==="foggy"?"Navigation difficult":"Extreme conditions"]})})]})},GE=({forecast:i,loading:n=!1,onDateSelect:s})=>{if(n)return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"7-Day Forecast"}),h.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(7)].map((d,g)=>h.jsx("div",{className:"w-full h-24 bg-gray-200 rounded-lg animate-pulse"},g))})]});if(!i||i.length===0)return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"7-Day Forecast"}),h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("p",{children:"Forecast data unavailable"})]})]});const o=d=>d>=80?"bg-red-100 border-red-300":d>=60?"bg-orange-100 border-orange-300":d>=40?"bg-yellow-100 border-yellow-300":"bg-green-100 border-green-300",c=d=>d>=80?"text-red-700":d>=60?"text-orange-700":d>=40?"text-yellow-700":"text-green-700";return h.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"7-Day Forecast"}),!1,h.jsx("div",{className:"grid grid-cols-7 gap-2",children:i.map((d,g)=>h.jsxs("div",{className:`p-2 rounded-lg border-2 ${o(d.severity)} cursor-pointer transition-all hover:scale-105`,onClick:()=>s?.(`day-${g}`),children:[h.jsx("div",{className:"text-center mb-1",children:h.jsx("div",{className:"text-xl",children:d.emoji})}),h.jsx("div",{className:"text-center mb-1",children:h.jsx("div",{className:"text-xs font-medium text-gray-700",children:d.temperature!==void 0?`${d.temperature}C`:"N/A"})}),h.jsx("div",{className:"text-center",children:h.jsxs("div",{className:`text-xs font-medium ${c(d.severity)}`,children:[d.severity,"%"]})}),h.jsx("div",{className:"text-center mt-1",children:h.jsx("div",{className:"text-xs text-gray-600 font-medium",children:d.description})})]},g))})]})},FE=()=>{const{currentWeather:i,weeklyForecast:n,dayNightCycle:s,loading:o,error:c,refreshWeather:d,forceRegenerateForecasts:g}=qE(),v=x=>{console.log("Selected date:",x)},y=()=>{d()};return c?h.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"text-red-500",children:""}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Weather Error"}),h.jsx("p",{className:"text-sm text-red-700",children:c})]}),h.jsx("button",{onClick:y,className:"ml-auto text-sm text-red-600 hover:text-red-800 underline",children:"Retry"})]})}):h.jsxs("div",{className:"space-y-4",children:[h.jsx(IE,{weather:i,dayNightCycle:s,loading:o}),h.jsx(GE,{forecast:n,loading:o,onDateSelect:v}),h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"text-green-500",children:""}),h.jsx("span",{className:"text-sm text-green-800",children:"Weather system active"})]}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:y,className:"text-sm text-green-600 hover:text-green-800 underline",children:"Refresh"}),h.jsx("button",{onClick:g,className:"text-sm text-blue-600 hover:text-blue-800 underline",disabled:o,children:o?"Regenerating...":"Regenerate"})]})]})})]})},YE=[{name:"Agen",country:"France",lat:44.17497,lng:.590515},{name:"Alenon",country:"France",lat:48.4298,lng:.0956},{name:"Auxerre",country:"France",lat:47.7982,lng:3.568},{name:"Bergerac",country:"France",lat:44.8579,lng:.4836},{name:"Bordeaux",country:"France",lat:44.8378,lng:-.5792},{name:"Boves",country:"France",lat:49.751,lng:2.313},{name:"Canappeville",country:"France",lat:49.401,lng:.727},{name:"Clermont-Ferrand",country:"France",lat:45.7772,lng:3.087},{name:"Dax (StPandelon)",country:"France",lat:43.7106,lng:-1.0554},{name:"Falaise",country:"France",lat:48.8896,lng:-.1861},{name:"Fontenay-sur-Eure",country:"France",lat:48.4667,lng:1.5167},{name:"Fougres",country:"France",lat:48.3491,lng:-1.2032},{name:"Gien",country:"France",lat:47.7833,lng:2.989},{name:"Grevillers (Arras)",country:"France",lat:50.191,lng:2.728},{name:"Hazebrouck",country:"France",lat:50.7236,lng:2.6426},{name:"Lamballe",country:"France",lat:48.4729,lng:-2.53},{name:"Limoges",country:"France",lat:45.8336,lng:1.2611},{name:"Magny-Cours",country:"France",lat:46.8333,lng:3},{name:"Marmande",country:"France",lat:44.5021,lng:.1575},{name:"Marseille",country:"France",lat:43.2965,lng:5.3698},{name:"Messac (Ille-et-Vilaine)",country:"France",lat:48.195,lng:-1.602},{name:"Mont-de-Marsan",country:"France",lat:43.8911,lng:-.5028},{name:"Narbonne",country:"France",lat:43.184,lng:3.0036},{name:"Nort-sur-Erdre",country:"France",lat:47.48,lng:-1.545},{name:"Pau",country:"France",lat:43.3017,lng:-.3686},{name:"Perpignan",country:"France",lat:42.6887,lng:2.8948},{name:"Plougastel-Daoulas",country:"France",lat:48.3,lng:-4.3},{name:"Reims",country:"France",lat:49.2583,lng:4.0317},{name:"Rieux-Minervois",country:"France",lat:43.3,lng:2.5},{name:"Rouen-Bihorel",country:"France",lat:49.4431,lng:1.0993},{name:"Roullet-St-Estphe",country:"France",lat:45.65,lng:.195},{name:"Roye",country:"France",lat:49.6417,lng:2.7733},{name:"Sabl-sur-Sarthe",country:"France",lat:47.829,lng:-.2},{name:"Saintes",country:"France",lat:45.7463,lng:-.643},{name:"Sancoins",country:"France",lat:46.8567,lng:2.8675},{name:"Saran",country:"France",lat:47.965,lng:1.868},{name:"Sigogne",country:"France",lat:45.64,lng:-.222},{name:"St Just",country:"France",lat:47.5167,lng:4.8333},{name:"St Maixent-l'cole",country:"France",lat:46.4817,lng:-.2064},{name:"St Malo",country:"France",lat:48.6493,lng:-2.0257},{name:"St Philbert-du-Peuple",country:"France",lat:47.9667,lng:.4167},{name:"St Vincent",country:"France",lat:44.6,lng:1.0833},{name:"Tarbes",country:"France",lat:43.2333,lng:.0833},{name:"Troyes",country:"France",lat:48.2973,lng:4.074},{name:"Vannes (St Allouestre)",country:"France",lat:47.659,lng:-2.76},{name:"Vire",country:"France",lat:48.839,lng:-.911},{name:"Vitry-en-Artois",country:"France",lat:50.311,lng:2.857},{name:"Tienen",country:"Belgium",lat:50.806,lng:4.85},{name:"Quivrain",country:"Belgium",lat:50.3983,lng:3.697},{name:"Noyon",country:"France",lat:49.579,lng:3.0032},{name:"Dourdan",country:"France",lat:48.5283,lng:2.0107},{name:"Arras",country:"France",lat:50.291,lng:2.7778},{name:"Vierzon",country:"France",lat:47.2269,lng:2.0706},{name:"Bourges",country:"France",lat:47.081,lng:2.3988},{name:"Barcelona",country:"Spain",lat:41.3851,lng:2.1734},{name:"Palams",country:"Spain",lat:41.842,lng:3.13},{name:"San Sebastian (Donostia)",country:"Spain",lat:43.3183,lng:-1.9812},{name:"Zaragoza",country:"Spain",lat:41.6488,lng:-.8891}],VE=()=>{const{gameUser:i,user:n}=Kn(),[s,o]=N.useState(null),[c,d]=N.useState(!0),g=Uo();return N.useEffect(()=>{n?zf.getHomeBaseByUserId(n.id).then(v=>{o(v?{city:v.city,street:v.street,number:v.number,lat:v.lat,lng:v.lng}:null),d(!1)}):d(!1)},[n]),h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Pigeon Prestige"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to your pigeon racing empire!"}),h.jsx("div",{className:"max-w-4xl",children:h.jsx(FE,{})}),n&&h.jsx(BE,{userId:n.id}),h.jsxs("div",{className:"bg-green-100 p-4 rounded-lg border border-green-300",children:[h.jsx("h2",{className:"text-lg font-semibold mb-2 text-green-800",children:" Success!"}),h.jsx("p",{className:"text-green-700",children:"The HomePage component is working. The issue was elsewhere."}),h.jsxs("p",{className:"text-green-700",children:["User: ",n?"Logged in":"Not logged in"]}),h.jsxs("p",{className:"text-green-700",children:["Game User: ",i?"Loaded":"Not loaded"]})]}),!c&&n&&!s&&h.jsxs("div",{className:"my-8 p-6 bg-yellow-100 border border-yellow-300 rounded-lg flex flex-col items-center",children:[h.jsx("p",{className:"mb-4 text-yellow-800 font-semibold text-lg",children:"You have not set a home base yet."}),h.jsx("button",{className:"px-6 py-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded shadow",onClick:()=>g("/onboarding/home-base"),children:"Set Your Home Base"})]}),h.jsx("div",{className:"mt-8",children:h.jsx(zE,{raceLocations:YE,homeBase:s||void 0})})]})};function Uf(i){return i.age_months<3&&i.age_years===0?"/assets/pigeons/baby.png":`/assets/pigeons/${i.picture_number}.png`}const KE=[{key:"speed",label:"Speed"},{key:"endurance",label:"Endurance"},{key:"sky_iq",label:"Sky IQ"},{key:"aerodynamics",label:"Aerodynamics"},{key:"vision",label:"Vision"},{key:"wing_power",label:"Wing Power"},{key:"flapacity",label:"Flapacity"},{key:"vanity",label:"Vanity"},{key:"strength",label:"Strength"},{key:"aggression",label:"Aggression"},{key:"landing",label:"Landing"},{key:"loyalty",label:"Loyalty"},{key:"health",label:"Health"},{key:"happiness",label:"Happiness"},{key:"fertility",label:"Fertility"},{key:"disease_resistance",label:"Disease Resistance"}];function XE(i,n,s){const[o,c]=N.useState([]),[d,g]=N.useState(""),[v,y]=N.useState({}),[x,w]=N.useState(!1);return N.useEffect(()=>{let j=[...i];n&&s.length>0&&(j=j.filter(k=>s.includes(k.id))),d&&(j=j.filter(k=>k.name.toLowerCase().includes(d.toLowerCase()))),v.gender&&v.gender!=="all"&&(j=j.filter(k=>k.gender===v.gender)),v.ageRange&&(j=j.filter(k=>{const A=k.age_years*12+k.age_months,M=(v.ageRange?.minYears??0)*12+(v.ageRange?.minMonths??0),z=(v.ageRange?.maxYears??100)*12+(v.ageRange?.maxMonths??11);return A>=M&&A<=z})),v.isAlive!==void 0&&(j=j.filter(k=>k.status==="active")),v.canBreed!==void 0&&(j=j.filter(k=>k.fertility>50&&k.age_years>=1)),v.isInjured!==void 0&&(j=j.filter(k=>k.status==="injured")),v.statFilters&&Object.entries(v.statFilters).forEach(([k,A])=>{A&&KE.some(M=>M.key===k)&&(typeof A.min=="number"||typeof A.max=="number")&&(j=j.filter(M=>{const z=M[k];return!(typeof A.min=="number"&&z<A.min||typeof A.max=="number"&&z>A.max)}))}),c(j)},[i,d,v,n,s]),{filteredPigeons:o,searchTerm:d,setSearchTerm:g,filters:v,setFilters:y,showFilters:x,setShowFilters:w}}const I_={async getUserBreedingPairs(i){const{data:n,error:s}=await le.from("breeding_pairs").select(`
        *,
        male_pigeon:pigeons!breeding_pairs_male_pigeon_id_fkey (*),
        female_pigeon:pigeons!breeding_pairs_female_pigeon_id_fkey (*)
      `).eq("owner_id",i).eq("status","active").order("created_at",{ascending:!1});if(s)throw s;return n||[]},async createBreedingPair(i,n,s){const{data:o}=await le.from("pigeons").select("id, gender").in("id",[i,n]).eq("owner_id",s);if(!o||o.length!==2)throw new Error("Both pigeons must belong to you");const c=o.find(y=>y.id===i),d=o.find(y=>y.id===n);if(!c||!d)throw new Error("Invalid pigeon selection");if(c.gender!=="male"||d.gender!=="female")throw new Error("Must select one male and one female pigeon");const{data:g,error:v}=await le.from("breeding_pairs").insert({male_pigeon_id:i,female_pigeon_id:n,owner_id:s}).select().single();if(v)throw v;return g},async simulateBreeding(i){const{data:n}=await le.from("breeding_pairs").select(`
        *,
        male_pigeon:pigeons!breeding_pairs_male_pigeon_id_fkey (*),
        female_pigeon:pigeons!breeding_pairs_female_pigeon_id_fkey (*)
      `).eq("id",i).single();if(!n||!n.male_pigeon||!n.female_pigeon)throw new Error("Breeding pair not found");const s=n.male_pigeon,o=n.female_pigeon,c=(s.fertility*.3+o.fertility*.3+s.breeding_quality*.2+o.breeding_quality*.2)/100;if(Math.random()<c){const g=this.calculateOffspringStats(s,o),{data:v}=await le.from("pigeons").insert({owner_id:n.owner_id,name:this.generateOffspringName(s.name,o.name),gender:Math.random()>.5?"male":"female",...g}).select().single();return await le.from("breeding_pairs").update({offspring_produced:n.offspring_produced+1,successful_breedings:n.successful_breedings+1}).eq("id",i),{success:!0,offspring:v}}else return await le.from("breeding_pairs").update({successful_breedings:n.successful_breedings}).eq("id",i),{success:!1,offspring:null}},calculateOffspringStats(i,n){const s={};return["speed","endurance","sky_iq","aerodynamics","vision","wing_power","flapacity","vanity","strength","aggression","landing","loyalty","health","happiness","fertility","disease_resistance"].forEach(c=>{const d=i[c],g=n[c],v=d>g?d:g,y=d>g?g:d,x=Math.random()<.6?v:y,w=.9+Math.random()*.2;s[c]=Math.max(1,Math.min(100,Math.floor(x*w)))}),s},generateOffspringName(i,n){const s=i.split(" "),o=n.split(" "),c=Math.random()>.5?s[0]:o[0],d=Math.random()>.5?s[s.length-1]:o[o.length-1];return`${c} ${d}`}};Xa({id:Ie(),name:Ie(),distance:ge(),entry_fee:ge(),prize_pool:ge(),max_participants:ge(),start_time:Ie(),status:Ie(),created_at:Ie()});Xa({id:Ie(),race_id:Ie(),pigeon_id:Ie(),user_id:Ie(),finish_time:ge().nullable(),finish_position:ge().nullable(),prize_won:ge(),created_at:Ie()});const Gs={async createGroup(i,n,s){const{data:o,error:c}=await le.from("pigeon_groups").insert({owner_id:i,name:n,description:s}).select().single();if(c)throw c;return o},async updateGroup(i,n,s){const{data:o,error:c}=await le.from("pigeon_groups").update({name:n,description:s,updated_at:new Date().toISOString()}).eq("id",i).select().single();if(c)throw c;return o},async deleteGroup(i){const{error:n}=await le.from("pigeon_groups").delete().eq("id",i);if(n)throw n},async getGroupsForUser(i){const{data:n,error:s}=await le.from("pigeon_groups").select("*, pigeon_group_members(count)").eq("owner_id",i).order("created_at",{ascending:!0});if(s)throw s;return(n||[]).map(o=>({...o,size:o.pigeon_group_members?.length?o.pigeon_group_members[0].count:0}))},async addPigeonToGroup(i,n){const{error:s}=await le.from("pigeon_group_members").insert({group_id:i,pigeon_id:n});if(s)throw s},async removePigeonFromGroup(i,n){const{error:s}=await le.from("pigeon_group_members").delete().eq("group_id",i).eq("pigeon_id",n);if(s)throw s},async getPigeonsInGroup(i){const{data:n,error:s}=await le.from("pigeon_group_members").select("pigeon_id, pigeons(*)").eq("group_id",i);if(s)throw s;return(n||[]).flatMap(o=>o.pigeons)}};function WE(i,n){const[s,o]=N.useState(!1),[c,d]=N.useState(null),[g,v]=N.useState([]),[y,x]=N.useState(null),[w,j]=N.useState(!1);return{showBreedingModal:s,setShowBreedingModal:o,selectedPigeon:c,breedingPartners:g,selectedPartner:y,setSelectedPartner:x,breedingLoading:w,handleBreedingClick:M=>{if(M.fertility<50||M.age_years<1){alert("This pigeon cannot breed. Pigeons must be at least 1 year old and have fertility above 50.");return}d(M);const z=i.filter(D=>D.id!==M.id&&D.gender!==M.gender&&D.fertility>=50&&D.age_years>=1&&D.status==="active");v(z),x(null),o(!0)},handleBreeding:async()=>{if(!(!c||!y||!n)){j(!0);try{const M=await I_.createBreedingPair(c.gender==="male"?c.id:y.id,c.gender==="female"?c.id:y.id,n.id),z=await I_.simulateBreeding(M.id);return z.success&&z.offspring?(alert(`Breeding successful! New pigeon "${z.offspring.name}" has been created.`),!0):(alert("Breeding was not successful this time. Try again later!"),!1)}catch(M){return console.error("Error during breeding:",M),alert("An error occurred during breeding. Please try again."),!1}finally{j(!1)}}}}}function QE(i){const[n,s]=N.useState([]),[o,c]=N.useState(!1),[d,g]=N.useState(""),[v,y]=N.useState(""),[x,w]=N.useState(!1),[j,k]=N.useState([]),[A,M]=N.useState(null),[z,D]=N.useState([]);return N.useEffect(()=>{i&&Gs.getGroupsForUser(i.id).then(k).catch(console.error)},[i]),N.useEffect(()=>{(async()=>{if(A&&i)try{const J=await Gs.getPigeonsInGroup(A.id);D(J.map(K=>K.id))}catch(J){console.error("Error loading group pigeons:",J),D([])}else D([])})()},[A,i]),{selectedPigeonIds:n,setSelectedPigeonIds:s,showSaveGroupModal:o,setShowSaveGroupModal:c,groupName:d,setGroupName:g,groupDescription:v,setGroupDescription:y,savingGroup:x,userGroups:j,selectedGroup:A,setSelectedGroup:M,groupPigeons:z,handleSelectPigeon:(B,J)=>{s(K=>J?[...K,B]:K.filter(oe=>oe!==B))},handleSaveGroup:async()=>{if(!(!i||!d.trim()||n.length===0)){w(!0);try{await Gs.createGroup(i.id,d.trim(),v.trim());for(const J of n)await Gs.addPigeonToGroup(J,d.trim());const B=await Gs.getGroupsForUser(i.id);k(B),g(""),y(""),s([]),c(!1),alert("Group saved successfully!")}catch(B){console.error("Error saving group:",B),alert("Error saving group. Please try again.")}finally{w(!1)}}}}}function JE(i){const[n,s]=N.useState([]),[o,c]=N.useState(!0),[d,g]=N.useState("grid"),v=QE(i),y=XE(n,v.selectedGroup,v.groupPigeons),x=WE(n,i);N.useEffect(()=>{(async()=>{if(console.log("usePigeonOverviewLogic: user",i),i)try{const M=await Lo.getUserPigeons(i.id);s(M),console.log("usePigeonOverviewLogic: pigeons loaded",M)}catch(M){console.error("Error loading pigeons:",M)}finally{c(!1)}else c(!1)})()},[i]);const w=async()=>{if(i){const A=await Lo.getUserPigeons(i.id);s(A)}},j=async A=>{if(window.confirm("Are you sure you want to delete this pigeon? This action cannot be undone."))try{await Lo.deletePigeon(A),s(n.filter(M=>M.id!==A))}catch(M){console.error("Error deleting pigeon:",M)}},k=async()=>{await x.handleBreeding()&&await w()};return{pigeons:n,loading:o,viewMode:d,setViewMode:g,filteredPigeons:y.filteredPigeons,searchTerm:y.searchTerm,setSearchTerm:y.setSearchTerm,filters:y.filters,setFilters:y.setFilters,showFilters:y.showFilters,setShowFilters:y.setShowFilters,showBreedingModal:x.showBreedingModal,setShowBreedingModal:x.setShowBreedingModal,selectedPigeon:x.selectedPigeon,breedingPartners:x.breedingPartners,selectedPartner:x.selectedPartner,setSelectedPartner:x.setSelectedPartner,breedingLoading:x.breedingLoading,handleBreedingClick:x.handleBreedingClick,handleBreeding:k,selectedPigeonIds:v.selectedPigeonIds,setSelectedPigeonIds:v.setSelectedPigeonIds,showSaveGroupModal:v.showSaveGroupModal,setShowSaveGroupModal:v.setShowSaveGroupModal,groupName:v.groupName,setGroupName:v.setGroupName,groupDescription:v.groupDescription,setGroupDescription:v.setGroupDescription,savingGroup:v.savingGroup,userGroups:v.userGroups,selectedGroup:v.selectedGroup,setSelectedGroup:v.setSelectedGroup,groupPigeons:v.groupPigeons,handleSelectPigeon:v.handleSelectPigeon,handleSaveGroup:v.handleSaveGroup,handleDeletePigeon:j,refreshPigeons:w,getPigeonPicture:Uf}}const _y=["messi","yamal","barcelona","barca"];function eN(i){const n=i.toLowerCase();return _y.some(s=>n.includes(s))}function tN(i){return i.split(/\s+/).map(c=>{const d=c.toLowerCase();return _y.some(v=>d.includes(v.toLowerCase()))?"CR7":c}).join(" ")}function G_(i){if(!i||i.trim()==="")return null;const n=i.trim();return eN(n)?tN(n):n}function nN(i){return i.alias||i.name}const Ht=({value:i,max:n,label:s})=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"w-24 text-xs text-gray-700",children:s}),h.jsx("div",{className:"flex-1 h-3 bg-gray-200 rounded",children:h.jsx("div",{className:"h-3 rounded bg-primary-500",style:{width:`${Math.min(100,i/n*100)}%`}})}),h.jsx("div",{className:"w-10 text-xs text-right text-gray-600",children:i.toFixed(2)})]}),iN=({foodShortageStreak:i,currentHealth:n,className:s=""})=>{if(i===0)return null;const o=v=>v===1?"low":v<=3?"medium":v<=7?"high":"critical",c=v=>{switch(v){case"low":return{icon:"",bgColor:"bg-warning-50",borderColor:"border-warning-200",textColor:"text-warning-700",iconColor:"text-warning-600"};case"medium":return{icon:"",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-700",iconColor:"text-orange-600"};case"high":return{icon:"",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700",iconColor:"text-red-600"};case"critical":return{icon:"",bgColor:"bg-red-100",borderColor:"border-red-300",textColor:"text-red-800",iconColor:"text-red-700"}}},d=o(i),g=c(d);return h.jsxs("div",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${g.bgColor} ${g.borderColor} ${g.textColor} ${s}`,children:[h.jsx("span",{className:"text-xs",children:g.icon}),h.jsxs("span",{children:[i,"d"]}),h.jsx(Vi,{className:`h-3 w-3 ${g.iconColor}`}),h.jsx("span",{children:n})]})},aN=({pigeon:i,selected:n,onSelect:s,onBreed:o,onDelete:c,onEditAlias:d})=>h.jsxs("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:Uf(i),alt:"Pigeon",className:"w-16 h-16 object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:nN(i)}),i.alias&&h.jsxs("p",{className:"text-xs text-gray-500 italic",children:["Original: ",i.name]}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i.gender==="male"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:i.gender==="male"?"":""}),h.jsxs("span",{children:[i.age_years,"y ",i.age_months,"m ",i.age_days,"d"]})]}),h.jsx(iN,{foodShortageStreak:i.food_shortage_streak||0,currentHealth:i.health,className:"mt-1"})]})]}),h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("input",{type:"checkbox",checked:n,onChange:g=>s(i.id,g.target.checked),className:"mr-2"}),h.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:h.jsx(ay,{className:"h-4 w-4"})}),h.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>d(i),title:"Edit Alias",children:h.jsx(aE,{className:"h-4 w-4"})}),h.jsx("button",{className:"p-1 text-pink-400 hover:text-pink-600",onClick:()=>o(i),title:"Breed",children:h.jsx(Vi,{className:"h-4 w-4"})}),h.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>c(i.id),children:h.jsx(oy,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"mb-2 space-y-1",children:[h.jsx(Ht,{value:i.speed,max:i.peak_speed,label:"Speed"}),h.jsx(Ht,{value:i.endurance,max:i.peak_endurance,label:"Endurance"}),h.jsx(Ht,{value:i.sky_iq,max:i.peak_sky_iq,label:"Sky IQ"}),h.jsx(Ht,{value:i.aerodynamics,max:i.peak_aerodynamics,label:"Aerodynamics"}),h.jsx(Ht,{value:i.vision,max:i.peak_vision,label:"Vision"}),h.jsx(Ht,{value:i.wing_power,max:i.peak_wing_power,label:"Wing Power"}),h.jsx(Ht,{value:i.flapacity,max:i.peak_flapacity,label:"Flapacity"}),h.jsx(Ht,{value:i.vanity,max:100,label:"Vanity"}),h.jsx(Ht,{value:i.strength,max:100,label:"Strength"}),h.jsx(Ht,{value:i.aggression,max:100,label:"Aggression"}),h.jsx(Ht,{value:i.landing,max:100,label:"Landing"}),h.jsx(Ht,{value:i.loyalty,max:100,label:"Loyalty"}),h.jsx(Ht,{value:i.health,max:i.peak_health,label:"Health"}),h.jsx(Ht,{value:i.happiness,max:i.peak_happiness,label:"Happiness"}),h.jsx(Ht,{value:i.fertility,max:i.peak_fertility,label:"Fertility"}),h.jsx(Ht,{value:i.disease_resistance,max:i.peak_disease_resistance,label:"Disease Resistance"})]})]}),sN=({pigeon:i,selected:n,onSelect:s,onBreed:o,onDelete:c})=>h.jsxs("div",{className:"card hover:shadow-md transition-shadow duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("input",{type:"checkbox",checked:n,onChange:d=>s(i.id,d.target.checked),className:"mr-2"}),h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("img",{src:Uf(i),alt:"Pigeon",className:"w-16 h-16 object-cover"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:i.name}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[h.jsxs("span",{className:"flex items-center",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium mr-1 ${i.gender==="male"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:i.gender==="male"?"":""}),i.age_years,"y ",i.age_months,"m ",i.age_days,"d"]}),h.jsxs("span",{children:["Speed: ",i.speed.toFixed(2)]}),h.jsxs("span",{children:["Health: ",i.health.toFixed(2)]}),h.jsxs("span",{children:["Endurance: ",i.endurance.toFixed(2)]}),h.jsxs("span",{children:["Sky IQ: ",i.sky_iq.toFixed(2)]})]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("button",{className:"btn-secondary",children:[h.jsx(iy,{className:"h-4 w-4 mr-1"}),"Race"]}),h.jsxs("button",{className:"btn-secondary text-pink-600 hover:text-pink-700",onClick:()=>o(i),children:[h.jsx(Vi,{className:"h-4 w-4 mr-1"}),"Breed"]}),h.jsx("button",{onClick:()=>c(i.id),className:"btn-danger",children:h.jsx(oy,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsx(Ht,{value:i.speed,max:i.peak_speed,label:"Speed"}),h.jsx(Ht,{value:i.health,max:i.peak_health,label:"Health"}),h.jsx(Ht,{value:i.endurance,max:i.peak_endurance,label:"Endurance"}),h.jsx(Ht,{value:i.sky_iq,max:i.peak_sky_iq,label:"Sky IQ"})]})]}),rN=[{key:"speed",label:"Speed"},{key:"endurance",label:"Endurance"},{key:"sky_iq",label:"Sky IQ"},{key:"aerodynamics",label:"Aerodynamics"},{key:"vision",label:"Vision"},{key:"wing_power",label:"Wing Power"},{key:"flapacity",label:"Flapacity"},{key:"vanity",label:"Vanity"},{key:"strength",label:"Strength"},{key:"aggression",label:"Aggression"},{key:"landing",label:"Landing"},{key:"loyalty",label:"Loyalty"},{key:"health",label:"Health"},{key:"happiness",label:"Happiness"},{key:"fertility",label:"Fertility"},{key:"disease_resistance",label:"Disease Resistance"}],oN=({showAdvancedFilters:i,filters:n,setFilters:s,selectedGroup:o,setSelectedGroup:c})=>h.jsxs(h.Fragment,{children:[i&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[rN.map(({key:d,label:g})=>h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1",children:g}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"number",step:"0.01",min:0,max:200,placeholder:"Min",value:n.statFilters?.[d]?.min??"",onChange:v=>{const y=v.target.value===""?void 0:parseFloat(v.target.value);s(x=>({...x,statFilters:{...x.statFilters,[d]:{min:y,max:x.statFilters?.[d]?.max??void 0}}}))},className:"w-20 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",step:"0.01",min:0,max:200,placeholder:"Max",value:n.statFilters?.[d]?.max??"",onChange:v=>{const y=v.target.value===""?void 0:parseFloat(v.target.value);s(x=>({...x,statFilters:{...x.statFilters,[d]:{min:x.statFilters?.[d]?.min??void 0,max:y}}}))},className:"w-20 px-2 py-1 border border-gray-300 rounded"})]})]},d)),h.jsxs("div",{className:"flex flex-col col-span-2",children:[h.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Age Range (Min/Max)"}),h.jsxs("div",{className:"flex space-x-2 items-center",children:[h.jsx("span",{className:"text-xs",children:"Min"}),h.jsx("input",{type:"number",min:0,max:100,placeholder:"Years",value:n.ageRange?.minYears??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,minYears:d.target.value===""?void 0:parseInt(d.target.value),minMonths:g.ageRange?.minMonths??0,minDays:g.ageRange?.minDays??0,maxYears:g.ageRange?.maxYears??100,maxMonths:g.ageRange?.maxMonths??11,maxDays:g.ageRange?.maxDays??30}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",min:0,max:11,placeholder:"Months",value:n.ageRange?.minMonths??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,minMonths:d.target.value===""?void 0:parseInt(d.target.value),minYears:g.ageRange?.minYears??0,minDays:g.ageRange?.minDays??0,maxYears:g.ageRange?.maxYears??100,maxMonths:g.ageRange?.maxMonths??11,maxDays:g.ageRange?.maxDays??30}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",min:0,max:30,placeholder:"Days",value:n.ageRange?.minDays??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,minDays:d.target.value===""?void 0:parseInt(d.target.value),minYears:g.ageRange?.minYears??0,minMonths:g.ageRange?.minMonths??0,maxYears:g.ageRange?.maxYears??100,maxMonths:g.ageRange?.maxMonths??11,maxDays:g.ageRange?.maxDays??30}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"}),h.jsx("span",{className:"text-xs ml-4",children:"Max"}),h.jsx("input",{type:"number",min:0,max:100,placeholder:"Years",value:n.ageRange?.maxYears??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,maxYears:d.target.value===""?void 0:parseInt(d.target.value),minYears:g.ageRange?.minYears??0,minMonths:g.ageRange?.minMonths??0,minDays:g.ageRange?.minDays??0,maxMonths:g.ageRange?.maxMonths??11,maxDays:g.ageRange?.maxDays??30}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",min:0,max:11,placeholder:"Months",value:n.ageRange?.maxMonths??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,maxMonths:d.target.value===""?void 0:parseInt(d.target.value),minYears:g.ageRange?.minYears??0,minMonths:g.ageRange?.minMonths??0,minDays:g.ageRange?.minDays??0,maxYears:g.ageRange?.maxYears??100,maxDays:g.ageRange?.maxDays??30}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",min:0,max:30,placeholder:"Days",value:n.ageRange?.maxDays??"",onChange:d=>s(g=>({...g,ageRange:{...g.ageRange,maxDays:d.target.value===""?void 0:parseInt(d.target.value),minYears:g.ageRange?.minYears??0,minMonths:g.ageRange?.minMonths??0,minDays:g.ageRange?.minDays??0,maxYears:g.ageRange?.maxYears??100,maxMonths:g.ageRange?.maxMonths??11}})),className:"w-16 px-2 py-1 border border-gray-300 rounded"})]})]}),h.jsx("button",{className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",onClick:()=>{s({}),c(null)},children:"Clear All Filters"})]}),h.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[h.jsx("strong",{children:"Active Filters:"}),o&&h.jsxs("span",{className:"ml-1 bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Group: ",o.name]}),Object.keys(n).length>0&&h.jsx("span",{className:"ml-1 bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"Other filters applied"}),!o&&Object.keys(n).length===0&&h.jsx("span",{className:"ml-1",children:"No filters"})]})]}),lN=({open:i,onClose:n,selectedPigeon:s,breedingPartners:o,selectedPartner:c,onSelectPartner:d,onBreed:g,breedingLoading:v,getPigeonPicture:y})=>i?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Breeding Center"}),h.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:h.jsx(cy,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Selected Pigeon"}),h.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("img",{src:y(s),alt:"Pigeon",className:"w-16 h-16 object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-900",children:s.name}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.gender==="male"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:s.gender==="male"?"":""}),h.jsxs("span",{children:["Age: ",s.age_years,"y ",s.age_months,"m ",s.age_days,"d"]}),h.jsxs("span",{children:["Fertility: ",s.fertility.toFixed(2)]})]})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Select Breeding Partner"}),o.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx(Vi,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),h.jsx("p",{children:"No compatible breeding partners found."}),h.jsx("p",{className:"text-sm",children:"Partners must be opposite gender, at least 1 year old, and have fertility above 50."})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-64 overflow-y-auto",children:o.map(x=>h.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${c?.id===x.id?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>d(x),children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("img",{src:y(x),alt:"Pigeon",className:"w-12 h-12 object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:x.name}),h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.gender==="male"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800"}`,children:x.gender==="male"?"":""}),h.jsxs("span",{children:["Fertility: ",x.fertility.toFixed(2)]})]})]})]})},x.id))})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:v,children:"Cancel"}),h.jsx("button",{onClick:g,disabled:!c||v,className:"px-4 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:v?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),h.jsx("span",{children:"Breeding..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Vi,{className:"h-4 w-4"}),h.jsx("span",{children:"Start Breeding"})]})})]})]})}):null,uN=({open:i,groupName:n,groupDescription:s,onGroupNameChange:o,onGroupDescriptionChange:c,onCancel:d,onSave:g,saving:v,canSave:y})=>i?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Save Group"}),h.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Group Name"}),h.jsx("input",{type:"text",value:n,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded mb-4",maxLength:32}),h.jsx("label",{className:"block mb-2 text-sm font-medium",children:"Description (optional)"}),h.jsx("textarea",{value:s,onChange:x=>c(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded mb-4",maxLength:128}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",onClick:d,disabled:v,children:"Cancel"}),h.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",onClick:g,disabled:v||!y,children:v?"Saving...":"Save Group"})]})]})}):null,cN=({open:i,pigeon:n,onClose:s,onSave:o})=>{const[c,d]=N.useState(""),[g,v]=N.useState(!1),[y,x]=N.useState(null);N.useEffect(()=>{i&&n&&(d(n.alias||""),x(null))},[i,n]);const w=z=>{d(z),x(null)},j=async()=>{if(n){v(!0),x(null);try{const z=G_(c);await o(n.id,z),s()}catch(z){x(z instanceof Error?z.message:"Failed to save alias")}finally{v(!1)}}},k=async()=>{if(n){v(!0),x(null);try{await o(n.id,null),s()}catch(z){x(z instanceof Error?z.message:"Failed to clear alias")}finally{v(!1)}}};if(!i||!n)return null;const M=G_(c)!==(n.alias||"");return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Pigeon Alias"}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Original name: ",h.jsx("span",{className:"font-medium",children:n.name})]}),h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Custom Alias:"}),h.jsx("input",{type:"text",value:c,onChange:z=>w(z.target.value),placeholder:"Enter custom name (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:g})]}),y&&h.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:h.jsx("p",{className:"text-sm text-red-800",children:y})}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:g,children:"Cancel"}),n.alias&&h.jsx("button",{onClick:k,className:"px-4 py-2 border border-red-300 rounded-md text-red-700 hover:bg-red-50",disabled:g,children:"Clear Alias"}),h.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:g||!M,children:g?"Saving...":"Save"})]})]})})},dN=({searchTerm:i,onSearchTermChange:n,userGroups:s,selectedGroup:o,onGroupChange:c,onToggleFilters:d})=>h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(QT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search pigeons...",value:i,onChange:g=>n(g.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("select",{value:o?.id||"",onChange:g=>{const v=g.target.value,y=s.find(x=>x.id===v)||null;c(y)},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",children:[h.jsx("option",{value:"",children:"All Pigeons"}),s.map(g=>h.jsxs("option",{value:g.id,children:[g.name," (",g.description?g.description.substring(0,20)+"...":"No description",")"]},g.id))]}),o&&h.jsx("button",{onClick:()=>c(null),className:"p-2 text-gray-400 hover:text-gray-600",title:"Clear group filter",children:h.jsx(cy,{className:"h-4 w-4"})})]}),h.jsxs("button",{onClick:d,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[h.jsx(CT,{className:"h-4 w-4"}),h.jsx("span",{children:"Filters"})]})]}),hN=({user:i})=>{const n=JE(i),[s,o]=N.useState(!1),[c,d]=N.useState(null),g=y=>{d(y),o(!0)},v=async(y,x)=>{await Lo.updatePigeonAlias(y,x),await n.refreshPigeons()};return n.loading?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Pigeon Overview"}),h.jsxs("p",{className:"text-gray-600",children:["Manage your ",n.pigeons.length," pigeons"]})]}),h.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[h.jsx("button",{onClick:()=>n.setViewMode("grid"),className:`p-2 rounded-lg ${n.viewMode==="grid"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.jsx(OT,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>n.setViewMode("list"),className:`p-2 rounded-lg ${n.viewMode==="list"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.jsx(DT,{className:"h-5 w-5"})})]})]}),h.jsxs("div",{className:"card",children:[h.jsx(dN,{searchTerm:n.searchTerm,onSearchTermChange:n.setSearchTerm,userGroups:n.userGroups,selectedGroup:n.selectedGroup,onGroupChange:n.setSelectedGroup,onToggleFilters:()=>n.setShowFilters(!n.showFilters)}),n.showFilters&&h.jsx(oN,{showAdvancedFilters:!1,filters:n.filters,setFilters:n.setFilters,selectedGroup:n.selectedGroup,setSelectedGroup:n.setSelectedGroup})]}),h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",n.filteredPigeons.length," of ",n.pigeons.length," pigeons"]})}),n.selectedPigeonIds.length>0&&h.jsx("button",{className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",onClick:()=>n.setShowSaveGroupModal(!0),disabled:n.userGroups.length>=20,children:"Save as Group"}),n.filteredPigeons.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No pigeons found"}),h.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):h.jsx("div",{className:n.viewMode==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:n.filteredPigeons.map(y=>n.viewMode==="grid"?h.jsx(aN,{pigeon:y,selected:n.selectedPigeonIds.includes(y.id),onSelect:n.handleSelectPigeon,onBreed:n.handleBreedingClick,onDelete:n.handleDeletePigeon,onEditAlias:g},y.id):h.jsx(sN,{pigeon:y,selected:n.selectedPigeonIds.includes(y.id),onSelect:n.handleSelectPigeon,onBreed:n.handleBreedingClick,onDelete:n.handleDeletePigeon},y.id))}),h.jsx(lN,{open:n.showBreedingModal&&!!n.selectedPigeon,onClose:()=>n.setShowBreedingModal(!1),selectedPigeon:n.selectedPigeon,breedingPartners:n.breedingPartners,selectedPartner:n.selectedPartner,onSelectPartner:n.setSelectedPartner,onBreed:n.handleBreeding,breedingLoading:n.breedingLoading,getPigeonPicture:n.getPigeonPicture}),h.jsx(uN,{open:n.showSaveGroupModal,groupName:n.groupName,groupDescription:n.groupDescription,onGroupNameChange:n.setGroupName,onGroupDescriptionChange:n.setGroupDescription,onCancel:()=>n.setShowSaveGroupModal(!1),onSave:n.handleSaveGroup,saving:n.savingGroup,canSave:!!n.groupName.trim()&&n.selectedPigeonIds.length>0&&!n.savingGroup}),h.jsx(cN,{open:s,pigeon:c,onClose:()=>o(!1),onSave:v})]}):h.jsx("div",{className:"text-center py-12 text-red-600",children:"You must be logged in to view this page."})},fN=()=>{const{user:i,gameUser:n,loading:s}=Kn();return s?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i&&!n?h.jsx("div",{className:"text-center py-12 text-blue-600",children:"Loading your profile..."}):!i||!n?h.jsx("div",{className:"text-center py-12 text-red-600",children:"You must be logged in to view this page."}):h.jsx(hN,{user:n})},mN=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-pink-600 to-pink-700 rounded-lg p-6 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Breeding Center"}),h.jsx("p",{className:"text-pink-100",children:"Breed your pigeons to create the next generation of champions!"})]}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Vi,{className:"h-16 w-16 text-pink-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Breeding System Coming Soon"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"The breeding system is currently under development. You'll be able to:"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(Ro,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Pair Selection"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Choose compatible male and female pairs"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(Vi,{className:"h-8 w-8 text-pink-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Breeding Process"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Manage breeding cycles and egg production"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(qc,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Offspring Management"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Raise and train new pigeon generations"})]})]})]})})]});function gN(i){const[n,s]=N.useState(null);return N.useEffect(()=>{let o=!0;async function c(){if(!i){s(!1);return}try{const d=await zf.getHomeBaseByUserId(i.id);o&&s(!!d)}catch{o&&s(!1)}}return c(),()=>{o=!1}},[i]),n}const Ar=()=>h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading Pigeon Prestige..."})]})}),pN=()=>{const{user:i}=Kn(),n=Uo(),s=gN(i);return s===null?h.jsx(Ar,{}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-yellow-600 to-yellow-700 rounded-lg p-6 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Racing Arena"}),h.jsx("p",{className:"text-yellow-100",children:"Compete against other players and prove your pigeons are the fastest!"})]}),!s&&h.jsxs("div",{className:"card bg-warning-50 border border-warning-200 p-6 mb-6 flex flex-col items-center",children:[h.jsx(Rc,{className:"h-8 w-8 text-warning-600 mb-2"}),h.jsx("h3",{className:"text-lg font-semibold text-warning-800 mb-2",children:"Home Base Required"}),h.jsx("p",{className:"text-warning-700 mb-4 text-center",children:"You must set your home base before you can subscribe to a race. Your home base determines your race results and is required for participation."}),h.jsx("button",{className:"btn-primary",onClick:()=>n("/onboarding/home-base"),children:"Set Home Base"})]}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx(uf,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Racing System Coming Soon"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"The racing system is currently under development. You'll be able to:"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(rE,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Race Entry"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Enter your pigeons in various race types"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(Ro,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Multiplayer Racing"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Compete against friends and other players"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(iy,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Rewards & Rankings"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Earn prizes and climb the leaderboards"})]})]})]})})]})},_N=({food:i,inventory:n,quantity:s,onQuantityChange:o,onBuy:c,buying:d,disabled:g})=>h.jsxs("div",{className:"card p-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-1",children:i.name}),h.jsxs("div",{className:"text-green-700 font-bold mb-2",children:["$",i.price]}),i.best_for&&h.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:["Best for: ",i.best_for]}),h.jsx("div",{className:"text-gray-700 mb-2",children:i.description}),h.jsxs("div",{className:"text-sm text-blue-700 mb-2",children:["Inventory: ",n?n.quantity:0]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("input",{type:"number",min:1,value:s,onChange:v=>o(Number(v.target.value)),className:"w-16 px-2 py-1 border rounded","aria-label":`Quantity for ${i.name}`,disabled:d||g}),h.jsx("button",{className:"btn-primary",onClick:c,disabled:d||g,children:d?"Buying...":"Buy"})]})]});function vN(i,n){const[s,o]=N.useState([]),[c,d]=N.useState([]),[g,v]=N.useState(!0),[y,x]=N.useState(null),[w,j]=N.useState(!0),[k,A]=N.useState(null),[M,z]=N.useState({}),[D,I]=N.useState(null),[H,B]=N.useState(null);return N.useEffect(()=>{gt.listFoods().then(oe=>{o(oe),x(null),v(!1)}).catch(oe=>{x(oe.message||"Failed to load foods"),v(!1)})},[]),N.useEffect(()=>{i&&(j(!0),gt.getUserInventory(i.id).then(oe=>{d(oe),A(null),j(!1)}).catch(oe=>{A(oe.message||"Failed to load inventory"),j(!1)}))},[i]),{foods:s,inventory:c,loading:g,error:y,inventoryLoading:w,inventoryError:k,quantities:M,buying:D,buyError:H,handleQuantityChange:(oe,xe)=>{z(Re=>({...Re,[oe]:Math.max(1,xe)}))},handleBuy:async oe=>{if(!i)return;I(oe.id),B(null);const xe=M[oe.id]||1;try{await gt.purchaseFood(i.id,oe,xe),await n();const Re=await gt.getUserInventory(i.id);d(Re)}catch(Re){B(Re.message||"Failed to buy food")}finally{I(null)}}}}const yN=({gameUser:i,refreshUser:n})=>{const s=vN(i,n);return s.loading?h.jsx(Ar,{}):i?s.error?h.jsx("div",{className:"text-center py-12 text-red-600",children:s.error}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Food Shop"}),h.jsx("p",{className:"text-green-100",children:"Buy food for your pigeons and manage your inventory!"}),i&&h.jsxs("div",{className:"mt-4 text-lg font-semibold",children:["Balance: ",h.jsxs("span",{className:"text-yellow-200",children:["$",i.balance.toLocaleString()]})]}),s.inventoryLoading?h.jsx("div",{className:"mt-2 text-sm text-yellow-100",children:"Loading inventory..."}):s.inventoryError?h.jsx("div",{className:"mt-2 text-sm text-red-200",children:s.inventoryError}):null,s.buyError&&h.jsx("div",{className:"mt-2 text-sm text-red-200",children:s.buyError})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.foods.length===0?h.jsx("div",{className:"col-span-full text-center text-gray-500 py-8",children:"No foods available. Please check back later or contact support."}):s.foods.map(o=>{const c=s.inventory.find(d=>d.food_id===o.id);return h.jsx(_N,{food:o,inventory:c,quantity:s.quantities[o.id]||1,onQuantityChange:d=>s.handleQuantityChange(o.id,d),onBuy:()=>s.handleBuy(o),buying:s.buying===o.id,disabled:s.inventoryLoading||!i},o.id)})})]}):h.jsx("div",{className:"text-center py-12 text-red-600",children:"You must be logged in to view this page."})},vy=()=>{const{user:i,gameUser:n,loading:s,refreshUser:o}=Kn();return s?h.jsx(Ar,{}):i&&!n?h.jsx("div",{className:"text-center py-12 text-blue-600",children:"Loading your profile..."}):!i||!n?h.jsx("div",{className:"text-center py-12 text-red-600",children:"You must be logged in to view this page."}):h.jsx(yN,{gameUser:n,refreshUser:o})};function Zf(){const{user:i}=Kn(),[n,s]=N.useState(!1),[o,c]=N.useState("pigeon"),[d,g]=N.useState(null),[v,y]=N.useState([]),[x,w]=N.useState([]),[j,k]=N.useState(""),[A,M]=N.useState(!1),[z,D]=N.useState(null),[I,H]=N.useState(null);return N.useEffect(()=>{!n||!i||Promise.all([Lo.getUserPigeons(i.id),Gs.getGroupsForUser(i.id)]).then(([oe,xe])=>{y(oe||[]),w(xe||[])})},[n,i]),{assignModalOpen:n,setAssignModalOpen:s,assignTargetType:o,setAssignTargetType:c,selectedMix:d,setSelectedMix:g,pigeons:v,groups:x,selectedTargetId:j,setSelectedTargetId:k,assigning:A,assignError:z,assignSuccess:I,openAssignModal:oe=>{g(oe),s(!0),c("pigeon"),k(""),D(null),H(null)},closeAssignModal:()=>{s(!1),g(null),D(null),H(null)},handleConfirmAssign:async()=>{if(!(!d||!j)){M(!0),D(null),H(null);try{o==="pigeon"?await gt.assignMixToPigeon(j,d.id):await gt.assignMixToGroup(j,d.id),H("Mix assigned!"),setTimeout(()=>s(!1),1e3)}catch(oe){D(oe.message||"Failed to assign mix")}finally{M(!1)}}}}}const $f=({open:i,selectedMix:n,assignTargetType:s,setAssignTargetType:o,pigeons:c,groups:d,foods:g,selectedTargetId:v,setSelectedTargetId:y,onCancel:x,onAssign:w,assigning:j,assignError:k,assignSuccess:A})=>!i||!n?null:h.jsx("div",{role:"dialog",className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Assign Food Mix"}),h.jsxs("div",{className:"mb-2",children:["Mix: ",h.jsx("strong",{children:n.name})]}),h.jsx("div",{className:"mb-4 text-sm text-gray-600",children:h.jsx("ul",{className:"list-disc pl-6",children:Object.entries(n.mix_json).map(([M,z])=>{const D=g.find(I=>I.id===M);return D?h.jsxs("li",{children:[D.name,": ",z,"%"]},M):null})})}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("label",{children:[h.jsx("input",{type:"radio",checked:s==="pigeon",onChange:()=>o("pigeon")})," Assign to Pigeon"]}),h.jsxs("label",{style:{marginLeft:16},children:[h.jsx("input",{type:"radio",checked:s==="group",onChange:()=>o("group")})," Assign to Group"]})]}),h.jsx("div",{className:"mb-4",children:s==="pigeon"?h.jsxs("select",{"aria-label":"Select a pigeon",className:"w-full px-2 py-1 border rounded",value:v,onChange:M=>y(M.target.value),children:[h.jsx("option",{value:"",children:"Select a pigeon"}),c.map(M=>h.jsxs("option",{value:M.id,children:[M.name," (",M.gender,", ",M.age_years,"y)"]},M.id))]}):h.jsxs("select",{"aria-label":"Select a group",className:"w-full px-2 py-1 border rounded",value:v,onChange:M=>y(M.target.value),children:[h.jsx("option",{value:"",children:"Select a group"}),d.map(M=>h.jsxs("option",{value:M.id,children:[M.name," (",M.pigeon_count||(M.pigeons?M.pigeons.length:0)," pigeons)"]},M.id))]})}),k&&h.jsx("div",{className:"text-red-600 mb-2",children:k}),A&&h.jsx("div",{className:"text-green-600 mb-2",children:A}),h.jsxs("div",{className:"flex justify-end space-x-2",children:[h.jsx("button",{onClick:x,className:"px-4 py-2 border rounded",disabled:j,children:"Cancel"}),h.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded",disabled:!v||j,children:j?"Assigning...":"Assign"})]})]})}),xN=()=>{const[i,n]=yt.useState([]),[s,o]=yt.useState({}),[c,d]=yt.useState(""),[g,v]=yt.useState([]),[y,x]=yt.useState(!0),[w,j]=yt.useState(null),[k,A]=yt.useState(!1),[M,z]=yt.useState(null),D="me",{user:I}=Kn(),H=Zf(),[B,J]=yt.useState(null);yt.useEffect(()=>{x(!0),Promise.all([gt.listFoods(),gt.listFoodMixes(D)]).then(([fe,Ee])=>{n(fe),v(Ee),j(null);const Ae={};fe.forEach(zt=>{Ae[zt.id]=0}),o(Ae)}).catch(fe=>j(fe.message||"Failed to load food mixer")).finally(()=>x(!1))},[D,I]);const K=Object.values(s).reduce((fe,Ee)=>fe+Ee,0),oe=(fe,Ee)=>{o(Ae=>({...Ae,[fe]:Math.max(0,Math.min(100,Ee))}))},xe=async()=>{A(!0),j(null);try{await gt.createFoodMix(D,c,s);const fe=await gt.listFoodMixes(D);v(fe),d("")}catch(fe){j(fe instanceof Error?fe.message:"Failed to save mix")}finally{A(!1)}},Re=async fe=>{z(fe),j(null);try{await gt.deleteFoodMix(fe);const Ee=await gt.listFoodMixes(D);v(Ee),J(null)}catch(Ee){j(Ee instanceof Error?Ee.message:"Failed to delete mix")}finally{z(null)}},be=fe=>{o({...fe.mix_json}),d(fe.name)};return y?h.jsx("div",{children:"Loading food mixer..."}):w?h.jsx("div",{style:{color:"red"},children:w}):h.jsxs("div",{children:[h.jsx("h3",{children:"Food Mixer"}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("strong",{children:"Create a Mix:"}),h.jsx("div",{children:i.map(fe=>h.jsx("div",{style:{marginBottom:8},children:h.jsxs("label",{children:[fe.name,":",h.jsx("input",{type:"number",min:0,max:100,value:s[fe.id]||0,onChange:Ee=>oe(fe.id,Number(Ee.target.value)),style:{width:60,marginLeft:8},disabled:k}),"%"]})},fe.id))}),h.jsxs("div",{children:["Total: ",K,"%"]}),h.jsx("input",{type:"text",placeholder:"Mix name",value:c,onChange:fe=>d(fe.target.value),style:{marginTop:8,marginBottom:8},disabled:k}),h.jsx("button",{onClick:xe,disabled:K!==100||!c||k,children:k?"Saving...":"Save Mix"})]}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("strong",{children:"Saved Mixes:"}),h.jsx("ul",{children:g.map(fe=>h.jsxs("li",{children:[fe.name," (",Object.entries(fe.mix_json).map(([Ee,Ae])=>`${i.find(zt=>zt.id===Ee)?.name||Ee}: ${Ae}%`).join(", "),")",h.jsx("button",{style:{marginLeft:8},onClick:()=>be(fe),disabled:!1,children:"Apply"}),h.jsx("button",{style:{marginLeft:4},"data-testid":`delete-mix-${fe.id}`,onClick:()=>J(fe.id),disabled:M===fe.id,children:M===fe.id?"Deleting...":"Delete"}),h.jsx("button",{style:{marginLeft:4},onClick:()=>H.openAssignModal(fe),disabled:!1,children:"Assign"}),B===fe.id&&h.jsxs("span",{style:{marginLeft:8},children:["Confirm?"," ",h.jsx("button",{onClick:()=>Re(fe.id),disabled:M===fe.id,children:"Yes"}),h.jsx("button",{onClick:()=>J(null),disabled:M===fe.id,children:"No"})]})]},fe.id))})]}),h.jsx($f,{open:H.assignModalOpen,selectedMix:H.selectedMix,assignTargetType:H.assignTargetType,setAssignTargetType:H.setAssignTargetType,pigeons:H.pigeons,groups:H.groups,foods:i,selectedTargetId:H.selectedTargetId,setSelectedTargetId:H.setSelectedTargetId,onCancel:H.closeAssignModal,onAssign:H.handleConfirmAssign,assigning:H.assigning,assignError:H.assignError,assignSuccess:H.assignSuccess})]})},bN=({showAdvancedFilters:i,filters:n,setFilters:s,selectedGroup:o,setSelectedGroup:c})=>(console.log("GroupFilterPanel filters:",n),h.jsxs(h.Fragment,{children:[i&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Group Name"}),h.jsx("input",{type:"text",placeholder:"Search by name",value:n.name??"",onChange:d=>s(g=>({...g,name:d.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded"})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Group Size (Min/Max)"}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("input",{type:"number",min:1,placeholder:"Min",value:n.minSize??"",onChange:d=>s(g=>({...g,minSize:d.target.value===""?void 0:parseInt(d.target.value)})),className:"w-20 px-2 py-1 border border-gray-300 rounded"}),h.jsx("input",{type:"number",min:1,placeholder:"Max",value:n.maxSize??"",onChange:d=>s(g=>({...g,maxSize:d.target.value===""?void 0:parseInt(d.target.value)})),className:"w-20 px-2 py-1 border border-gray-300 rounded"})]})]}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("label",{className:"text-xs font-medium text-gray-700 mb-1",children:"Tag"}),h.jsx("input",{type:"text",placeholder:"Tag",value:n.tag??"",onChange:d=>s(g=>({...g,tag:d.target.value})),className:"w-full px-2 py-1 border border-gray-300 rounded"})]}),h.jsx("button",{className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",onClick:()=>{s({}),c(null)},children:"Clear All Filters"})]}),h.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[h.jsx("strong",{children:"Active Filters:"}),o&&h.jsxs("span",{className:"ml-1 bg-blue-100 text-blue-800 px-2 py-1 rounded",children:["Group: ",o.name]}),Object.keys(n).length>0&&h.jsx("span",{className:"ml-1 bg-gray-100 text-gray-800 px-2 py-1 rounded",children:"Other filters applied"}),!o&&Object.keys(n).length===0&&h.jsx("span",{className:"ml-1",children:"No filters"})]})]}));function wN(i){const[n,s]=N.useState([]),[o,c]=N.useState([]),[d,g]=N.useState(null),[v,y]=N.useState(""),[x,w]=N.useState(!1),[j,k]=N.useState(!0),[A,M]=N.useState(null),[z,D]=N.useState(!1),[I,H]=N.useState({}),[B,J]=N.useState(!1),[K,oe]=N.useState(null),[xe,Re]=N.useState(""),[be,fe]=N.useState(!1),[Ee,Ae]=N.useState(null),[zt,rt]=N.useState(null);N.useEffect(()=>{k(!0),Promise.all([Gs.getGroupsForUser(i),gt.listFoodMixes(i)]).then(([Le,O])=>{const Q=Le.map(ce=>({...ce,pigeon_count:ce.pigeons?ce.pigeons.length:0,tags:ce.tags||[]}));s(Q),c(O),g(Le[0]||null),y(O[0]?.id||""),M(null)}).catch(Le=>M(Le.message||"Failed to load group feeding")).finally(()=>k(!1))},[i]);const pe=async()=>{w(!0),M(null);try{d&&await gt.applyFoodMixToGroup(d.id,v)}catch(Le){M(Le instanceof Error?Le.message:"Failed to apply mix")}finally{w(!1)}},Y=Le=>{oe(Le),Re(""),J(!0),Ae(null),rt(null)},ue=async()=>{if(!(!K||!xe)){fe(!0),Ae(null),rt(null);try{await gt.assignMixToGroup(K.id,xe),rt("Mix assigned!"),setTimeout(()=>J(!1),1e3)}catch(Le){Ae(Le.message||"Failed to assign mix")}finally{fe(!1)}}},re=n.filter(Le=>!(I.name&&!Le.name.toLowerCase().includes(I.name.toLowerCase())||I.minSize&&(Le.pigeon_count??0)<I.minSize||I.maxSize&&(Le.pigeon_count??0)>I.maxSize||I.tag&&(!Le.tags||!Le.tags.includes(I.tag))));return{groups:n,mixes:o,selectedGroup:d,setSelectedGroup:g,selectedMix:v,setSelectedMix:y,applying:x,loading:j,error:A,showAdvancedFilters:z,setShowAdvancedFilters:D,filters:I,setFilters:H,assignModalOpen:B,setAssignModalOpen:J,assignGroup:K,setAssignGroup:oe,assignMixId:xe,setAssignMixId:Re,assigning:be,assignError:Ee,assignSuccess:zt,handleApply:pe,handleOpenAssignModal:Y,handleConfirmAssign:ue,filteredGroups:re}}const SN=()=>{const i="me",n=wN(i),s=Zf(),[o,c]=N.useState([]);return N.useEffect(()=>{gt.listFoods().then(c)},[]),n.loading?h.jsx("div",{children:"Loading group feeding..."}):n.error?h.jsx("div",{style:{color:"red"},children:n.error}):h.jsxs("div",{children:[h.jsx("h3",{children:"Group Feeding"}),h.jsx("button",{className:"mb-2 px-3 py-1 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>n.setShowAdvancedFilters(d=>!d),children:n.showAdvancedFilters?"Hide Filters":"Show Filters"}),h.jsx(bN,{showAdvancedFilters:n.showAdvancedFilters,filters:n.filters,setFilters:n.setFilters,selectedGroup:n.selectedGroup,setSelectedGroup:n.setSelectedGroup}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsxs("label",{children:["Group:",h.jsx("select",{value:n.selectedGroup?.id||"",onChange:d=>{const g=n.groups.find(v=>v.id===d.target.value)||null;n.setSelectedGroup(g)},children:n.filteredGroups.map(d=>h.jsx("option",{value:d.id,children:d.name},d.id))})]}),h.jsxs("label",{style:{marginLeft:16},children:["Food Mix:",h.jsx("select",{value:n.selectedMix,onChange:d=>n.setSelectedMix(d.target.value),children:n.mixes.map(d=>h.jsx("option",{value:d.id,children:d.name},d.id))})]}),h.jsx("button",{style:{marginLeft:16},onClick:n.handleApply,disabled:n.applying||!n.selectedGroup||!n.selectedMix,children:n.applying?"Applying...":"Apply Mix to Group"})]}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("strong",{children:"Assign Mix to Group:"}),h.jsx("ul",{children:n.filteredGroups.map(d=>h.jsxs("li",{style:{marginBottom:8},children:[d.name," (",d.pigeon_count||0," pigeons)",h.jsx("button",{style:{marginLeft:8},"data-testid":`assign-mix-${d.id}`,onClick:()=>s.openAssignModal({id:"mock-mix",name:"Mock Mix",user_id:i,mix_json:{},created_at:"",updated_at:""}),children:"Assign Mix"})]},d.id))})]}),h.jsx($f,{open:s.assignModalOpen,selectedMix:s.selectedMix,assignTargetType:s.assignTargetType,setAssignTargetType:s.setAssignTargetType,pigeons:s.pigeons,groups:s.groups,foods:o,selectedTargetId:s.selectedTargetId,setSelectedTargetId:s.setSelectedTargetId,onCancel:s.closeAssignModal,onAssign:s.handleConfirmAssign,assigning:s.assigning,assignError:s.assignError,assignSuccess:s.assignSuccess})]})},jN=()=>{const[i,n]=yt.useState([]),[s,o]=yt.useState([]),[c,d]=yt.useState([]),[g,v]=yt.useState([]),[y,x]=yt.useState(""),[w,j]=yt.useState(""),[k,A]=yt.useState(!0),[M,z]=yt.useState(null),D="me";yt.useEffect(()=>{A(!0),Promise.all([Gs.getGroupsForUser(D),gt.listFoodMixes(D),gt.getPigeonFeedHistory("p1")]).then(([H,B,J])=>{n(H),d(B),o([{id:"p1",name:"Sky King",owner_id:"",gender:"male",age_years:1,age_months:0,age_days:0,status:"active",speed:0,endurance:0,sky_iq:0,aerodynamics:0,vision:0,wing_power:0,flapacity:0,vanity:0,strength:0,aggression:0,landing:0,loyalty:0,health:0,happiness:0,fertility:0,disease_resistance:0,peak_speed:0,peak_endurance:0,peak_sky_iq:0,peak_aerodynamics:0,peak_vision:0,peak_wing_power:0,peak_flapacity:0,peak_vanity:0,peak_strength:0,peak_aggression:0,peak_landing:0,peak_loyalty:0,peak_health:0,peak_happiness:0,peak_fertility:0,peak_disease_resistance:0,eggs:0,offspring:0,breeding_quality:0,adaptability:0,recovery_rate:0,laser_focus:0,morale:0,food:0,peak_eggs:0,peak_offspring:0,peak_breeding_quality:0,peak_adaptability:0,peak_recovery_rate:0,peak_laser_focus:0,peak_morale:0,peak_food:0,races_won:0,races_lost:0,total_races:0,best_time:null,total_distance:0,offspring_produced:0,successful_breedings:0,picture_number:1,created_at:"",updated_at:""},{id:"p2",name:"Feather Queen",owner_id:"",gender:"female",age_years:1,age_months:0,age_days:0,status:"active",speed:0,endurance:0,sky_iq:0,aerodynamics:0,vision:0,wing_power:0,flapacity:0,vanity:0,strength:0,aggression:0,landing:0,loyalty:0,health:0,happiness:0,fertility:0,disease_resistance:0,peak_speed:0,peak_endurance:0,peak_sky_iq:0,peak_aerodynamics:0,peak_vision:0,peak_wing_power:0,peak_flapacity:0,peak_vanity:0,peak_strength:0,peak_aggression:0,peak_landing:0,peak_loyalty:0,peak_health:0,peak_happiness:0,peak_fertility:0,peak_disease_resistance:0,eggs:0,offspring:0,breeding_quality:0,adaptability:0,recovery_rate:0,laser_focus:0,morale:0,food:0,peak_eggs:0,peak_offspring:0,peak_breeding_quality:0,peak_adaptability:0,peak_recovery_rate:0,peak_laser_focus:0,peak_morale:0,peak_food:0,races_won:0,races_lost:0,total_races:0,best_time:null,total_distance:0,offspring_produced:0,successful_breedings:0,picture_number:2,created_at:"",updated_at:""}]),v(Array.isArray(J)?J:[]),j("p1"),z(null)}).catch(H=>z(H.message||"Failed to load feeding history")).finally(()=>A(!1))},[D]);const I=g.filter(H=>(!y||H.group_id===y)&&H.pigeon_id===w);return k?h.jsx("div",{children:"Loading feeding history..."}):M?h.jsx("div",{style:{color:"red"},children:M}):h.jsxs("div",{children:[h.jsx("h3",{children:"Feeding History"}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsxs("label",{children:["Group:",h.jsxs("select",{value:y,onChange:H=>x(H.target.value),children:[h.jsx("option",{value:"",children:"All"}),i.map(H=>h.jsx("option",{value:H.id,children:H.name},H.id))]})]}),h.jsxs("label",{style:{marginLeft:16},children:["Pigeon:",h.jsx("select",{value:w,onChange:H=>j(H.target.value),children:s.map(H=>h.jsx("option",{value:H.id,children:H.name},H.id))})]})]}),h.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Date/Time"}),h.jsx("th",{children:"Food Mix"}),h.jsx("th",{children:"Group"}),h.jsx("th",{children:"Status"})]})}),h.jsx("tbody",{children:I.map(H=>h.jsxs("tr",{className:H.food_shortage?"bg-red-50":"",children:[h.jsx("td",{children:new Date(H.applied_at).toLocaleString()}),h.jsx("td",{children:c.find(B=>B.id===H.food_mix_id)?.name||H.food_mix_id}),h.jsx("td",{children:i.find(B=>B.id===H.group_id)?.name||H.group_id}),h.jsx("td",{children:H.food_shortage?h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:" Food Shortage"}):h.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:" Fed"})})]},H.id))})]})]})},TN=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-gray-600 to-gray-700 rounded-lg p-6 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Maintenance Center"}),h.jsx("p",{className:"text-gray-100",children:"Keep your pigeons healthy and in top condition!"})]}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx(uy,{className:"h-16 w-16 text-gray-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Maintenance System Coming Soon"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"The maintenance system is currently under development. You'll be able to:"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(Vi,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Health Management"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Monitor and improve pigeon health"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(sy,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Disease Prevention"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Protect against illnesses and injuries"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(vT,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Training & Recovery"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Train pigeons and manage fatigue"})]})]})]})}),h.jsx(vy,{}),h.jsx(xN,{}),h.jsx(SN,{}),h.jsx(jN,{})]}),EN=()=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 rounded-lg p-6 text-white",children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Pigeon Market"}),h.jsx("p",{className:"text-green-100",children:"Buy, sell, and trade pigeons with other players!"})]}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ry,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Market System Coming Soon"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"The market system is currently under development. You'll be able to:"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(TT,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Buy & Sell"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Trade pigeons for in-game currency"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(uE,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Market Analysis"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Track prices and market trends"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx(Ro,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),h.jsx("h3",{className:"font-medium text-gray-900",children:"Player Trading"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Direct trades with other players"})]})]})]})})]}),Ih={async getGameSettings(){const{data:i,error:n}=await le.from("game_settings").select("*").order("setting_key");if(n)throw console.error("Error fetching game settings:",n),n;return i||[]},async getGameSetting(i){const{data:n,error:s}=await le.from("game_settings").select("setting_value").eq("setting_key",i).single();return s?(console.error(`Error fetching game setting ${i}:`,s),null):n?.setting_value||null},async updateGameSetting(i,n,s){const{error:o}=await le.from("game_settings").upsert({setting_key:i,setting_value:n,description:s||null});if(o)throw console.error(`Error updating game setting ${i}:`,o),o},async getUserPigeonCapInfo(i){const{data:n,error:s}=await le.from("users").select("pigeon_cap").eq("id",i).single();if(s)throw console.error("Error fetching user pigeon cap:",s),s;const{count:o,error:c}=await le.from("pigeons").select("*",{count:"exact",head:!0}).eq("owner_id",i).eq("status","active");if(c)throw console.error("Error counting user pigeons:",c),c;const d=o||0,g=n.pigeon_cap||50,{data:v}=await le.from("transactions").select("created_at").eq("user_id",i).eq("type","pigeon_cap_penalty").order("created_at",{ascending:!1}).limit(1).single(),y=v?.created_at||null,x=y!==null;return{current_pigeons:d,pigeon_cap:g,is_over_cap:d>g,penalty_applied:x,last_penalty_date:y}},async applyPigeonCapPenalty(i){const n=await this.getUserPigeonCapInfo(i);if(!n.is_over_cap)return!1;const{data:s,error:o}=await le.from("pigeons").select("id, health").eq("owner_id",i).eq("status","active");if(o)throw console.error("Error fetching pigeons for penalty:",o),o;for(const d of s||[]){const g=Math.max(d.health-5,0),{error:v}=await le.from("pigeons").update({health:g}).eq("id",d.id);if(v)throw console.error("Error updating pigeon health:",v),v}const{error:c}=await le.from("transactions").insert({user_id:i,type:"pigeon_cap_penalty",amount:-5,description:`Health penalty for exceeding pigeon cap (${n.current_pigeons}/${n.pigeon_cap})`});return c&&console.error("Error logging pigeon cap penalty transaction:",c),!0},async applyPigeonCapPenaltiesForAllUsers(){const{error:i}=await le.rpc("apply_pigeon_cap_penalties");if(i)throw console.error("Error applying pigeon cap penalties:",i),i;const{count:n,error:s}=await le.from("transactions").select("*",{count:"exact",head:!0}).eq("type","pigeon_cap_penalty").gte("created_at",new Date(Date.now()-6e4).toISOString());return s?(console.error("Error counting penalties:",s),0):n||0},async updateUserPigeonCap(i,n){const{error:s}=await le.from("users").update({pigeon_cap:n}).eq("id",i);if(s)throw console.error("Error updating user pigeon cap:",s),s},async getDefaultPigeonCap(){const i=await this.getGameSetting("default_pigeon_cap");return i?parseInt(i,10):50},async getAIPigeonCap(){const i=await this.getGameSetting("ai_pigeon_cap");return i?parseInt(i,10):50},async getHealthPenaltyAmount(){const i=await this.getGameSetting("health_penalty_amount");return i?parseInt(i,10):5},async canUserAddPigeon(i){const n=await this.getUserPigeonCapInfo(i);return{canAdd:n.current_pigeons<n.pigeon_cap,current:n.current_pigeons,cap:n.pigeon_cap}},async getUsersOverPigeonCap(){const{error:i}=await le.from("users").select(`
        id,
        pigeon_cap,
        pigeons!inner(count)
      `).eq("player_type","human").eq("pigeons.status","active");if(i)throw console.error("Error fetching users over pigeon cap:",i),i;const{data:n,error:s}=await le.from("users").select("id, pigeon_cap").eq("player_type","human");if(s)throw console.error("Error fetching users:",s),s;const o=[];for(const c of n||[]){const d=await this.getUserPigeonCapInfo(c.id);d.is_over_cap&&o.push({user_id:c.id,current:d.current_pigeons,cap:d.pigeon_cap})}return o}};function NN(i){const[n,s]=N.useState([]),[o,c]=N.useState(null),[d,g]=N.useState([]),[v,y]=N.useState(!0),[x,w]=N.useState(!1),[j,k]=N.useState(null);N.useEffect(()=>{A(),M()},[]);const A=async()=>{try{const K=await Ih.getGameSettings();s(K)}catch(K){console.error("Error loading game settings:",K)}finally{y(!1)}},M=async()=>{try{const[K,oe]=await Promise.all([Si.getGameTimeState(),Si.getGameTimeLog(5)]);c(K),g(oe)}catch(K){console.error("Error loading game time data:",K)}},z=async(K,oe)=>{w(!0);try{await Ih.updateGameSetting(K,oe),await A()}catch(xe){console.error("Error updating setting:",xe)}finally{w(!1)}};return{gameSettings:n,setGameSettings:s,gameTimeState:o,gameTimeLog:d,loading:v,updating:x,penaltyCount:j,loadGameSettings:A,loadGameTimeData:M,updateSetting:z,applyPigeonCapPenalties:async()=>{w(!0);try{const K=await Ih.applyPigeonCapPenaltiesForAllUsers();k(K),setTimeout(()=>k(null),5e3)}catch(K){console.error("Error applying penalties:",K)}finally{w(!1)}},advanceGameTime:async()=>{w(!0);try{await Si.advanceGameTime(),await M()}catch(K){console.error("Error advancing game time:",K)}finally{w(!1)}},toggleGameTimePause:async()=>{if(o){w(!0);try{await Si.setGameTimePaused(!o.is_paused),await M()}catch(K){console.error("Error toggling game time pause:",K)}finally{w(!1)}}},handleSettingChange:(K,oe)=>{const xe=n.map(Re=>Re.setting_key===K?{...Re,setting_value:oe}:Re);s(xe)},handleSaveSetting:async K=>{const oe=n.find(xe=>xe.setting_key===K);oe&&await z(K,oe.setting_value)},gameUser:i}}const kN=()=>{const{gameUser:i}=Kn(),n=NN(i);return i?.username!=="admin"?h.jsx("div",{className:"card",children:h.jsxs("div",{className:"text-center",children:[h.jsx(sy,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600",children:"You need admin privileges to access this page."})]})}):n.loading?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[h.jsx(qc,{className:"h-6 w-6 text-primary-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Game Time Management"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Current Game Time"}),n.gameTimeState?h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(zc,{className:"h-4 w-4 text-gray-500"}),h.jsx("span",{className:"font-medium",children:new Date(n.gameTimeState.current_game_date).toLocaleDateString("nl-BE",{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"Europe/Brussels"})})]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Updates: ",n.gameTimeState.update_count]}),h.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",n.gameTimeState.is_paused?h.jsx("span",{className:"text-orange-600 font-medium",children:"PAUSED"}):h.jsx("span",{className:"text-green-600 font-medium",children:"RUNNING"})]})]}):h.jsx("div",{className:"text-gray-500",children:"Loading..."})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Controls"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:n.advanceGameTime,disabled:n.updating,className:"btn-primary w-full flex items-center justify-center space-x-2",children:[h.jsx($_,{className:"h-4 w-4"}),h.jsx("span",{children:n.updating?"Advancing...":"Advance 1 Day"})]}),h.jsx("button",{onClick:n.toggleGameTimePause,disabled:n.updating,className:`w-full flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${n.gameTimeState?.is_paused?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-300":"bg-orange-100 text-orange-700 hover:bg-orange-200 border border-orange-300"}`,children:n.gameTimeState?.is_paused?h.jsxs(h.Fragment,{children:[h.jsx($_,{className:"h-4 w-4"}),h.jsx("span",{children:"Resume Time"})]}):h.jsxs(h.Fragment,{children:[h.jsx(YT,{className:"h-4 w-4"}),h.jsx("span",{children:"Pause Time"})]})})]})]})]}),n.gameTimeLog.length>0&&h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Recent Updates"}),h.jsx("div",{className:"space-y-2",children:n.gameTimeLog.map(s=>h.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-gray-50 rounded",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(zc,{className:"h-3 w-3 text-gray-500"}),h.jsx("span",{className:"font-medium",children:new Date(s.game_date).toLocaleDateString()}),h.jsx("span",{className:"text-gray-500",children:"-"}),h.jsx("span",{className:"text-gray-600",children:s.update_type})]}),h.jsx("span",{className:"text-gray-500 text-xs",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[h.jsx(eE,{className:"h-6 w-6 text-primary-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Game Settings"})]}),h.jsx("div",{className:"space-y-4",children:n.gameSettings.map(s=>h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-gray-900",children:s.setting_key}),h.jsx("div",{className:"text-sm text-gray-500",children:s.description})]}),h.jsx("input",{type:"text",value:s.setting_value,onChange:o=>n.handleSettingChange(s.setting_key,o.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg w-32"}),h.jsxs("button",{onClick:()=>n.handleSaveSetting(s.setting_key),disabled:n.updating,className:"btn-primary flex items-center space-x-2",children:[h.jsx(XT,{className:"h-4 w-4"}),h.jsx("span",{children:"Save"})]})]},s.setting_key))})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[h.jsx(Ro,{className:"h-6 w-6 text-primary-600"}),h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pigeon Cap Management"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Apply Penalties"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Manually apply pigeon cap penalties to all users who exceed their limit."}),h.jsxs("button",{onClick:n.applyPigeonCapPenalties,disabled:n.updating,className:"btn-danger w-full flex items-center justify-center space-x-2",children:[h.jsx(Rc,{className:"h-4 w-4"}),h.jsx("span",{children:n.updating?"Applying...":"Apply Penalties"})]}),n.penaltyCount!==null&&h.jsxs("div",{className:"mt-2 text-green-600 text-sm",children:[n.penaltyCount," users penalized."]})]}),h.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"System Info"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(ST,{className:"h-5 w-5 text-gray-500"}),h.jsx("span",{className:"text-gray-700",children:"Game settings and penalties are managed here."})]})]})]})]})]})},AN=()=>{const[i,n]=N.useState(""),[s,o]=N.useState(""),[c,d]=N.useState(!1),[g,v]=N.useState(!0);if(N.useEffect(()=>{(async()=>{try{const[j,k,A]=await Promise.all([Si.getCurrentGameDate(),Si.getTimeUntilNextUpdate(),Si.isGameTimePaused()]);n(j),o(k),d(A)}catch(j){console.error("Error fetching game time:",j),n("1900-01-01"),o("Unknown")}finally{v(!1)}})();const w=setInterval(()=>{Si.getTimeUntilNextUpdate().then(o)},6e4);return()=>clearInterval(w)},[]),g)return h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[h.jsx(zc,{className:"h-4 w-4 animate-pulse"}),h.jsx("span",{children:"Loading..."})]});const y=Si.formatGameDate(i);return h.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[h.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[h.jsx(zc,{className:"h-4 w-4"}),h.jsx("span",{className:"font-medium",children:y})]}),h.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[h.jsx(qc,{className:"h-4 w-4"}),h.jsx("span",{children:c?h.jsx("span",{className:"text-orange-600 font-medium",children:"PAUSED"}):`Next: ${s}`})]})]})},qi=({children:i})=>{console.log("Layout render");const{gameUser:n,signOut:s}=Kn(),o=Ka(),c=[{name:"Home",href:"/",icon:RT},{name:"Pigeons",href:"/pigeons",icon:Ro},{name:"Breeding",href:"/breeding",icon:Vi},{name:"Racing",href:"/racing",icon:uf},{name:"Competition",href:"/competition",icon:uf},{name:"Maintenance",href:"/maintenance",icon:uy},{name:"Market",href:"/market",icon:ry},{name:"Feeding Center",href:"/feeding-center",icon:Ro},{name:" Components",href:"/component-library",icon:GT}],d=g=>o.pathname===g;return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-30",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("h1",{className:"text-2xl font-bold text-primary-600",children:" Pigeon Prestige"})}),h.jsx("div",{className:"flex-1 flex justify-center",children:h.jsx(AN,{})}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[h.jsx(ly,{className:"h-4 w-4"}),h.jsx("span",{className:"font-medium",children:n?.username})]}),h.jsxs("div",{className:"text-sm text-gray-500",children:["$",n?.balance?.toLocaleString()]}),h.jsxs("button",{onClick:s,className:"flex items-center space-x-1 text-gray-500 hover:text-gray-700 transition-colors",children:[h.jsx($T,{className:"h-4 w-4"}),h.jsx("span",{children:"Logout"})]})]})]})})}),h.jsxs("div",{className:"flex",children:[h.jsx("nav",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen sticky top-16 z-20 h-[calc(100vh-4rem)]",children:h.jsx("div",{className:"p-4",children:h.jsx("nav",{className:"space-y-2",children:c.map(g=>{const v=g.icon;return h.jsxs(bf,{to:g.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d(g.href)?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[h.jsx(v,{className:"h-5 w-5"}),h.jsx("span",{children:g.name})]},g.name)})})})}),h.jsx("main",{className:"flex-1 p-6",children:i})]})]})},CN=()=>h.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Pigeon Racing Game - Component Library"}),h.jsx("p",{className:"text-gray-600",children:"Professional Tailwind CSS components for the pigeon racing game"})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Buttons"}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsx("button",{className:"btn-primary",children:"Primary Button"}),h.jsx("button",{className:"btn-secondary",children:"Secondary Button"}),h.jsx("button",{className:"btn-success",children:"Success Button"}),h.jsx("button",{className:"btn-warning",children:"Warning Button"}),h.jsx("button",{className:"btn-danger",children:"Danger Button"}),h.jsx("button",{className:"btn-outline",children:"Outline Button"})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[h.jsx("button",{className:"btn-primary btn-sm",children:"Small Primary"}),h.jsx("button",{className:"btn-primary btn-lg",children:"Large Primary"}),h.jsx("button",{className:"btn-primary",disabled:!0,children:"Disabled"})]})]})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Cards"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"card-header",children:[h.jsx("h3",{className:"card-title",children:"Basic Card"}),h.jsx("p",{className:"card-subtitle",children:"Simple card with header"})]}),h.jsx("p",{className:"text-gray-600",children:"This is a basic card component with header and content."})]}),h.jsxs("div",{className:"pigeon-card",children:[h.jsx("img",{src:"/assets/pigeons/1.png",alt:"Pigeon",className:"pigeon-image",onError:i=>{i.currentTarget.style.display="none"}}),h.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Racing Pigeon"}),h.jsxs("div",{className:"pigeon-stats",children:[h.jsxs("div",{className:"pigeon-stat",children:[h.jsx("span",{className:"pigeon-stat-label",children:"Speed:"}),h.jsx("span",{className:"pigeon-stat-value",children:"85"})]}),h.jsxs("div",{className:"pigeon-stat",children:[h.jsx("span",{className:"pigeon-stat-label",children:"Stamina:"}),h.jsx("span",{className:"pigeon-stat-value",children:"92"})]})]})]}),h.jsxs("div",{className:"market-item",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Market Item"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Premium racing pigeon for sale"}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"market-price",children:"$1,250"}),h.jsx("button",{className:"btn-primary btn-sm",children:"Buy Now"})]})]})]})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Forms"}),h.jsx("div",{className:"card max-w-md",children:h.jsxs("form",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"form-label",children:"Email Address"}),h.jsx("input",{type:"email",className:"form-input",placeholder:"Enter your email"}),h.jsx("p",{className:"form-help",children:"We'll never share your email with anyone else."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"form-label",children:"Password"}),h.jsx("input",{type:"password",className:"form-input",placeholder:"Enter your password"}),h.jsx("p",{className:"form-error",children:"Password is required"})]}),h.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Submit"})]})})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Stat Bars"}),h.jsxs("div",{className:"card max-w-md space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{children:"Base Stats"}),h.jsx("span",{children:"85%"})]}),h.jsx("div",{className:"stat-bar",children:h.jsx("div",{className:"stat-fill-base",style:{width:"85%"}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{children:"Evolution"}),h.jsx("span",{children:"92%"})]}),h.jsx("div",{className:"stat-bar",children:h.jsx("div",{className:"stat-fill-evolution",style:{width:"92%"}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{children:"Warning Level"}),h.jsx("span",{children:"45%"})]}),h.jsx("div",{className:"stat-bar",children:h.jsx("div",{className:"stat-fill-warning",style:{width:"45%"}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{children:"Danger Level"}),h.jsx("span",{children:"15%"})]}),h.jsx("div",{className:"stat-bar",children:h.jsx("div",{className:"stat-fill-danger",style:{width:"15%"}})})]})]})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Navigation"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"flex space-x-4",children:[h.jsxs("a",{href:"#",className:"nav-link-active",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),"Home"]}),h.jsxs("a",{href:"#",className:"nav-link-inactive",children:[h.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Racing"]}),h.jsxs("a",{href:"#",className:"nav-link-inactive",children:[h.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:[h.jsx("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),h.jsx("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"})]}),"Market"]})]})})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Badges"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx("span",{className:"badge-primary",children:"Primary"}),h.jsx("span",{className:"badge-success",children:"Success"}),h.jsx("span",{className:"badge-warning",children:"Warning"}),h.jsx("span",{className:"badge-danger",children:"Danger"}),h.jsx("span",{className:"badge-gray",children:"Gray"})]})})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Loading States"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"loading-spinner w-6 h-6"}),h.jsx("span",{className:"text-sm text-gray-600",children:"Loading..."})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsxs("div",{className:"loading-dots",children:[h.jsx("div",{className:"loading-dot"}),h.jsx("div",{className:"loading-dot"}),h.jsx("div",{className:"loading-dot"})]}),h.jsx("span",{className:"text-sm text-gray-600",children:"Processing..."})]})]})})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Race Track"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"race-track",children:[h.jsx("div",{className:"race-lane",children:h.jsx("div",{className:"race-pigeon",style:{left:"75%"}})}),h.jsx("div",{className:"race-lane",children:h.jsx("div",{className:"race-pigeon",style:{left:"60%"}})}),h.jsx("div",{className:"race-lane",children:h.jsx("div",{className:"race-pigeon",style:{left:"85%"}})})]})})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Color Palette"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:["primary","pigeon","success","warning","danger"].map(i=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 capitalize",children:i}),[50,100,200,300,400,500,600,700,800,900].map(n=>h.jsx("div",{className:`w-full h-8 rounded border border-gray-200 bg-${i}-${n}`,title:`${i}-${n}`},n))]},i))})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Animations"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"flex items-center space-x-8",children:[h.jsx("div",{className:"animate-fade-in",children:h.jsx("div",{className:"w-16 h-16 bg-primary-500 rounded-lg"})}),h.jsx("div",{className:"animate-slide-up",children:h.jsx("div",{className:"w-16 h-16 bg-success-500 rounded-lg"})}),h.jsx("div",{className:"animate-bounce-gentle",children:h.jsx("div",{className:"w-16 h-16 bg-warning-500 rounded-lg"})}),h.jsx("div",{className:"animate-pulse-slow",children:h.jsx("div",{className:"w-16 h-16 bg-danger-500 rounded-lg"})})]})})]})]})}),MN=({mixes:i,foods:n,onApply:s,onDelete:o,onAssign:c,deletingId:d,confirmDeleteId:g,setConfirmDeleteId:v})=>{const[y,x]=N.useState(""),[w,j]=N.useState("az"),k=i.filter(A=>A.name.toLowerCase().includes(y.toLowerCase())).sort((A,M)=>w==="az"?A.name.localeCompare(M.name):M.name.localeCompare(A.name));return h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Saved Mixes"}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("input",{type:"text",placeholder:"Filter by name...",value:y,onChange:A=>x(A.target.value),className:"px-2 py-1 border rounded text-sm",style:{minWidth:120}}),h.jsxs("select",{value:w,onChange:A=>j(A.target.value),className:"px-2 py-1 border rounded text-sm",children:[h.jsx("option",{value:"az",children:"Sort: Name A-Z"}),h.jsx("option",{value:"za",children:"Sort: Name Z-A"})]})]}),k.length===0?h.jsx("div",{className:"text-gray-400",children:"No saved mixes found."}):h.jsx("div",{className:"flex flex-wrap gap-4",children:k.map(A=>h.jsxs("div",{className:"border rounded min-w-[200px] max-w-xs p-2 flex-shrink-0 bg-white shadow-sm",style:{fontSize:"0.95rem"},children:[h.jsx("div",{className:"font-semibold mb-1 truncate",title:A.name,children:A.name}),h.jsx("ul",{className:"list-disc pl-4 text-xs mb-2",children:Object.entries(A.mix_json).map(([M,z])=>{const D=n.find(I=>I.id===M);return D?h.jsxs("li",{children:[D.name,": ",z,"%"]},M):null})}),h.jsxs("div",{className:"flex gap-1 flex-wrap",children:[h.jsx("button",{className:"btn-primary btn-xs",onClick:()=>s(A),children:"Apply"}),h.jsx("button",{className:"btn-danger btn-xs",onClick:()=>v(A.id),disabled:d===A.id,children:d===A.id?"Deleting...":"Delete"}),h.jsx("button",{className:"btn-secondary btn-xs",onClick:()=>c(A),children:"Assign"}),g===A.id&&h.jsxs("span",{className:"ml-1",children:["Confirm?"," ",h.jsx("button",{onClick:()=>o(A.id),disabled:d===A.id,children:"Yes"}),h.jsx("button",{onClick:()=>v(null),disabled:d===A.id,children:"No"})]})]})]},A.id))})]})},ON=({gameUser:i})=>{const[n,s]=N.useState([]),[o,c]=N.useState({}),[d,g]=N.useState(""),[v,y]=N.useState(!0),[x,w]=N.useState(null),[j,k]=N.useState(null),[A,M]=N.useState(null),[z,D]=N.useState([]),[I,H]=N.useState(null),[B,J]=N.useState(null),K=Zf();N.useEffect(()=>{console.log("FeedingCenterMain: loading foods, loading state:",v),gt.listFoods().then(pe=>{s(pe),w(null),y(!1),console.log("FeedingCenterMain: foods loaded",pe)}).catch(pe=>{w(pe.message||"Failed to load foods"),y(!1),console.error("FeedingCenterMain: error loading foods",pe)})},[v]),N.useEffect(()=>{console.log("FeedingCenterMain: gameUser",i),i&&gt.listFoodMixes(i.id).then(pe=>{D(pe),w(null),y(!1),console.log("FeedingCenterMain: mixes loaded",pe)}).catch(pe=>{w(pe.message||"Failed to load saved mixes"),y(!1),console.error("FeedingCenterMain: error loading mixes",pe)})},[i]);const oe=pe=>{c(Y=>({...Y,[pe]:Y[pe]||1}))},xe=pe=>{c(Y=>{const ue={...Y};return delete ue[pe],ue})},Re=(pe,Y)=>{c(ue=>({...ue,[pe]:Math.max(0,Math.min(100,Y))}))},be=Object.values(o).reduce((pe,Y)=>pe+Y,0),fe=d.trim().length>0&&Object.keys(o).length>0&&be===100,Ee=async()=>{if(k(null),M(null),!(!fe||!i))try{await gt.createFoodMix(i.id,d.trim(),o),M("Mix saved!"),c({}),g("");const pe=await gt.listFoodMixes(i.id);D(pe)}catch(pe){k(pe.message||"Failed to save mix")}},Ae=pe=>{c({...pe.mix_json}),g(pe.name)},zt=async pe=>{H(pe),k(null);try{await gt.deleteFoodMix(pe);const Y=await gt.listFoodMixes(i.id);D(Y),J(null)}catch(Y){k(Y.message||"Failed to delete mix")}finally{H(null)}},rt=pe=>{K.openAssignModal(pe)};return v?h.jsx(Ar,{}):x?h.jsx("div",{className:"text-center text-red-600 py-8",children:x}):h.jsxs("div",{className:"max-w-2xl mx-auto py-12",children:[h.jsx(MN,{mixes:z,foods:n,onApply:Ae,onDelete:zt,onAssign:rt,deletingId:I,confirmDeleteId:B,setConfirmDeleteId:J}),h.jsx($f,{open:K.assignModalOpen,selectedMix:K.selectedMix,assignTargetType:K.assignTargetType,setAssignTargetType:K.setAssignTargetType,pigeons:K.pigeons,groups:K.groups,foods:n,selectedTargetId:K.selectedTargetId,setSelectedTargetId:K.setSelectedTargetId,onCancel:K.closeAssignModal,onAssign:K.handleConfirmAssign,assigning:K.assigning,assignError:K.assignError,assignSuccess:K.assignSuccess}),h.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Feeding Center"}),h.jsx("p",{className:"text-gray-600 mb-6 text-center",children:"Mix, save, and apply custom food blends to your pigeons and groups."}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Available Foods"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map(pe=>h.jsxs("div",{className:"border rounded p-3 flex flex-col items-center",children:[h.jsx("div",{className:"font-medium mb-1",children:pe.name}),h.jsx("div",{className:"text-xs text-gray-500 mb-2",children:pe.description}),o[pe.id]?h.jsx("button",{className:"text-red-600 text-xs",onClick:()=>xe(pe.id),children:"Remove from Mix"}):h.jsx("button",{className:"btn-primary text-xs",onClick:()=>oe(pe.id),children:"Add to Mix"})]},pe.id))})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Current Mix"}),Object.keys(o).length===0?h.jsx("div",{className:"text-gray-400",children:"No foods selected. Add foods to start your mix."}):h.jsxs("div",{className:"space-y-3",children:[Object.entries(o).map(([pe,Y])=>{const ue=n.find(re=>re.id===pe);return ue?h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-32 font-medium",children:ue.name}),h.jsx("input",{type:"number",min:0,max:100,value:Y,onChange:re=>Re(pe,Number(re.target.value)),className:"w-20 px-2 py-1 border rounded","aria-label":`Percent for ${ue.name}`}),h.jsx("span",{className:"text-xs text-gray-500",children:"%"}),h.jsx("button",{className:"text-red-500 text-xs",onClick:()=>xe(pe),children:"Remove"})]},pe):null}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:"font-semibold",children:"Total:"}),h.jsxs("span",{className:be===100?"text-green-600":"text-red-600",children:[be,"%"]}),be!==100&&h.jsx("span",{className:"text-xs text-red-500",children:"(Must total 100%)"})]})]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Mix Name"}),h.jsx("input",{type:"text",value:d,onChange:pe=>g(pe.target.value),className:"w-full px-3 py-2 border rounded mb-2",placeholder:"Enter a name for your mix",maxLength:32})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Live Preview"}),Object.keys(o).length===0?h.jsx("div",{className:"text-gray-400",children:"No mix to preview."}):h.jsx("ul",{className:"list-disc pl-6",children:Object.entries(o).map(([pe,Y])=>{const ue=n.find(re=>re.id===pe);return ue?h.jsxs("li",{children:[ue.name,": ",Y,"%"]},pe):null})})]}),h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("button",{className:`btn-primary ${fe?"":"opacity-50 cursor-not-allowed"}`,disabled:!fe,onClick:Ee,children:"Save Mix"}),j&&h.jsx("div",{className:"text-red-600 mt-2",children:j}),A&&h.jsx("div",{className:"text-green-600 mt-2",children:A})]})]})},LN=()=>{const{user:i,gameUser:n,loading:s}=Kn();return s?h.jsx(Ar,{}):i&&!n?h.jsx("div",{className:"text-center py-12 text-blue-600",children:"Loading your profile..."}):!i||!n?h.jsx("div",{className:"text-center py-12 text-red-600",children:"You must be logged in to view this page."}):h.jsx(ON,{gameUser:n})},F_=Xa({id:Ie(),name:Ie(),type:Jl(["pro","2a","2b","international"]),is_active:Lf(),created_at:Ie()});Xa({id:Ie(),name:Ie(),start_date:Ie(),end_date:Ie(),is_active:Lf(),created_at:Ie()});const Y_=Xa({user_id:Ie(),league_id:Ie(),season_id:Ie(),joined_at:Ie(),is_ai:Lf(),last_active:Ie().nullable()}),zN=Xa({user_id:Ie(),league_id:Ie(),season_id:Ie(),points:ge(),position:ge().nullable(),tiebreaker_points:ge(),updated_at:Ie()}),RN=Xa({id:ge(),name:Ie()}),V_={async getLeagues(){const{data:i,error:n}=await le.from("leagues").select("*");if(n)throw n;return F_.array().parse(i)},async getLeagueAssignments(i){const{data:n,error:s}=await le.from("league_assignments").select("*").eq("season_id",i);if(s)throw s;return Y_.array().parse(n)},async getLeastFilledSecondDivision(i){const{data:n,error:s}=await le.from("leagues").select("*").in("type",["2a","2b"]).eq("is_active",!0);if(s)throw s;if(!n)return null;let o=1/0,c=null;for(const d of n){const{count:g}=await le.from("league_assignments").select("*",{count:"exact",head:!0}).eq("league_id",d.id).eq("season_id",i);(g??0)<o&&(o=g??0,c=F_.parse(d))}return c},async assignUserToLeague(i,n,s){const o=await this.getLeastFilledSecondDivision(n);if(!o)throw new Error("No available 2nd division league");const{count:c}=await le.from("league_assignments").select("*",{count:"exact",head:!0}).eq("league_id",o.id).eq("season_id",n);if((c??0)>=20)throw new Error("All 2nd division leagues are full");const{data:d,error:g}=await le.from("league_assignments").insert({user_id:i,league_id:o.id,season_id:n,is_ai:s,last_active:new Date().toISOString()}).select().single();if(g)throw g;return Y_.parse(d)},async fillLeaguesWithAI(){const{data:i}=await le.from("leagues").select("*").in("type",["2a","2b"]);if(i)for(const n of i){const{count:s}=await le.from("league_assignments").select("*",{count:"exact",head:!0}).eq("league_id",n.id)}},async getStandings(i,n){const{data:s,error:o}=await le.from("standings").select("*").eq("league_id",i).eq("season_id",n).order("position",{ascending:!0});if(o)throw o;return zN.array().parse(s)},async updateStandings(i,n,s){for(const o of s)await le.from("standings").upsert({user_id:o.user_id,league_id:i,season_id:n,points:o.points,tiebreaker_points:o.tiebreaker_points??0,updated_at:new Date().toISOString()})},async handleSeasonTransition(){const i=async be=>{for(const fe of be){const{error:Ee}=await le.from("pigeons").delete().eq("owner_id",fe);Ee?console.error(`Failed to retire pigeons for user ${fe}:`,Ee):console.log(`Retired all pigeons for user ${fe}`)}},n=await this.getLeagues(),s=n.find(be=>be.type==="pro"),o=n.find(be=>be.type==="2a"),c=n.find(be=>be.type==="2b");if(!s||!o||!c)throw new Error("Required leagues not found");const d="CURRENT_SEASON_ID",g=await this.getStandings(s.id,d),v=await this.getStandings(o.id,d),y=await this.getStandings(c.id,d),x=(be,fe)=>fe.points-be.points||fe.tiebreaker_points-be.tiebreaker_points;g.sort(x),v.sort(x),y.sort(x);const w=g.slice(-4),j=v.slice(0,2),k=y.slice(0,2),A=`Season ${Date.now()}`,z=(await le.from("seasons").insert({name:A,start_date:new Date().toISOString().slice(0,10),end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().slice(0,10),is_active:!0}).select().single()).data?.id||"NEW_SEASON_ID",D=[],H=[...g.slice(0,16),...j,...k];for(const be of H)D.push({user_id:be.user_id,league_id:s.id,season_id:z,is_ai:!1,last_active:new Date().toISOString()});const B=[...v.slice(2,20),...w.slice(0,2)];for(const be of B)D.push({user_id:be.user_id,league_id:o.id,season_id:z,is_ai:!1,last_active:new Date().toISOString()});const J=[...y.slice(2,20),...w.slice(2,4)];for(const be of J)D.push({user_id:be.user_id,league_id:c.id,season_id:z,is_ai:!1,last_active:new Date().toISOString()});const K=async(be,fe)=>{if(fe<=0)return;const Ee=await this.getAvailableAINames();for(let Ae=0;Ae<fe;Ae++){const zt=Ee[Ae%Ee.length]?.name||`AI Player ${Date.now()}_${Ae}`,{data:rt,error:pe}=await le.from("users").insert({username:zt,email:`ai_${Date.now()}_${Ae}@ai.pigeon`,player_type:"ai",balance:1e3,total_pigeons:0,pigeon_cap:50,level:1,experience:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(pe||!rt){console.error("Failed to create AI user:",pe);continue}D.push({user_id:rt.id,league_id:be,season_id:z,is_ai:!0,last_active:new Date().toISOString()})}};await K(s.id,20-H.length),await K(o.id,20-B.length),await K(c.id,20-J.length);const oe=new Date(Date.now()-60*24*60*60*1e3).toISOString(),{data:xe}=await le.from("league_assignments").select("user_id").eq("season_id",d).eq("is_ai",!1).lt("last_active",oe),Re=(xe??[]).map(be=>be.user_id);if(Re.length>0){await i(Re);for(const be of[s,o,c])for(let fe=D.length-1;fe>=0;fe--)D[fe].league_id===be.id&&Re.includes(D[fe].user_id)&&D.splice(fe,1);for(const be of[s,o,c]){const fe=D.filter(Ee=>Ee.league_id===be.id).length;await K(be.id,20-fe)}console.log("Replaced inactive users with AI:",Re)}for(const be of D)await le.from("league_assignments").upsert(be);console.log("Season transition complete. New assignments:",D.length)},async getAvailableAINames(){const{data:i,error:n}=await le.from("ai_names").select("*");if(n)throw n;return RN.array().parse(i)}};var Gl={exports:{}};Gl.exports;var K_;function PN(){return K_||(K_=1,function(i,n){var s=200,o="__lodash_hash_undefined__",c=1,d=2,g=9007199254740991,v="[object Arguments]",y="[object Array]",x="[object AsyncFunction]",w="[object Boolean]",j="[object Date]",k="[object Error]",A="[object Function]",M="[object GeneratorFunction]",z="[object Map]",D="[object Number]",I="[object Null]",H="[object Object]",B="[object Promise]",J="[object Proxy]",K="[object RegExp]",oe="[object Set]",xe="[object String]",Re="[object Symbol]",be="[object Undefined]",fe="[object WeakMap]",Ee="[object ArrayBuffer]",Ae="[object DataView]",zt="[object Float32Array]",rt="[object Float64Array]",pe="[object Int8Array]",Y="[object Int16Array]",ue="[object Int32Array]",re="[object Uint8Array]",Le="[object Uint8ClampedArray]",O="[object Uint16Array]",Q="[object Uint32Array]",ce=/[\\^$.*+?()[\]{}|]/g,de=/^\[object .+?Constructor\]$/,_e=/^(?:0|[1-9]\d*)$/,he={};he[zt]=he[rt]=he[pe]=he[Y]=he[ue]=he[re]=he[Le]=he[O]=he[Q]=!0,he[v]=he[y]=he[Ee]=he[w]=he[Ae]=he[j]=he[k]=he[A]=he[z]=he[D]=he[H]=he[K]=he[oe]=he[xe]=he[fe]=!1;var me=typeof _c=="object"&&_c&&_c.Object===Object&&_c,pt=typeof self=="object"&&self&&self.Object===Object&&self,Ze=me||pt||Function("return this")(),Pn=n&&!n.nodeType&&n,Xi=Pn&&!0&&i&&!i.nodeType&&i,ji=Xi&&Xi.exports===Pn,Xn=ji&&me.process,Wi=function(){try{return Xn&&Xn.binding&&Xn.binding("util")}catch{}}(),Wa=Wi&&Wi.isTypedArray;function Cr(C,Z){for(var ne=-1,ve=C==null?0:C.length,Qe=0,Ue=[];++ne<ve;){var it=C[ne];Z(it,ne,C)&&(Ue[Qe++]=it)}return Ue}function Mr(C,Z){for(var ne=-1,ve=Z.length,Qe=C.length;++ne<ve;)C[Qe+ne]=Z[ne];return C}function _n(C,Z){for(var ne=-1,ve=C==null?0:C.length;++ne<ve;)if(Z(C[ne],ne,C))return!0;return!1}function Qa(C,Z){for(var ne=-1,ve=Array(C);++ne<C;)ve[ne]=Z(ne);return ve}function Or(C){return function(Z){return C(Z)}}function Ys(C,Z){return C.has(Z)}function Qi(C,Z){return C?.[Z]}function Lr(C){var Z=-1,ne=Array(C.size);return C.forEach(function(ve,Qe){ne[++Z]=[Qe,ve]}),ne}function Vs(C,Z){return function(ne){return C(Z(ne))}}function Ho(C){var Z=-1,ne=Array(C.size);return C.forEach(function(ve){ne[++Z]=ve}),ne}var qo=Array.prototype,Ti=Function.prototype,Rt=Object.prototype,jn=Ze["__core-js_shared__"],Vt=Ti.toString,Tn=Rt.hasOwnProperty,Ks=function(){var C=/[^.]+$/.exec(jn&&jn.keys&&jn.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),zr=Rt.toString,xa=RegExp("^"+Vt.call(Tn).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ei=ji?Ze.Buffer:void 0,En=Ze.Symbol,ba=Ze.Uint8Array,Dn=Rt.propertyIsEnumerable,Io=qo.splice,hi=En?En.toStringTag:void 0,Ja=Object.getOwnPropertySymbols,es=Ei?Ei.isBuffer:void 0,Ji=Vs(Object.keys,Object),Xs=Zn(Ze,"DataView"),ea=Zn(Ze,"Map"),ts=Zn(Ze,"Promise"),wa=Zn(Ze,"Set"),Sa=Zn(Ze,"WeakMap"),ta=Zn(Object,"create"),Ws=hn(Xs),fi=hn(ea),Bt=hn(ts),Kt=hn(wa),na=hn(Sa),ln=En?En.prototype:void 0,je=ln?ln.valueOf:void 0;function mi(C){var Z=-1,ne=C==null?0:C.length;for(this.clear();++Z<ne;){var ve=C[Z];this.set(ve[0],ve[1])}}function Qs(){this.__data__=ta?ta(null):{},this.size=0}function ia(C){var Z=this.has(C)&&delete this.__data__[C];return this.size-=Z?1:0,Z}function ns(C){var Z=this.__data__;if(ta){var ne=Z[C];return ne===o?void 0:ne}return Tn.call(Z,C)?Z[C]:void 0}function gi(C){var Z=this.__data__;return ta?Z[C]!==void 0:Tn.call(Z,C)}function Ni(C,Z){var ne=this.__data__;return this.size+=this.has(C)?0:1,ne[C]=ta&&Z===void 0?o:Z,this}mi.prototype.clear=Qs,mi.prototype.delete=ia,mi.prototype.get=ns,mi.prototype.has=gi,mi.prototype.set=Ni;function At(C){var Z=-1,ne=C==null?0:C.length;for(this.clear();++Z<ne;){var ve=C[Z];this.set(ve[0],ve[1])}}function ki(){this.__data__=[],this.size=0}function Ct(C){var Z=this.__data__,ne=Bn(Z,C);if(ne<0)return!1;var ve=Z.length-1;return ne==ve?Z.pop():Io.call(Z,ne,1),--this.size,!0}function Rr(C){var Z=this.__data__,ne=Bn(Z,C);return ne<0?void 0:Z[ne][1]}function Pr(C){return Bn(this.__data__,C)>-1}function Ai(C,Z){var ne=this.__data__,ve=Bn(ne,C);return ve<0?(++this.size,ne.push([C,Z])):ne[ve][1]=Z,this}At.prototype.clear=ki,At.prototype.delete=Ct,At.prototype.get=Rr,At.prototype.has=Pr,At.prototype.set=Ai;function un(C){var Z=-1,ne=C==null?0:C.length;for(this.clear();++Z<ne;){var ve=C[Z];this.set(ve[0],ve[1])}}function Go(){this.size=0,this.__data__={hash:new mi,map:new(ea||At),string:new mi}}function ja(C){var Z=dn(this,C).delete(C);return this.size-=Z?1:0,Z}function Dr(C){return dn(this,C).get(C)}function Fo(C){return dn(this,C).has(C)}function is(C,Z){var ne=dn(this,C),ve=ne.size;return ne.set(C,Z),this.size+=ne.size==ve?0:1,this}un.prototype.clear=Go,un.prototype.delete=ja,un.prototype.get=Dr,un.prototype.has=Fo,un.prototype.set=is;function Ci(C){var Z=-1,ne=C==null?0:C.length;for(this.__data__=new un;++Z<ne;)this.add(C[Z])}function Wn(C){return this.__data__.set(C,o),this}function Ta(C){return this.__data__.has(C)}Ci.prototype.add=Ci.prototype.push=Wn,Ci.prototype.has=Ta;function cn(C){var Z=this.__data__=new At(C);this.size=Z.size}function Mi(){this.__data__=new At,this.size=0}function as(C){var Z=this.__data__,ne=Z.delete(C);return this.size=Z.size,ne}function Oi(C){return this.__data__.get(C)}function Xe(C){return this.__data__.has(C)}function ot(C,Z){var ne=this.__data__;if(ne instanceof At){var ve=ne.__data__;if(!ea||ve.length<s-1)return ve.push([C,Z]),this.size=++ne.size,this;ne=this.__data__=new un(ve)}return ne.set(C,Z),this.size=ne.size,this}cn.prototype.clear=Mi,cn.prototype.delete=as,cn.prototype.get=Oi,cn.prototype.has=Xe,cn.prototype.set=ot;function It(C,Z){var ne=Me(C),ve=!ne&&Ur(C),Qe=!ne&&!ve&&We(C),Ue=!ne&&!ve&&!Qe&&zi(C),it=ne||ve||Qe||Ue,Ne=it?Qa(C.length,String):[],vt=Ne.length;for(var qe in C)Tn.call(C,qe)&&!(it&&(qe=="length"||Qe&&(qe=="offset"||qe=="parent")||Ue&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||er(qe,vt)))&&Ne.push(qe);return Ne}function Bn(C,Z){for(var ne=C.length;ne--;)if(Jn(C[ne][0],Z))return ne;return-1}function aa(C,Z,ne){var ve=Z(C);return Me(C)?ve:Mr(ve,ne(C))}function Un(C){return C==null?C===void 0?be:I:hi&&hi in Object(C)?ss(C):oa(C)}function Be(C){return fn(C)&&Un(C)==v}function nt(C,Z,ne,ve,Qe){return C===Z?!0:C==null||Z==null||!fn(C)&&!fn(Z)?C!==C&&Z!==Z:Js(C,Z,ne,ve,nt,Qe)}function Js(C,Z,ne,ve,Qe,Ue){var it=Me(C),Ne=Me(Z),vt=it?y:yn(C),qe=Ne?y:yn(Z);vt=vt==v?H:vt,qe=qe==v?H:qe;var Mt=vt==H,xn=qe==H,Ut=vt==qe;if(Ut&&We(C)){if(!We(Z))return!1;it=!0,Mt=!1}if(Ut&&!Mt)return Ue||(Ue=new cn),it||zi(C)?Li(C,Z,ne,ve,Qe,Ue):vn(C,Z,vt,ne,ve,Qe,Ue);if(!(ne&c)){var Wt=Mt&&Tn.call(C,"__wrapped__"),Qt=xn&&Tn.call(Z,"__wrapped__");if(Wt||Qt){var ei=Wt?C.value():C,ti=Qt?Z.value():Z;return Ue||(Ue=new cn),Qe(ei,ti,ne,ve,Ue)}}return Ut?(Ue||(Ue=new cn),_t(C,Z,ne,ve,Qe,Ue)):!1}function Gt(C){if(!kn(C)||ra(C))return!1;var Z=la(C)?xa:de;return Z.test(hn(C))}function Xt(C){return fn(C)&&pi(C.length)&&!!he[Un(C)]}function Br(C){if(!Ea(C))return Ji(C);var Z=[];for(var ne in Object(C))Tn.call(C,ne)&&ne!="constructor"&&Z.push(ne);return Z}function Li(C,Z,ne,ve,Qe,Ue){var it=ne&c,Ne=C.length,vt=Z.length;if(Ne!=vt&&!(it&&vt>Ne))return!1;var qe=Ue.get(C);if(qe&&Ue.get(Z))return qe==Z;var Mt=-1,xn=!0,Ut=ne&d?new Ci:void 0;for(Ue.set(C,Z),Ue.set(Z,C);++Mt<Ne;){var Wt=C[Mt],Qt=Z[Mt];if(ve)var ei=it?ve(Qt,Wt,Mt,Z,C,Ue):ve(Wt,Qt,Mt,C,Z,Ue);if(ei!==void 0){if(ei)continue;xn=!1;break}if(Ut){if(!_n(Z,function(ti,Ri){if(!Ys(Ut,Ri)&&(Wt===ti||Qe(Wt,ti,ne,ve,Ue)))return Ut.push(Ri)})){xn=!1;break}}else if(!(Wt===Qt||Qe(Wt,Qt,ne,ve,Ue))){xn=!1;break}}return Ue.delete(C),Ue.delete(Z),xn}function vn(C,Z,ne,ve,Qe,Ue,it){switch(ne){case Ae:if(C.byteLength!=Z.byteLength||C.byteOffset!=Z.byteOffset)return!1;C=C.buffer,Z=Z.buffer;case Ee:return!(C.byteLength!=Z.byteLength||!Ue(new ba(C),new ba(Z)));case w:case j:case D:return Jn(+C,+Z);case k:return C.name==Z.name&&C.message==Z.message;case K:case xe:return C==Z+"";case z:var Ne=Lr;case oe:var vt=ve&c;if(Ne||(Ne=Ho),C.size!=Z.size&&!vt)return!1;var qe=it.get(C);if(qe)return qe==Z;ve|=d,it.set(C,Z);var Mt=Li(Ne(C),Ne(Z),ve,Qe,Ue,it);return it.delete(C),Mt;case Re:if(je)return je.call(C)==je.call(Z)}return!1}function _t(C,Z,ne,ve,Qe,Ue){var it=ne&c,Ne=Qn(C),vt=Ne.length,qe=Qn(Z),Mt=qe.length;if(vt!=Mt&&!it)return!1;for(var xn=vt;xn--;){var Ut=Ne[xn];if(!(it?Ut in Z:Tn.call(Z,Ut)))return!1}var Wt=Ue.get(C);if(Wt&&Ue.get(Z))return Wt==Z;var Qt=!0;Ue.set(C,Z),Ue.set(Z,C);for(var ei=it;++xn<vt;){Ut=Ne[xn];var ti=C[Ut],Ri=Z[Ut];if(ve)var os=it?ve(Ri,ti,Ut,Z,C,Ue):ve(ti,Ri,Ut,C,Z,Ue);if(!(os===void 0?ti===Ri||Qe(ti,Ri,ne,ve,Ue):os)){Qt=!1;break}ei||(ei=Ut=="constructor")}if(Qt&&!ei){var ls=C.constructor,Jt=Z.constructor;ls!=Jt&&"constructor"in C&&"constructor"in Z&&!(typeof ls=="function"&&ls instanceof ls&&typeof Jt=="function"&&Jt instanceof Jt)&&(Qt=!1)}return Ue.delete(C),Ue.delete(Z),Qt}function Qn(C){return aa(C,ua,sa)}function dn(C,Z){var ne=C.__data__;return rs(Z)?ne[typeof Z=="string"?"string":"hash"]:ne.map}function Zn(C,Z){var ne=Qi(C,Z);return Gt(ne)?ne:void 0}function ss(C){var Z=Tn.call(C,hi),ne=C[hi];try{C[hi]=void 0;var ve=!0}catch{}var Qe=zr.call(C);return ve&&(Z?C[hi]=ne:delete C[hi]),Qe}var sa=Ja?function(C){return C==null?[]:(C=Object(C),Cr(Ja(C),function(Z){return Dn.call(C,Z)}))}:bt,yn=Un;(Xs&&yn(new Xs(new ArrayBuffer(1)))!=Ae||ea&&yn(new ea)!=z||ts&&yn(ts.resolve())!=B||wa&&yn(new wa)!=oe||Sa&&yn(new Sa)!=fe)&&(yn=function(C){var Z=Un(C),ne=Z==H?C.constructor:void 0,ve=ne?hn(ne):"";if(ve)switch(ve){case Ws:return Ae;case fi:return z;case Bt:return B;case Kt:return oe;case na:return fe}return Z});function er(C,Z){return Z=Z??g,!!Z&&(typeof C=="number"||_e.test(C))&&C>-1&&C%1==0&&C<Z}function rs(C){var Z=typeof C;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?C!=="__proto__":C===null}function ra(C){return!!Ks&&Ks in C}function Ea(C){var Z=C&&C.constructor,ne=typeof Z=="function"&&Z.prototype||Rt;return C===ne}function oa(C){return zr.call(C)}function hn(C){if(C!=null){try{return Vt.call(C)}catch{}try{return C+""}catch{}}return""}function Jn(C,Z){return C===Z||C!==C&&Z!==Z}var Ur=Be(function(){return arguments}())?Be:function(C){return fn(C)&&Tn.call(C,"callee")&&!Dn.call(C,"callee")},Me=Array.isArray;function Nn(C){return C!=null&&pi(C.length)&&!la(C)}var We=es||Hn;function $n(C,Z){return nt(C,Z)}function la(C){if(!kn(C))return!1;var Z=Un(C);return Z==A||Z==M||Z==x||Z==J}function pi(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=g}function kn(C){var Z=typeof C;return C!=null&&(Z=="object"||Z=="function")}function fn(C){return C!=null&&typeof C=="object"}var zi=Wa?Or(Wa):Xt;function ua(C){return Nn(C)?It(C):Br(C)}function bt(){return[]}function Hn(){return!1}i.exports=$n}(Gl,Gl.exports)),Gl.exports}var DN=PN();const BN=Pc(DN);function UN(i,n,s){const[o,c]=N.useState([]),[d,g]=N.useState(!0),[v,y]=N.useState(null);return N.useEffect(()=>{let x=!0;return g(!0),y(null),V_.getLeagues().then(w=>{const j=w.find(k=>k.type===i);if(!j)throw new Error("League not found");return V_.getStandings(j.id,s)}).then(w=>{x&&!BN(w,o)&&c(w)}).catch(w=>{x&&y(w.message||"Failed to fetch standings")}).finally(()=>{x&&g(!1)}),()=>{x=!1}},[i,n,s,o]),{standings:o,loading:d,error:v}}function ZN(i){const[n,s]=N.useState({}),[o,c]=N.useState(!0),[d,g]=N.useState(null);return N.useEffect(()=>{if(i.length===0){s({}),c(!1),g(null);return}let v=!0;return c(!0),g(null),$N(i).then(y=>{v&&s(y)}).catch(y=>{v&&g(y.message||"Failed to fetch usernames")}).finally(()=>{v&&c(!1)}),()=>{v=!1}},[i]),{usernames:n,loading:o,error:d}}async function $N(i){const{supabase:n}=await Zo(async()=>{const{supabase:d}=await Promise.resolve().then(()=>p1);return{supabase:d}},void 0),{data:s,error:o}=await n.from("users").select("id, username").in("id",i);if(o)throw o;const c={};for(const d of s??[])c[d.id]=d.username;return c}async function HN(){const{data:i,error:n}=await le.from("seasons").select("id, name").eq("is_active",!0).order("start_date",{ascending:!1}).limit(1).single();if(n)throw n;return i}function qN(){const[i,n]=N.useState(null),[s,o]=N.useState(!0),[c,d]=N.useState(null);return N.useEffect(()=>{o(!0),HN().then(g=>{n(g),d(null)}).catch(g=>{d(g.message||"Failed to fetch current season"),n(null)}).finally(()=>o(!1))},[]),{season:i,loading:s,error:c}}const IN=[{value:"pro",label:"Pro"},{value:"2a",label:"Regional 2A"},{value:"2b",label:"Regional 2B"},{value:"international",label:"International"}],GN=[{value:"all",label:"All Pigeons"},{value:"u1",label:"Under 1 Year"}],FN=()=>{const{user:i}=Kn(),n=i?.id||"",{season:s,loading:o,error:c}=qN(),[d,g]=N.useState("2a"),[v,y]=N.useState("all"),{standings:x,loading:w,error:j}=UN(d,v,s?.id||""),k=N.useMemo(()=>{const z=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;return x.map(D=>D.user_id).filter(D=>z.test(D))},[x]),{usernames:A,loading:M}=ZN(k);return o?h.jsx("div",{children:"Loading season..."}):c?h.jsxs("div",{children:["Error: ",c]}):s?h.jsxs("div",{children:[h.jsx("h1",{children:"Competition Standings"}),h.jsxs("div",{style:{display:"flex",gap:16,marginBottom:16},children:[h.jsxs("label",{children:["League:",h.jsx("select",{value:d,onChange:z=>g(z.target.value),"aria-label":"Select league",children:IN.map(z=>h.jsx("option",{value:z.value,children:z.label},z.value))})]}),h.jsxs("label",{children:["Category:",h.jsx("select",{value:v,onChange:z=>y(z.target.value),"aria-label":"Select race category",children:GN.map(z=>h.jsx("option",{value:z.value,children:z.label},z.value))})]})]}),w?h.jsx("div",{children:"Loading standings..."}):j?h.jsxs("div",{style:{color:"red"},children:["Error: ",j]}):h.jsxs("table",{"aria-label":"League standings",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Position"}),h.jsx("th",{children:"Player"}),h.jsx("th",{children:"Points"}),h.jsx("th",{children:"Tiebreaker"})]})}),h.jsx("tbody",{children:x.map(z=>{const D=z.user_id===n;return h.jsxs("tr",{style:D?{background:"#e0f7fa",fontWeight:"bold",color:"#00796b"}:void 0,children:[h.jsx("td",{children:z.position??"-"}),h.jsx("td",{children:M?"...":A[z.user_id]||z.user_id}),h.jsx("td",{children:z.points}),h.jsx("td",{children:z.tiebreaker_points})]},z.user_id)})})]})]}):h.jsx("div",{children:"No active season found."})},yy="pk.f8e9af45381cb7f22c834b18e4501b47",YN="https://us1.locationiq.com/v1/autocomplete";async function VN(i,n){if(!i||!n)return[];const s=`${YN}?key=${yy}&q=${encodeURIComponent(i+" "+n)}&countrycodes=be&limit=5&dedupe=1&normalizeaddress=1&format=json`,o=await fetch(s);if(!o.ok)throw new Error("LocationIQ error: "+o.statusText);return(await o.json()).map(d=>{let g=d.address.house_number||"";if(!g){const v=d.display_name.match(/\b(\d+[a-zA-Z]?)\b/);v&&(g=v[1])}return{geometry:{coordinates:[parseFloat(d.lon),parseFloat(d.lat)]},properties:{name:d.display_name,street:d.address.road||"",housenumber:g,city:d.address.city||d.address.town||d.address.village||"",postcode:d.address.postcode||"",country:d.address.country||"",suburb:d.address.suburb||"",locality:d.address.suburb||"",place_id:d.place_id}}})}async function X_(i,n,s){if(!i||!s||!n)return null;const o=`${i} ${n}, ${s}, Belgium`,c=`https://us1.locationiq.com/v1/search?key=${yy}&q=${encodeURIComponent(o)}&countrycodes=be&format=json&limit=1`,d=await fetch(c);if(!d.ok)return null;const g=await d.json();if(!g||!g[0])return null;const v=g[0].address||{};return{geometry:{coordinates:[parseFloat(g[0].lon),parseFloat(g[0].lat)]},properties:{name:g[0].display_name,street:v.road||i,housenumber:v.house_number||n,city:v.city||v.town||v.village||s,postcode:v.postcode||"",country:v.country||"",suburb:v.suburb||"",locality:v.suburb||"",place_id:g[0].place_id}}}const KN=({city:i,onSelect:n,label:s})=>{const[o,c]=N.useState(""),[d,g]=N.useState([]),[v,y]=N.useState(!1),[x,w]=N.useState(null),[j,k]=N.useState(!1);N.useEffect(()=>{if(!o||!i){g([]),w(null);return}const M=setTimeout(()=>{y(!0),VN(o,i).then(z=>{g(z),w(null)}).catch(z=>w("LocationIQ error: "+z.message)).finally(()=>y(!1))},300);return()=>clearTimeout(M)},[o,i]);const A=M=>{c(M.properties.name),k(!1),n(M)};return h.jsxs("div",{style:{position:"relative",width:"100%"},children:[s&&h.jsx("label",{htmlFor:"address-autocomplete-input",style:{display:"block",fontWeight:500},children:s}),h.jsx("input",{id:"address-autocomplete-input",type:"text",value:o,onChange:M=>{c(M.target.value),k(!0)},autoComplete:"off","aria-autocomplete":"list","aria-controls":"address-autocomplete-list","aria-expanded":j&&d.length>0,"aria-activedescendant":void 0,placeholder:"Type your address...",style:{width:"100%",padding:"8px",fontSize:"1rem"},onBlur:()=>setTimeout(()=>k(!1),100),onFocus:()=>o&&k(!0)}),v&&h.jsx("div",{style:{fontSize:"0.9rem",color:"#888"},children:"Loading..."}),x&&h.jsx("div",{style:{color:"red",fontSize:"0.9rem"},children:x}),j&&d.length>0&&h.jsx("ul",{id:"address-autocomplete-list",role:"listbox",style:{position:"absolute",zIndex:10,background:"#fff",border:"1px solid #ccc",width:"100%",maxHeight:200,overflowY:"auto",margin:0,padding:0,listStyle:"none"},children:d.map((M,z)=>{const{name:D,postcode:I,city:H,suburb:B,locality:J}=M.properties,K=J||B;return h.jsxs("li",{role:"option",tabIndex:-1,"aria-selected":!1,style:{padding:"8px",cursor:"pointer"},onMouseDown:oe=>{oe.preventDefault(),A(M)},children:[h.jsxs("span",{style:{fontWeight:600},children:[D,I&&`, ${I}`]}),K&&h.jsxs("span",{style:{color:"#2563eb",fontWeight:600},children:["  ",K]}),H&&(!K||H.toLowerCase()!==K.toLowerCase())&&h.jsxs("span",{style:{color:"#888",marginLeft:4},children:["(",H,")"]})]},D+z)})})]})},W_={Mendonk:{lat:51.105,lng:3.765},"Sint-Kruis-Winkel":{lat:51.11,lng:3.825},Wachtebeke:{lat:51.15,lng:3.9}},XN=14,WN=()=>{const i=Uo(),{user:n}=Kn(),[s,o]=N.useState(""),[c,d]=N.useState(null),[g,v]=N.useState(void 0),[y,x]=N.useState(!1),[w,j]=N.useState(""),[k,A]=N.useState(void 0),[M,z]=N.useState(null);if(yt.useEffect(()=>{n&&c&&c.properties.housenumber&&j(c.properties.housenumber)},[c,n]),yt.useEffect(()=>{n&&z(c?{lat:c.geometry.coordinates[1],lng:c.geometry.coordinates[0]}:s?W_[s]:null)},[c,s,n]),yt.useEffect(()=>{if(!n)return;let I=!1;if(!(c&&w&&s))return;async function B(){const J=await X_(c.properties.street||c.properties.name,w,s);J&&!I&&z({lat:J.geometry.coordinates[1],lng:J.geometry.coordinates[0]})}return B(),()=>{I=!0}},[w,c,s,n]),!n)return i("/login"),null;async function D(I){if(I.preventDefault(),!n||!s||!c){v("Please select a city and address.");return}if(!w){v("Please enter your house number.");return}try{const H=await X_(c.properties.street||c.properties.name,w,s);if(!H){v("Could not find coordinates for this address. Please check your input.");return}H.properties.housenumber?A(void 0):A("Warning: The geocoder could not confirm your house number. Your marker may be approximate."),await zf.createHomeBase({user_id:n.id,city:s,street:H.properties.street,number:w,lat:H.geometry.coordinates[1],lng:H.geometry.coordinates[0]}),v(void 0),x(!0),setTimeout(()=>i("/"),2e3)}catch(H){v(H.message)}}return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsxs("div",{children:[h.jsxs("div",{style:{background:"#ffeeba",color:"#856404",padding:8,borderRadius:4,marginBottom:8},children:["[DEBUG] Onboarding form rendering. User: ",n?n.id:"none"," | Success: ",String(y)]}),h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Choose Your Home Base"}),h.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Select your permanent home base location. This cannot be changed later."})]}),y&&h.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-4 py-3 rounded-md text-center font-semibold relative",children:[" Home base set successfully! Redirecting to your homepage...",h.jsx("button",{onClick:()=>i("/"),className:"absolute top-2 right-2 text-green-800 hover:text-green-600 text-xl font-bold","aria-label":"Close",children:""})]}),h.jsxs("form",{onSubmit:D,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"city-select",className:"block text-sm font-medium text-gray-700",children:"City"}),h.jsxs("select",{id:"city-select",value:s,onChange:I=>{o(I.target.value),d(null),j("")},className:"form-input w-full",children:[h.jsx("option",{value:"",children:"Select a city"}),Object.keys(W_).map(I=>h.jsx("option",{value:I,children:I},I))]})]}),h.jsx("div",{children:h.jsx(KN,{city:s,onSelect:d,label:"Address"},s)}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"house-number-input",className:"block text-sm font-medium text-gray-700",children:"House Number"}),h.jsx("input",{id:"house-number-input",type:"text",value:w,onChange:I=>j(I.target.value),className:"form-input w-full",placeholder:"e.g. 90"})]}),h.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:y,children:"Set Home Base"})]}),k&&h.jsx("div",{className:"text-yellow-700 text-sm mt-2",role:"alert",children:k}),g&&h.jsx("div",{className:"text-red-600 text-sm mt-2",role:"alert","data-testid":"onboarding-error",children:g}),h.jsx("div",{className:"mt-6",children:h.jsxs(gy,{center:M||{lat:51.12,lng:3.8},zoom:XN,style:{height:300,width:"100%",borderRadius:12},scrollWheelZoom:!1,children:[h.jsx(py,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),M&&h.jsx(df,{position:M,icon:cf.icon({iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41]}),children:h.jsxs(hf,{children:[c?.properties.name,c?.properties.postcode&&`, ${c?.properties.postcode}`,c?.properties.city&&`, ${c?.properties.city}`,w&&h.jsxs("div",{children:["House number: ",w]})]})})]},s+(c?.properties.name||"")+w)})]})})},Ii=({children:i})=>{const{user:n,loading:s}=Kn();return s?h.jsx(Ar,{}):n?h.jsx(h.Fragment,{children:i}):h.jsx(lv,{to:"/login",replace:!0})},QN=()=>{const{loading:i,user:n}=Kn();return console.log("AppContent - user:",!!n,"loading:",i,"current URL:",window.location.pathname),i?(console.log("AppContent - showing loading spinner"),h.jsx(Ar,{})):(console.log("AppContent - rendering routes"),h.jsxs(Lx,{children:[h.jsx(Rn,{path:"/login",element:h.jsx(pE,{})}),h.jsx(Rn,{path:"/onboarding/home-base",element:h.jsx(WN,{})}),h.jsx(Rn,{path:"/",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(VE,{})})})}),h.jsx(Rn,{path:"/pigeons",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(fN,{})})})}),h.jsx(Rn,{path:"/breeding",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(mN,{})})})}),h.jsx(Rn,{path:"/racing",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(pN,{})})})}),h.jsx(Rn,{path:"/maintenance",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(TN,{})})})}),h.jsx(Rn,{path:"/market",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(EN,{})})})}),h.jsx(Rn,{path:"/food-shop",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(vy,{})})})}),h.jsx(Rn,{path:"/feeding-center",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(LN,{})})})}),h.jsx(Rn,{path:"/competition",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(FN,{})})})}),h.jsx(Rn,{path:"/admin",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(kN,{})})})}),h.jsx(Rn,{path:"/component-library",element:h.jsx(Ii,{children:h.jsx(qi,{children:h.jsx(CN,{})})})}),h.jsx(Rn,{path:"*",element:h.jsx(lv,{to:"/",replace:!0})})]}))};function JN(){return console.log("App component rendering"),h.jsx(nb,{children:h.jsx(dT,{children:h.jsx(QN,{})})})}q0.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(JN,{})}));
//# sourceMappingURL=index-CrirnnUO.js.map
